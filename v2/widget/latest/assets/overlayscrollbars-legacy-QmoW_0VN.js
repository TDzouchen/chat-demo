!function(){var e=["severityNumber","severityText"],t=["_meta"],n=["sid","tid","enableRTL","hasName","hasAvatar","hasTimestamp","status","avatarUrl","avatarType","avatarVerticalAlign","formattedTime","participantName","alignment","linkProtocol","linkTarget","isLastMessage","isInSeries","onButtonClick","onResend","onMediaSourceError","errorMessageText","onMessageError","onMediaLoadedData"],r=["forwardedRef","children","onClick","disabled","className"],u=["element","options","events","defer","children"];function a(e){var t="function"==typeof Map?new Map:void 0;return a=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(s())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var u=new(e.bind.apply(e,r));return n&&p(u,n.prototype),u}(e,arguments,d(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),p(n,e)},a(e)}function i(e,t){if(null==e)return{};var n,r,u=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(u[n]=e[n])}return u}function o(e,t,n){return t=d(t),function(e,t){if(t&&("object"==v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,s()?Reflect.construct(t,n||[],d(e).constructor):t.apply(e,n))}function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(s=function(){return!!e})()}function c(e,t,n,r){var u=l(d(1&r?e.prototype:e),t,n);return 2&r?function(e){return u.apply(n,e)}:u}function l(){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(r){var u=Object.getOwnPropertyDescriptor(r,t);return u.get?u.get.call(arguments.length<3?e:n):u.value}},l.apply(null,arguments)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,u,a,i,o=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(o.push(r.value),o.length!==t);s=!0);}catch(e){c=!0,u=e}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw u}}return o}}(e,t)||k(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */m=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,u=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof D?t:D,i=Object.create(a.prototype),o=new T(r||[]);return u(i,"_invoke",{value:k(e,n,o)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var f="suspendedStart",p="suspendedYield",h="executing",g="completed",_={};function D(){}function b(){}function y(){}var C={};c(C,i,(function(){return this}));var E=Object.getPrototypeOf,A=E&&E(E(O([])));A&&A!==n&&r.call(A,i)&&(C=A);var F=y.prototype=D.prototype=Object.create(C);function x(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(u,a,i,o){var s=d(e[u],e,a);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==v(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,i,o)}),(function(e){n("throw",e,i,o)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,o)}))}o(s.arg)}var a;u(this,"_invoke",{value:function(e,r){function u(){return new t((function(t,u){n(e,r,t,u)}))}return a=a?a.then(u,u):u()}})}function k(t,n,r){var u=f;return function(a,i){if(u===h)throw Error("Generator is already running");if(u===g){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var o=r.delegate;if(o){var s=B(o,r);if(s){if(s===_)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(u===f)throw u=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);u=h;var c=d(t,n,r);if("normal"===c.type){if(u=r.done?g:p,c.arg===_)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(u=g,r.method="throw",r.arg=c.arg)}}}function B(t,n){var r=n.method,u=t.iterator[r];if(u===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,B(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),_;var a=d(u,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,_;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,_):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,_)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function O(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var u=-1,a=function n(){for(;++u<t.length;)if(r.call(t,u))return n.value=t[u],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(v(t)+" is not iterable")}return b.prototype=y,u(F,"constructor",{value:y,configurable:!0}),u(y,"constructor",{value:b,configurable:!0}),b.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(F),e},t.awrap=function(e){return{__await:e}},x(w.prototype),c(w.prototype,o,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,u,a){void 0===a&&(a=Promise);var i=new w(l(e,n,r,u),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(F),c(F,s,"Generator"),c(F,i,(function(){return this})),c(F,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(S),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function u(r,u){return o.type="throw",o.arg=t,n.next=r,u&&(n.method="next",n.arg=e),!!u}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return u("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return u(i.catchLoc,!0);if(this.prev<i.finallyLoc)return u(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return u(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return u(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var u=this.tryEntries[n];if(u.tryLoc<=this.prev&&r.call(u,"finallyLoc")&&this.prev<u.finallyLoc){var a=u;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,_):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),_},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),_}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var u=r.arg;S(n)}return u}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:O(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),_}},t}function g(e,t,n,r,u,a,i){try{var o=e[a](i),s=o.value}catch(e){return void n(e)}o.done?t(s):Promise.resolve(s).then(r,u)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,u){var a=e.apply(t,n);function i(e){g(a,r,u,i,o,"next",e)}function o(e){g(a,r,u,i,o,"throw",e)}i(void 0)}))}}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,F(r.key),r)}}function y(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return(t=F(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e){var t=function(e,t){if("object"!=v(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==v(t)?t:t+""}function x(e){return function(e){if(Array.isArray(e))return B(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||k(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=k(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,u=function(){};return{s:u,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){o=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(o)throw a}}}}function k(e,t){if(e){if("string"==typeof e)return B(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(e,t):void 0}}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}
/*!
* Talkdesk Confidential
*
* Copyright (C) Talkdesk Inc. 2024
*
* The source code for this program is not published or otherwise divested
* of its trade secrets, irrespective of what has been deposited with the
* U.S. Copyright Office. Unauthorized copying of this file, via any medium
* is strictly prohibited.
*/System.register(["./main-vendor-legacy-qgJC7JP4.js","./reporter-vendor-legacy-D6bDuF2G.js"],(function(s,l){"use strict";var d,p,g,b,C,F,k,B,j,S,T,O,N,I,L,P,M,R,z,Z,U,V,H,q,W,Y,G,$,K,J,Q,X,ee,te;return{setters:[function(e){d=e.i,p=e.d,g=e.c,b=e.g,C=e.E,F=e.a,k=e.e,B=e.s,j=e.p,S=e.r,T=e.j,O=e.f,N=e.R,I=e.u,L=e.h,P=e.k,M=e.l,R=e.m,z=e.L,Z=e.n,U=e.C},function(e){V=e.O,H=e.a,q=e.R,W=e.S,Y=e.L,G=e.b,$=e.l,K=e.W,J=e.c,Q=e.Z,X=e.t,ee=e.d,te=e.e}],execute:function(){var ne,re=document.createElement("style");re.textContent='._AvatarBox_15kim_11{display:flex;justify-content:center;align-items:center;width:var(--bot-icon-width, 24px);height:var(--bot-icon-height, 24px);border-radius:50%;background-color:var(--avatar-background-color, #e9e9e9);overflow:hidden}._AvatarBox_15kim_11 svg{width:100%;height:100%}._systemBubble_b47m5_11,._bubble_b47m5_11 ._messageContainer_b47m5_11 ._message_b47m5_11._error_b47m5_11,._bubble_b47m5_11 ._messageContainer_b47m5_11 ._message_b47m5_11._loading_b47m5_11,._bubble_b47m5_11 ._messageContainer_b47m5_11 ._message_b47m5_11._rounded_b47m5_11,._bubble_b47m5_11 ._messageContainer_b47m5_11 ._message_b47m5_11._normal_b47m5_11{font-size:14px!important;line-height:20px;min-height:20px}._bubble_b47m5_11 ._messageContainer_b47m5_11 ._message_b47m5_11._error_b47m5_11,._bubble_b47m5_11 ._messageContainer_b47m5_11 ._message_b47m5_11._loading_b47m5_11,._bubble_b47m5_11 ._messageContainer_b47m5_11 ._message_b47m5_11._rounded_b47m5_11,._bubble_b47m5_11 ._messageContainer_b47m5_11 ._message_b47m5_11._normal_b47m5_11{box-shadow:0 2px 4px rgba(0,0,0,.04),0 4px 8px rgba(0,0,0,.02)}._bubble_b47m5_11 ._messageContainer_b47m5_11 ._message_b47m5_11._transparent_b47m5_21,._bubble_b47m5_11 ._messageContainer_b47m5_11 ._message_b47m5_11._rounded_b47m5_11{border-radius:12px}._bubble_b47m5_11{display:grid;margin-top:20px;margin-left:20px;margin-right:20px}._bubble_b47m5_11 ._avatar_b47m5_31{grid-area:avatar}._bubble_b47m5_11 ._messageContainer_b47m5_11{display:grid;grid-area:messageContainer;grid-template-areas:"status message";align-items:center}._bubble_b47m5_11 ._messageContainer_b47m5_11 ._message_b47m5_11{grid-area:message;border:none}._bubble_b47m5_11 ._messageContainer_b47m5_11 ._message_b47m5_11._normal_b47m5_11,._bubble_b47m5_11 ._messageContainer_b47m5_11 ._message_b47m5_11._rounded_b47m5_11{max-width:100%;padding:12px}._bubble_b47m5_11 ._messageContainer_b47m5_11 ._message_b47m5_11._transparent_b47m5_21{max-width:100%;font-size:0;background-color:transparent}._bubble_b47m5_11 ._messageContainer_b47m5_11 ._message_b47m5_11._relative_b47m5_57{position:relative;width:calc(100vw - var(--bot-icon-width, 24px) - 52px);border-radius:12px}._bubble_b47m5_11 ._messageContainer_b47m5_11 ._message_b47m5_11._error_b47m5_11,._bubble_b47m5_11 ._messageContainer_b47m5_11 ._message_b47m5_11._loading_b47m5_11{width:100%;padding:12px}._bubble_b47m5_11 ._messageContainer_b47m5_11 ._status_b47m5_66{grid-area:status;align-self:center;line-height:0}._bubble_b47m5_11 ._nameAndTimestamp_b47m5_71{display:grid;grid-area:nameAndTimestamp;grid-template-areas:"name divide timestamp";align-items:center;max-width:150px;margin-top:4px;color:#8c8c8c}._bubble_b47m5_11 ._nameAndTimestamp_b47m5_71 ._name_b47m5_71{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}._bubble_b47m5_11 ._nameAndTimestamp_b47m5_71 ._divide_b47m5_85{margin:0 4px;text-align:center;color:#8c8c8c}._bubble_b47m5_11 ._nameAndTimestamp_b47m5_71 ._divide_b47m5_85>span{font-size:12px;line-height:normal}._bubble_b47m5_11 ._nameAndTimestamp_b47m5_71 ._timestamp_b47m5_94{text-align:right}._bubble_b47m5_11._received_b47m5_97{grid-template-columns:minmax(var(--bot-icon-width, 24px),min-content) fit-content(75%);grid-template-areas:"avatar messageContainer" ". nameAndTimestamp";justify-items:start;justify-content:start;-moz-column-gap:12px;column-gap:12px}._bubble_b47m5_11._sent_b47m5_104{grid-template-columns:min-content fit-content(75%);grid-template-rows:auto auto;grid-template-areas:". messageContainer" ". nameAndTimestamp";justify-items:end;justify-content:end}._bubble_b47m5_11._sent_b47m5_104 ._messageContainer_b47m5_11{-moz-column-gap:4px;column-gap:4px;justify-items:end;justify-content:end}._bubble_b47m5_11._inSeries_b47m5_116{margin-top:12px}._bubble_b47m5_11._lastMessage_b47m5_119{margin-bottom:20px}._systemBubble_b47m5_11{max-width:100%;margin:20px 0}._systemBubble_b47m5_11 ._message_b47m5_11{max-width:75%;text-align:center;margin:0 auto}._bubble_b47m5_11._received_b47m5_97 a{color:var(--bot-anchor-text-color, #1f1f1f)}._bubble_b47m5_11._received_b47m5_97 a:visited{color:var(--bot-anchor-text-color-visited, #1f1f1f)}._bubble_b47m5_11._received_b47m5_97 ._message_b47m5_11._normal_b47m5_11,._bubble_b47m5_11._received_b47m5_97 ._message_b47m5_11._rounded_b47m5_11,._bubble_b47m5_11._received_b47m5_97 ._message_b47m5_11._loading_b47m5_11,._bubble_b47m5_11._received_b47m5_97 ._message_b47m5_11._error_b47m5_11{color:var(--bot-text-color, #1f1f1f);background-color:var(--bot-background-color, #ffffff)}._bubble_b47m5_11._received_b47m5_97 ._message_b47m5_11._normal_b47m5_11 svg>path,._bubble_b47m5_11._received_b47m5_97 ._message_b47m5_11._rounded_b47m5_11 svg>path,._bubble_b47m5_11._received_b47m5_97 ._message_b47m5_11._loading_b47m5_11 svg>path,._bubble_b47m5_11._received_b47m5_97 ._message_b47m5_11._error_b47m5_11 svg>path{fill:var(--bot-text-color, #1f1f1f)}._bubble_b47m5_11._received_b47m5_97 ._message_b47m5_11._normal_b47m5_11 button[aria-label=file],._bubble_b47m5_11._received_b47m5_97 ._message_b47m5_11._rounded_b47m5_11 button[aria-label=file],._bubble_b47m5_11._received_b47m5_97 ._message_b47m5_11._loading_b47m5_11 button[aria-label=file],._bubble_b47m5_11._received_b47m5_97 ._message_b47m5_11._error_b47m5_11 button[aria-label=file]{color:var(--bot-anchor-text-color, #1f1f1f)}._bubble_b47m5_11._received_b47m5_97 ._message_b47m5_11._normal_b47m5_11 button[aria-label=file] svg>path,._bubble_b47m5_11._received_b47m5_97 ._message_b47m5_11._rounded_b47m5_11 button[aria-label=file] svg>path,._bubble_b47m5_11._received_b47m5_97 ._message_b47m5_11._loading_b47m5_11 button[aria-label=file] svg>path,._bubble_b47m5_11._received_b47m5_97 ._message_b47m5_11._error_b47m5_11 button[aria-label=file] svg>path{fill:var(--bot-anchor-text-color, #1f1f1f)}html[data-layout-direction=rtl] ._bubble_b47m5_11._sent_b47m5_104 ._message_b47m5_11._normal_b47m5_11,._bubble_b47m5_11._received_b47m5_97 ._message_b47m5_11._normal_b47m5_11,html[data-layout-direction=rtl] ._bubble_b47m5_11._sent_b47m5_104 ._message_b47m5_11._loading_b47m5_11,._bubble_b47m5_11._received_b47m5_97 ._message_b47m5_11._loading_b47m5_11,html[data-layout-direction=rtl] ._bubble_b47m5_11._sent_b47m5_104 ._message_b47m5_11._error_b47m5_11,._bubble_b47m5_11._received_b47m5_97 ._message_b47m5_11._error_b47m5_11{border-radius:0 12px 12px}._bubble_b47m5_11._sent_b47m5_104 a{color:var(--user-anchor-text-color, #ffffff)}._bubble_b47m5_11._sent_b47m5_104 a:visited{color:var(--user-anchor-text-color-visited, #ffffff)}._bubble_b47m5_11._sent_b47m5_104 ._message_b47m5_11._normal_b47m5_11,._bubble_b47m5_11._sent_b47m5_104 ._message_b47m5_11._rounded_b47m5_11,._bubble_b47m5_11._sent_b47m5_104 ._message_b47m5_11._loading_b47m5_11,._bubble_b47m5_11._sent_b47m5_104 ._message_b47m5_11._error_b47m5_11{color:var(--user-text-color, #ffffff);background-color:var(--user-background-color, #1f1f1f)}._bubble_b47m5_11._sent_b47m5_104 ._message_b47m5_11._normal_b47m5_11 svg>path,._bubble_b47m5_11._sent_b47m5_104 ._message_b47m5_11._rounded_b47m5_11 svg>path,._bubble_b47m5_11._sent_b47m5_104 ._message_b47m5_11._loading_b47m5_11 svg>path,._bubble_b47m5_11._sent_b47m5_104 ._message_b47m5_11._error_b47m5_11 svg>path{fill:var(--user-text-color, #ffffff)}._bubble_b47m5_11._sent_b47m5_104 ._message_b47m5_11._normal_b47m5_11 button[aria-label=file],._bubble_b47m5_11._sent_b47m5_104 ._message_b47m5_11._rounded_b47m5_11 button[aria-label=file],._bubble_b47m5_11._sent_b47m5_104 ._message_b47m5_11._loading_b47m5_11 button[aria-label=file],._bubble_b47m5_11._sent_b47m5_104 ._message_b47m5_11._error_b47m5_11 button[aria-label=file]{color:var(--user-anchor-text-color, #ffffff)}._bubble_b47m5_11._sent_b47m5_104 ._message_b47m5_11._normal_b47m5_11 button[aria-label=file] svg>path,._bubble_b47m5_11._sent_b47m5_104 ._message_b47m5_11._rounded_b47m5_11 button[aria-label=file] svg>path,._bubble_b47m5_11._sent_b47m5_104 ._message_b47m5_11._loading_b47m5_11 button[aria-label=file] svg>path,._bubble_b47m5_11._sent_b47m5_104 ._message_b47m5_11._error_b47m5_11 button[aria-label=file] svg>path{fill:var(--user-anchor-text-color, #ffffff)}html[data-layout-direction=rtl] ._bubble_b47m5_11._received_b47m5_97 ._message_b47m5_11._normal_b47m5_11,._bubble_b47m5_11._sent_b47m5_104 ._message_b47m5_11._normal_b47m5_11,html[data-layout-direction=rtl] ._bubble_b47m5_11._received_b47m5_97 ._message_b47m5_11._loading_b47m5_11,._bubble_b47m5_11._sent_b47m5_104 ._message_b47m5_11._loading_b47m5_11,html[data-layout-direction=rtl] ._bubble_b47m5_11._received_b47m5_97 ._message_b47m5_11._error_b47m5_11,._bubble_b47m5_11._sent_b47m5_104 ._message_b47m5_11._error_b47m5_11{border-radius:12px 0 12px 12px}@media only screen and (min-width: 360.02px){._bubble_b47m5_11 ._relative_b47m5_57{width:calc(360px - var(--bot-icon-width, 24px) - 40px)}}._spinner_tzosf_11{display:inline-block;vertical-align:middle;width:20px;height:20px;border:2px solid #e9e9e9;border-bottom-color:var(--loading-color, #bfbfbf);border-radius:50%;box-sizing:border-box;animation:_rotation_tzosf_1 1s linear infinite}._tiny_tzosf_23{width:16px;height:16px}._small_tzosf_28{width:20px;height:20px}._medium_tzosf_33{width:24px;height:24px}@keyframes _rotation_tzosf_1{0%{transform:rotate(0)}to{transform:rotate(360deg)}}._bottom_zl3d8_6{align-self:flex-end}._timestamp_zl3d8_10,._name_zl3d8_11{font-size:12px;color:#8c8c8c;line-height:normal}._small_1ri7f_6{width:20px;height:20px}._medium_1ri7f_11{width:28px;height:28px}._large_1ri7f_16{width:36px;height:36px}._fail_1ri7f_21{margin:0;padding:0;border-style:none;background:none;font-size:0;cursor:pointer}._buttonsText_1x53l_11{display:inline-block;margin-bottom:12px;line-height:1.43em}._container_1x53l_17{display:flex;flex-direction:column;gap:8px}._button_1x53l_11{color:var(--button-text-color, #1f1f1f);background-color:var(--button-background-color, #e9e9e9);border-radius:8px;display:block;height:auto;padding:8px 12px;text-align:center;font-family:inherit;overflow:hidden;font-size:14px;font-weight:600;transition:background-color .2s ease-in-out;border:none;cursor:pointer;overflow-wrap:anywhere;white-space:pre-line}._button_1x53l_11:hover{color:var(--button-hover-text-color, #1f1f1f);background-color:var(--button-hover-background-color, #f8f8f8)}._system-message_xyb9s_6{width:100%;text-align:center;font-size:12px;line-height:1.34em;color:#8c8c8c}@keyframes _blink_11a6b_1{50%{opacity:1}}._loading_11a6b_11 span{display:inline-block;width:6px;height:6px;background-color:#8c8c8c;border-radius:50%;opacity:.4}._loading_11a6b_11 span:nth-of-type(2){margin:0 4px}._loading_11a6b_11 span:nth-child(1){animation:_blink_11a6b_1 1s infinite .1s}._loading_11a6b_11 span:nth-child(2){animation:_blink_11a6b_1 1s infinite .2s}._loading_11a6b_11 span:nth-child(3){animation:_blink_11a6b_1 1s infinite .3s}._error_2hw0o_11{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%;gap:32px}._message_2hw0o_20{padding:0 24px;color:#202830;font-size:16px;text-align:center}._retry_2hw0o_27{padding:8px 16px;border-radius:8px;border:1px solid transparent;font-size:14px;font-family:inherit;background-color:#f9f9f9;cursor:pointer;transition:border-color .25s}._dropdown-wrapper_rc6w0_19{position:relative;display:flex}._dropdown-input_rc6w0_24{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;cursor:pointer;padding:0 8px;position:relative;display:flex;justify-content:space-between;align-items:center;width:100%;min-width:150px;height:32px;line-height:32px;font-size:14px;color:#1f1f1f;border:1px solid #bfbfbf;background-color:#fff;border-radius:4px;transition:border .2s ease;text-align:left;touch-action:manipulation}._dropdown-input_rc6w0_24:hover{border-color:#8c8c8c}._dropdown-input_rc6w0_24[data-focus=true]{border-color:#000;box-shadow:0 0 0 1px #e9e9e9}._dropdown-input-placeholder_rc6w0_54{color:#8c8c8c}._dropdown-input-arrow_rc6w0_57{transform:rotate(90deg);transition:transform .2s ease}._dropdown-input_rc6w0_24[data-focus=true] ._dropdown-input-arrow_rc6w0_57{transform:rotate(-90deg)}._dropdown-popup_rc6w0_65{position:absolute;z-index:10000;height:0;margin-top:12px;background-color:#fff;color:var(--chat-theme-color, #1f1f1f);box-shadow:0 12px 12px rgba(0,0,0,.02),0 8px 8px rgba(0,0,0,.02),0 4px 4px rgba(0,0,0,.04);border-radius:8px;visibility:hidden;opacity:0;transition:all .1s ease-in-out}._dropdown-popup-visible_rc6w0_78{opacity:1;visibility:visible;height:auto}._dropdown-content_rc6w0_84{padding:4px;display:flex;flex-grow:1;flex-shrink:0;min-width:150px;max-height:250px;margin:0;background-color:#fff;border-radius:8px;list-style:none;flex-flow:column nowrap;overflow:auto}._dropdown-content-item_rc6w0_99{cursor:pointer;flex:1;transition-property:background-color,color;transition-duration:.2s;transition-timing-function:ease;white-space:nowrap;font-size:14px}._dropdown-content-item_rc6w0_99 button{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;padding:0 12px;display:flex;justify-content:flex-start;align-items:center;width:100%;text-align:left;height:32px;line-height:32px;font-size:14px;color:#1f1f1f;gap:4px}._dropdown-content-item_rc6w0_99:hover,._dropdown-content-item_rc6w0_99:focus{border-radius:4px;background-color:#f8f8f8}._dropdown-content-item_rc6w0_99:hover button,._dropdown-content-item_rc6w0_99:hover svg>path,._dropdown-content-item_rc6w0_99:focus button,._dropdown-content-item_rc6w0_99:focus svg>path{color:var(--chat-theme-color, #1f1f1f);fill:var(--chat-theme-color, #1f1f1f)}._dropdown-content-item_rc6w0_99:active{color:var(--chat-theme-color, #1f1f1f);background-color:#f8f8f8;border-radius:4px}._dropdown-content-item_rc6w0_99[data-disabled=true]{opacity:.4;pointer-events:none}._dropdown-content-item_rc6w0_99[data-disabled=true]>*{cursor:not-allowed}._dropdown-content-item_rc6w0_99[data-active=true]{background-color:#f8f8f8;color:var(--chat-theme-color, #1f1f1f)}._logo_3ajxb_19{display:flex;justify-content:center;align-items:center;width:var(--chat-title-icon-width, 32px);height:var(--chat-title-icon-height, 32px);border-radius:50%;background-color:var(--chat-theme-color, #1f1f1f)}._customizedLogo_3ajxb_29{width:100%;height:100%;background-repeat:no-repeat;background-position:center;background-size:var(--chat-title-icon-width, 32px) var(--chat-title-icon-height, 32px)}._defaultLogo_3ajxb_37{fill:var(--chat-title-icon-color, #ffffff)}@keyframes _circle_15l67_1{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _loading_15l67_1{0%,5%{transform:translate(40px) scale(1);background:#e9e9e9}10%{transform:translate(40px) scale(1);background:var(--chat-theme-color, #1f1f1f)}40%{transform:translate(20px) scale(1.5);background:var(--chat-theme-color, #1f1f1f)}90%,95%{transform:translate(0) scale(1);background:var(--chat-theme-color, #1f1f1f)}to{transform:translate(0) scale(1);background:#e9e9e9}}@keyframes _move-x_15l67_1{0%,10%{transform:translate(0)}90%,to{transform:translate(20px)}}@keyframes _slide-down_15l67_1{0%{transform:translate3d(0,-100%,0);visibility:visible}to{transform:translateZ(0)}}@keyframes _slide-in_15l67_1{0%{transform:translateY(-100%);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes _slide-out_15l67_1{0%{transform:translateY(0);opacity:1}to{transform:translateY(-100%);opacity:0}}@keyframes _fade-in_15l67_125{0%{visibility:hidden;opacity:0}to{visibility:visible;opacity:1}}@keyframes _fade-out_15l67_129{0%{visibility:visible;opacity:1}to{visibility:hidden;opacity:0}}._mask_15l67_106{position:absolute;z-index:1000;display:flex;flex-direction:column;justify-content:center;align-items:center;top:88px;right:0;bottom:0;left:0;background-color:rgba(31,31,31,.6)}._start_15l67_117{justify-content:flex-start;width:100%;height:100%;top:0;right:0;bottom:0;left:0;border-radius:16px}._fade-in_15l67_125{animation:_fade-in_15l67_125 .2s ease-out}._fade-out_15l67_129{animation:_fade-out_15l67_129 .2s ease-out}@keyframes _circle_18ki2_1{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _loading_18ki2_1{0%,5%{transform:translate(40px) scale(1);background:#e9e9e9}10%{transform:translate(40px) scale(1);background:var(--chat-theme-color, #1f1f1f)}40%{transform:translate(20px) scale(1.5);background:var(--chat-theme-color, #1f1f1f)}90%,95%{transform:translate(0) scale(1);background:var(--chat-theme-color, #1f1f1f)}to{transform:translate(0) scale(1);background:#e9e9e9}}@keyframes _move-x_18ki2_1{0%,10%{transform:translate(0)}90%,to{transform:translate(20px)}}@keyframes _slide-down_18ki2_1{0%{transform:translate3d(0,-100%,0);visibility:visible}to{transform:translateZ(0)}}@keyframes _slide-in_18ki2_113{0%{transform:translateY(-100%);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes _slide-out_18ki2_117{0%{transform:translateY(0);opacity:1}to{transform:translateY(-100%);opacity:0}}@keyframes _fade-in_18ki2_1{0%{visibility:hidden;opacity:0}to{visibility:visible;opacity:1}}@keyframes _fade-out_18ki2_1{0%{visibility:visible;opacity:1}to{visibility:hidden;opacity:0}}._wrapper_18ki2_106{z-index:1001;width:100%;background-color:#fff;border-radius:16px}._slide-in_18ki2_113{animation:_slide-in_18ki2_113 .3s ease-out}._slide-out_18ki2_117{animation:_slide-out_18ki2_117 .3s ease-out}._dialog_18ki2_121{padding:20px;position:relative}._close_18ki2_126{display:flex;justify-content:center;align-items:center;position:absolute;top:20px;right:20px;width:24px;height:24px;border-radius:4px;color:var(--chat-cancel-button-font-color, #1f1f1f);background-color:var(--chat-cancel-button-background-color, #ffffff)}._close_18ki2_126 svg>path{fill:var(--chat-cancel-button-font-color, #1f1f1f)}._close_18ki2_126:hover{background-color:var(--chat-cancel-button-hover-background-color, rgba(0, 0, 0, .1))}._header_18ki2_146{min-height:32px;padding-top:12px;text-align:center}._header_18ki2_146 ._icon_18ki2_151{display:flex;justify-content:center;align-items:center;color:var(--chat-dialog-box-icon-color, #bfbfbf)}._content_18ki2_158{display:flex;flex-direction:column;align-items:center;gap:8px;width:100%;text-align:center;overflow:hidden;padding:16px 0 24px;color:var(--chat-dialog-box-font-color, #1f1f1f);font-size:var(--chat-dialog-box-font-size, 14px);font-family:var(--chat-dialog-box-font-family, inter, -apple-system, system-ui, avenir, helvetica, arial, sans-serif);line-height:1.43em}._content_18ki2_158 ._title_18ki2_172{font-weight:600}._content_18ki2_158 ._description_18ki2_175{max-width:86.7%}._footer_18ki2_179{display:flex;justify-content:center;align-items:center}._footer_18ki2_179 ._confirm_18ki2_184{display:flex;justify-content:center;align-items:center;padding:8px 16px;gap:4px;cursor:pointer;text-align:center;border:none;border-radius:8px;color:var(--chat-confirm-button-font-color, #ffffff);font-weight:600;font-size:var(--chat-confirm-button-font-size, 14px);font-family:var(--chat-confirm-button-font-family, inter, -apple-system, system-ui, avenir, helvetica, arial, sans-serif);background-color:var(--chat-confirm-button-background-color, #1f1f1f)}._footer_18ki2_179 ._confirm_18ki2_184:disabled{cursor:not-allowed;opacity:.5}._footer_18ki2_179 ._confirm_18ki2_184:hover{background-color:var(--chat-confirm-button-hover-background-color, #8c8c8c)}._button_1rhpj_19{display:flex;justify-content:center;align-items:center;padding:2px;border-radius:4px;background-color:transparent;transition:background-color .2s}._button_1rhpj_19:disabled{cursor:not-allowed;opacity:.5}._button_1rhpj_19:hover{background-color:rgba(0,0,0,.1)}._button_1rhpj_19:focus{background-color:rgba(0,0,0,.15)}._button_1rhpj_19[disabled]:hover,._button_1rhpj_19[disabled]:focus{background-color:transparent;transform:none}._header_bv5to_19{padding:12px 20px;display:flex;justify-content:space-between;height:64px;background-color:var(--chat-header-background-color, #f8f8f8)}._header_bv5to_19._withBoxShadow_bv5to_26{box-shadow:0 -2px 2px rgba(0,0,0,.02),0 2px 2px rgba(0,0,0,.04),0 4px 8px rgba(0,0,0,.02)}._header_bv5to_19._withSeparator_bv5to_29{z-index:1;box-shadow:0 2px 2px rgba(0,0,0,.04),0 4px 8px rgba(0,0,0,.02)}._header_bv5to_19 ._left_bv5to_33{display:flex;justify-content:center;align-items:center;flex:1;gap:12px}._header_bv5to_19>div:nth-of-type(2){display:flex;justify-content:center;align-items:center;gap:8px}._desc_bv5to_47{flex:1;width:0}._title_bv5to_52{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;color:var(--chat-title-text-color, #1f1f1f);font-family:inter,-apple-system,system-ui,avenir,helvetica,arial,sans-serif;font-size:14px;font-weight:600}._subtitle_bv5to_62{display:-webkit-box;max-width:200px;max-height:2.5em;word-break:break-word;color:var(--chat-subtitle-text-color, #1f1f1f);font-family:inter,-apple-system,system-ui,avenir,helvetica,arial,sans-serif;font-size:12px;line-height:1.2em;-webkit-box-orient:vertical;-webkit-line-clamp:2;line-clamp:2;text-overflow:ellipsis;overflow:hidden}._icon_bv5to_78{display:flex;justify-content:center;align-items:center;width:var(--chat-close-icon-width, 20px);height:var(--chat-close-icon-height, 20px);color:var(--chat-close-button-color, #1f1f1f)}._icon_bv5to_78 svg>path{fill:var(--chat-close-button-color, #1f1f1f)}._bottomFixedArea_12mgx_6{padding:0 24px;position:absolute;bottom:0;z-index:1;max-height:45.5%;overflow:hidden scroll;background-color:#f8f8f8}._bottomFixedArea_12mgx_6._paddingBottom_12mgx_15{padding-bottom:20px}._text_1gk1d_6{text-align:center;color:#8c8c8c;font-size:12px;margin:20px 0;line-height:1.34em}._feedbackMessage_1ke5d_6{color:#8c8c8c;font-size:12px;text-align:center;white-space:break-spaces;margin:20px 0}._feedbackContainer_1ke5d_14{position:relative;width:calc(100% - 40px);padding:0;will-change:height}._feedbackContainer_1ke5d_14[aria-hidden=true]{height:0}._feedbackContainer_1ke5d_14[aria-hidden=false]{display:flex;justify-content:center;align-items:center;height:430px;margin:20px auto;border-radius:12px;background-color:#fff;box-shadow:0 4px 8px rgba(0,0,0,.02),0 2px 2px rgba(0,0,0,.04),0 -2px 2px rgba(0,0,0,.02)}._iframe_1ke5d_34{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;margin:0;padding:0;border:none;box-sizing:border-box;border-radius:12px}._hidden_1ke5d_49{box-sizing:border-box;width:0;height:0}._hidden_xxytr_1{width:0;max-width:50px;height:0;overflow:hidden}._wrapper_ivzoz_14{position:relative;display:flex;flex:1;flex-direction:column;overflow:hidden auto}._chatContent_ivzoz_22{flex:1;overflow:hidden;-webkit-hyphens:var(--chat-message-hyphens, auto);hyphens:var(--chat-message-hyphens, auto)}._hiddenInput_fp29e_6{display:none}._emoji-picker_q90rg_19{display:flex;justify-content:center;align-items:center;position:absolute;right:0;bottom:56px;z-index:10;width:320px;height:300px;margin-bottom:8px;border-radius:8px;background-color:#fff;box-shadow:0 4px 4px rgba(0,0,0,.04),0 8px 8px rgba(0,0,0,.02),0 12px 12px rgba(0,0,0,.02);transform-origin:calc(100% - 100px) bottom;transition:transform .4s cubic-bezier(.25,.8,.25,1)}._emoji-picker_q90rg_19[aria-hidden=true]{display:none}._emoji-picker_q90rg_19[aria-hidden=false]{display:flex}._emoji-picker_q90rg_19 ._emoji-picker-wrapper_q90rg_42{--epr-hover-bg-color: rgba(0, 0, 0, 10%);--epr-focus-bg-color: rgba(0, 0, 0, 15%);--epr-header-padding: 12px;--epr-skin-tone-size: 14px;--epr-active-skin-hover-color: var(--epr-focus-bg-color);--epr-search-border-color: #8c8c8c;--epr-search-input-bg-color: #f8f8f8;--epr-search-input-placeholder-color: #bfbfbf;--epr-search-input-height: 32px;--epr-category-label-height: 32px;--epr-category-navigation-button-size: 24px;--epr-emoji-size: 20px;--epr-emoji-hover-color: var(--epr-focus-bg-color);--epr-category-icon-active-color: transparent;border-width:0}._emoji-picker_q90rg_19 ._emoji-picker-wrapper_q90rg_42 .epr-skin-tones{padding:0}._emoji-picker_q90rg_19 ._emoji-picker-wrapper_q90rg_42 .epr-skin-tone-select .epr-active:after{border-color:var(--epr-active-skin-hover-color)}._emoji-picker_q90rg_19 ._emoji-picker-wrapper_q90rg_42 .epr-btn-clear-search:hover{background-color:transparent}._emoji-picker_q90rg_19 ._emoji-picker-wrapper_q90rg_42 .epr-icn-clear-search:hover{background-position-y:unset}._emoji-picker_q90rg_19 ._emoji-picker-wrapper_q90rg_42 .epr-emoji-category-label{font-size:14px}._emoji-picker_q90rg_19 ._emoji-picker-wrapper_q90rg_42 .epr-category-nav .epr-btn:hover,._emoji-picker_q90rg_19 ._emoji-picker-wrapper_q90rg_42 .epr-category-nav .epr-btn:focus,._emoji-picker_q90rg_19 ._emoji-picker-wrapper_q90rg_42 .epr-category-nav .epr-btn:focus:before,._emoji-picker_q90rg_19 ._emoji-picker-wrapper_q90rg_42 .epr-category-nav .epr-btn.epr-active,._emoji-picker_q90rg_19 ._emoji-picker-wrapper_q90rg_42 .epr-body .epr-btn:hover,._emoji-picker_q90rg_19 ._emoji-picker-wrapper_q90rg_42 .epr-body .epr-btn:focus,._emoji-picker_q90rg_19 ._emoji-picker-wrapper_q90rg_42 .epr-body .epr-btn:focus:before,._emoji-picker_q90rg_19 ._emoji-picker-wrapper_q90rg_42 .epr-body .epr-btn.epr-active{border-radius:4px}._emoji-picker_q90rg_19 ._emoji-picker-wrapper_q90rg_42 .epr-category-nav .epr-btn:focus,._emoji-picker_q90rg_19 ._emoji-picker-wrapper_q90rg_42 .epr-category-nav .epr-btn.epr-active,._emoji-picker_q90rg_19 ._emoji-picker-wrapper_q90rg_42 .epr-body .epr-btn:focus,._emoji-picker_q90rg_19 ._emoji-picker-wrapper_q90rg_42 .epr-body .epr-btn.epr-active{background-color:var(--epr-focus-bg-color)}._emoji-picker_q90rg_19 ._emoji-picker-wrapper_q90rg_42 .epr-category-nav .epr-btn:hover,._emoji-picker_q90rg_19 ._emoji-picker-wrapper_q90rg_42 .epr-category-nav .epr-btn.epr-active,._emoji-picker_q90rg_19 ._emoji-picker-wrapper_q90rg_42 .epr-body .epr-btn:hover,._emoji-picker_q90rg_19 ._emoji-picker-wrapper_q90rg_42 .epr-body .epr-btn.epr-active{background-position-y:unset}._emoji-picker_q90rg_19 ._emoji-picker-wrapper_q90rg_42 .epr-category-nav .epr-btn:hover,._emoji-picker_q90rg_19 ._emoji-picker-wrapper_q90rg_42 .epr-body .epr-btn:hover{background-color:var(--epr-hover-bg-color)}._emoji-picker-rtl_q90rg_96{right:auto;left:0}._emoji-picker-rtl_q90rg_96 .epr-skin-tone-select{transform:scale(-1)}@media only screen and (max-width: 370px){._emoji-picker_q90rg_19{width:100%}}._user-input-area_rldhy_19{padding:12px 24px 20px;position:relative;display:flex;justify-content:space-between;align-items:center;min-height:var(--user-input-height, 48px)}._user-input-area_rldhy_19._withSeparator_rldhy_27{box-shadow:0 -2px 2px rgba(0,0,0,.04),0 -4px 8px rgba(0,0,0,.02)}._textarea-container_rldhy_31{position:relative;display:flex;flex:1;background-color:#fff;border-radius:12px}._textarea-container_rldhy_31 textarea{padding:12px 0;padding-inline:12px 96px;flex:1;width:100%;overflow:auto;border:1px solid transparent;-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:none;resize:none;font-family:inter,-apple-system,system-ui,avenir,helvetica,arial,sans-serif;font-size:14px;border-radius:12px;line-height:1.43em;transition:border-color .15s,height .15s;scroll-behavior:smooth}._textarea-container_rldhy_31 textarea::-webkit-scrollbar{width:0}._textarea-container_rldhy_31 textarea::-moz-placeholder{color:#bfbfbf}._textarea-container_rldhy_31 textarea::placeholder{color:#bfbfbf}._textarea-container_rldhy_31 textarea:hover,._textarea-container_rldhy_31 textarea:focus,._textarea-container_rldhy_31 textarea:focus-visible{border-color:#8c8c8c}._textarea-container_rldhy_31 textarea:focus,._textarea-container_rldhy_31 textarea:focus-visible{box-shadow:0 -2px 2px rgba(0,0,0,.04),0 -4px 8px rgba(0,0,0,.02)}._textarea-container_rldhy_31 ._action-buttons_rldhy_67{display:flex;justify-content:center;align-items:center;gap:4px;position:absolute;right:12px;bottom:12px;z-index:2}html[data-layout-direction=rtl] ._action-buttons_rldhy_67{right:auto;left:12px}._wrapper_1lklo_19{flex:1;width:100%}._submitButton_1lklo_24{padding:8px 16px;display:inline-block;width:100%;line-height:1.43em;word-break:break-word;min-height:var(--custom-button-height, 36px);font-size:var(--custom-button-font-size, 14px);font-family:var(--custom-button-font-family, inter, -apple-system, system-ui, avenir, helvetica, arial, sans-serif);font-weight:600;border-radius:8px;border-width:1px;border-style:solid;color:var(--custom-button-color, #ffffff);border-color:var(--custom-button-border-color, #1f1f1f);background-color:var(--custom-button-background-color, #1f1f1f)}._submitButton_1lklo_24:hover{color:var(--custom-button-hover-color, #ffffff);border-color:var(--custom-button-hover-border-color, #393939);background-color:var(--custom-button-hover-background-color, #8c8c8c)}._customButton_1lklo_47{display:flex}._ErrorMessage_15cbg_6{font-size:12px;line-height:1.34em;color:#f5222d}._isError_1rerd_11{border:1px solid #f5222d!important}._isError_1rerd_11:focus{box-shadow:0 0 0 2px rgba(255,38,6,.06)!important}._isRequired_1rerd_18{padding:0 4px;color:#f5222d;vertical-align:middle}._customDropdown_1dhdt_19{display:flex;width:100%}._wrapper_1dhdt_24{display:flex;flex:1;flex-direction:column;width:0;gap:4px}._labelWrapper_1dhdt_32{display:flex}._label_1dhdt_32{padding:0;display:block;width:100%;overflow:hidden;overflow-wrap:break-word;-webkit-hyphens:auto;hyphens:auto;font-weight:600;font-size:var(--custom-dropdown-label-font-size, 14px);font-family:var(--custom-dropdown-label-font-family, inter, -apple-system, system-ui, avenir, helvetica, arial, sans-serif);color:var(--custom-dropdown-label-color, #595959)}._selectContainer_1dhdt_49{position:relative}._menu_1dhdt_53{padding:4px;position:absolute;top:32px;left:0;z-index:1000;display:none;flex-direction:column;width:100%;margin:4px 0;gap:4px;border-radius:8px;background-color:#fff;box-shadow:0 12px 12px rgba(0,0,0,.02),0 8px 8px rgba(0,0,0,.02),0 4px 4px rgba(0,0,0,.04)}._menu_1dhdt_53._visible_1dhdt_68{display:flex}._option_1dhdt_72{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;padding:0 8px;width:100%;text-align:left;height:32px;line-height:32px;border-radius:4px;font-size:var(--custom-dropdown-input-font-size, 14px);font-family:var(--custom-dropdown-input-font-family, inter, -apple-system, system-ui, avenir, helvetica, arial, sans-serif);color:var(--custom-dropdown-input-color, #1f1f1f);background-color:var(--custom-dropdown-input-background-color, #ffffff)}._option_1dhdt_72:hover,._option_1dhdt_72:focus,._option_1dhdt_72:active,._option_1dhdt_72._selected_1dhdt_87{color:var(--chat-theme-color, #1f1f1f);background-color:#f8f8f8}._dropdown_1dhdt_92{padding:0 12px;display:flex;flex-direction:row;justify-content:space-between;align-items:center;width:100%;height:32px;line-height:32px;border-radius:8px;border:1px solid #d9d9d9;-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:none;float:left;box-sizing:border-box;text-align:left;overflow:hidden;font-size:var(--custom-dropdown-input-font-size, 14px);font-family:var(--custom-dropdown-input-font-family, inter, -apple-system, system-ui, avenir, helvetica, arial, sans-serif);color:var(--custom-dropdown-input-color, #1f1f1f);background-color:var(--custom-dropdown-input-background-color, #ffffff);gap:8px}._dropdown_1dhdt_92::-moz-placeholder{color:#bfbfbf}._dropdown_1dhdt_92::placeholder{color:#bfbfbf}._dropdown_1dhdt_92:hover,._dropdown_1dhdt_92:focus,._dropdown_1dhdt_92:focus-visible{border-color:#8c8c8c}._dropdown_1dhdt_92:focus,._dropdown_1dhdt_92:focus-visible{box-shadow:0 0 0 2px #e9e9e9}._placeholder_1dhdt_125,._text_1dhdt_125{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;flex:1}._placeholder_1dhdt_125{color:#a9a9a9}@supports (-webkit-overflow-scrolling: touch){._input_1dhdt_138{font-size:16px!important}}._arrow_1dhdt_142{transition:transform .2s ease;transform-origin:center center}._isActive_1dhdt_147{transform:rotate(-180deg)}html[data-layout-direction=rtl] ._text_1dhdt_125,html[data-layout-direction=rtl] ._placeholder_1dhdt_125,html[data-layout-direction=rtl] ._option_1dhdt_72{text-align:right}._customField_1hlud_19{display:flex;width:100%}._wrapper_1hlud_24{position:relative;display:flex;flex:1;flex-direction:column;width:0;gap:4px}._labelWrapper_1hlud_33{display:flex;gap:4px}._label_1hlud_33{padding:0;max-width:100%;overflow-wrap:break-word;-webkit-hyphens:auto;hyphens:auto;font-weight:600;font-size:var(--custom-field-label-font-size, 14px);font-family:var(--custom-field-label-font-family, inter, -apple-system, system-ui, avenir, helvetica, arial, sans-serif);color:var(--custom-field-label-color, #595959)}._inputWrapper_1hlud_49{position:relative}._input_1hlud_49{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;padding:0 12px;width:100%;height:32px;border:1px solid #d9d9d9;border-radius:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:none;padding-inline-end:36px;font-size:var(--custom-field-input-font-size, 14px);font-family:var(--custom-field-input-font-family, inter, -apple-system, system-ui, avenir, helvetica, arial, sans-serif);color:var(--custom-field-input-color, #1f1f1f);background-color:var(--custom-field-input-background-color, #ffffff)}._input_1hlud_49::-moz-placeholder{color:#bfbfbf}._input_1hlud_49::placeholder{color:#bfbfbf}._input_1hlud_49:hover,._input_1hlud_49:focus,._input_1hlud_49:focus-visible{border-color:#8c8c8c}._input_1hlud_49:focus,._input_1hlud_49:focus-visible{box-shadow:0 0 0 2px #e9e9e9}._clear_1hlud_80{display:flex;justify-content:center;align-items:center;position:absolute;right:12px;bottom:8px}html[data-layout-direction=rtl] ._clear_1hlud_80{right:auto;left:12px}@supports (-webkit-overflow-scrolling: touch){._input_1hlud_49{font-size:16px}}._customField_19gzc_19{display:flex;width:100%}._wrapper_19gzc_24{position:relative;display:flex;flex:1;flex-direction:column;width:0;gap:4px}._labelWrapper_19gzc_33{display:flex;flex-direction:column;gap:4px}._helper_19gzc_39{font-size:12px;color:#6f767d;font-weight:400}._label_19gzc_33{padding:0;max-width:100%;overflow-wrap:break-word;-webkit-hyphens:auto;hyphens:auto;font-weight:600;font-size:var(--custom-field-label-font-size, 14px);font-family:var(--custom-field-label-font-family, inter, -apple-system, system-ui, avenir, helvetica, arial, sans-serif);color:var(--custom-field-label-color, #595959)}._inputWrapper_19gzc_56{position:relative}._input_19gzc_56{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;padding:0 12px;width:100%;height:32px;border:1px solid #d9d9d9;border-radius:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:none;padding-inline-end:36px;font-size:var(--custom-field-input-font-size, 14px);font-family:var(--custom-field-input-font-family, inter, -apple-system, system-ui, avenir, helvetica, arial, sans-serif);color:var(--custom-field-input-color, #1f1f1f);background-color:var(--custom-field-input-background-color, #ffffff)}._input_19gzc_56::-moz-placeholder{color:#bfbfbf}._input_19gzc_56::placeholder{color:#bfbfbf}._input_19gzc_56:hover,._input_19gzc_56:focus,._input_19gzc_56:focus-visible{border-color:#8c8c8c}._input_19gzc_56:focus,._input_19gzc_56:focus-visible{box-shadow:0 0 0 2px #e9e9e9}._clear_19gzc_87{display:flex;justify-content:center;align-items:center;position:absolute;right:12px;bottom:8px}html[data-layout-direction=rtl] ._clear_19gzc_87{right:auto;left:12px}@supports (-webkit-overflow-scrolling: touch){._input_19gzc_56{font-size:16px}}._customMessage_1bdmg_19{display:flex;justify-content:center;align-items:center;gap:8px}._avatarWrapper_1bdmg_26{display:flex;justify-content:center;align-items:center;align-self:flex-end}._avatarWrapper_1bdmg_26>div{display:flex;justify-content:center;align-items:center}._avatarWrapper_1bdmg_26>div>img{width:24px;height:24px}._avatarWrapperAlign_1bdmg_42{align-self:flex-start!important}._wrapper_1bdmg_46{flex:1;width:0}._messageContent_1bdmg_51{display:inline-block;max-width:100%;white-space:pre-wrap;word-break:normal;overflow-wrap:break-word;border-radius:0 8px 8px;font-weight:400;-webkit-hyphens:auto;hyphens:auto;background:none;line-height:1.43em;font-family:var(--custom-message-no-bubble-font-family, inter, -apple-system, system-ui, avenir, helvetica, arial, sans-serif);font-size:var(--custom-message-no-bubble-font-size, 14px);color:var(--custom-message-no-bubble-color, #595959)}._messageContent_1bdmg_51 a{color:var(--custom-message-no-bubble-color, #595959)}._messageContent_1bdmg_51._isBubble_1bdmg_69{padding:12px;font-size:var(--custom-message-font-size, 14px);font-family:var(--custom-message-font-family, inter, -apple-system, system-ui, avenir, helvetica, arial, sans-serif);color:var(--custom-message-color, #1f1f1f);background-color:var(--custom-message-background-color, #ffffff);box-shadow:0 2px 4px rgba(0,0,0,.04),0 4px 8px rgba(0,0,0,.02)}._customField_ns1ou_19{display:flex;width:100%}._wrapper_ns1ou_24{position:relative;display:flex;flex:1;flex-direction:column;width:0;gap:4px}._labelWrapper_ns1ou_33{display:flex;gap:4px}._label_ns1ou_33{padding:0;max-width:100%;overflow-wrap:break-word;-webkit-hyphens:auto;hyphens:auto;font-weight:600;font-size:var(--custom-field-label-font-size, 14px);font-family:var(--custom-field-label-font-family, inter, -apple-system, system-ui, avenir, helvetica, arial, sans-serif);color:var(--custom-field-label-color, #595959)}._inputWrapper_ns1ou_49{position:relative}._input_ns1ou_49{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;padding:0 12px;width:100%;height:32px;border-radius:8px;border:1px solid #d9d9d9;-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:none;padding-inline-end:36px;font-size:var(--custom-field-input-font-size, 14px);font-family:var(--custom-field-input-font-family, inter, -apple-system, system-ui, avenir, helvetica, arial, sans-serif);color:var(--custom-field-input-color, #1f1f1f);background-color:var(--custom-field-input-background-color, #ffffff)}._input_ns1ou_49::-moz-placeholder{color:#bfbfbf}._input_ns1ou_49::placeholder{color:#bfbfbf}._input_ns1ou_49:hover,._input_ns1ou_49:focus,._input_ns1ou_49:focus-visible{border-color:#8c8c8c}._input_ns1ou_49:focus,._input_ns1ou_49:focus-visible{box-shadow:0 0 0 2px #e9e9e9}._clear_ns1ou_80{display:flex;justify-content:center;align-items:center;position:absolute;right:12px;bottom:8px}html[data-layout-direction=rtl] ._clear_ns1ou_80{right:auto;left:12px}@supports (-webkit-overflow-scrolling: touch){._input_ns1ou_49{font-size:16px}}._container_1a188_19{padding:20px;display:flex;flex-direction:column;background-color:var(--welcome-message-background-color, #f8f8f8);gap:12px}._title_1a188_27{white-space:pre-wrap;word-wrap:normal;overflow-wrap:break-word;-webkit-hyphens:auto;hyphens:auto;padding:0;margin:0;font-weight:700;font-size:var(--welcome-message-title-font-size, 24px);font-family:var(--welcome-message-title-font-family, inter, -apple-system, system-ui, avenir, helvetica, arial, sans-serif);color:var(--welcome-message-title-color, #1f1f1f);line-height:1.34em}._subTitle_1a188_41{white-space:pre-wrap;word-wrap:normal;overflow-wrap:break-word;-webkit-hyphens:auto;hyphens:auto;font-size:var(--welcome-message-content-font-size, 14px);font-family:var(--welcome-message-content-font-family, inter, -apple-system, system-ui, avenir, helvetica, arial, sans-serif);color:var(--welcome-message-content-color, #1f1f1f);line-height:1.4em}._initialScreenWrapper_xd2yg_19{flex:1;box-sizing:border-box;width:100%;overflow:hidden}._initialScreen_xd2yg_19{width:100%;height:100%}form{padding:20px 32px;display:flex;flex-direction:column;gap:20px;background-color:var(--initial-form-background-color, #f8f8f8)}._chat_1oxpe_6{display:flex;flex-direction:column;justify-content:space-between;width:100%;height:100%;background-color:#f8f8f8}._isDisabled_1oxpe_15{opacity:.5;pointer-events:none}._loadingWrapper_1oxpe_20{position:absolute;z-index:50;flex-direction:column;width:100%;top:0;right:0;bottom:0;left:0;background-color:transparent;overflow:hidden}._loadingWrapper_1oxpe_20[aria-hidden=true]{display:none}._loadingWrapper_1oxpe_20[aria-hidden=false]{display:flex}*{margin:0;padding:0}html,body{height:100%}html[data-layout-direction=rtl]{direction:rtl}form,input,div,p,span,ul,li{box-sizing:border-box}li{list-style:none}#root{height:100%}button{border:none;background:none;cursor:pointer}.ios input,.ios textarea{font-size:16px!important}.ios{--custom-dropdown-input-font-size: min(16px, $initial-screen-custom-dropdown-input-font-size) !important}@font-face{font-family:Inter;src:url('+new URL("Inter-Regular-DYjygwQm.ttf",l.meta.url).href+') format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:Inter;src:url('+new URL("Inter-SemiBold-XVCL1Lno.ttf",l.meta.url).href+') format("truetype");font-weight:700;font-style:normal;font-display:swap}:root{font-family:Inter,-apple-system,system-ui,Avenir,Helvetica,Arial,sans-serif}/*! \n* OverlayScrollbars\n* Version: 2.10.0\n* \n* Copyright (c) Rene Haas | KingSora.\n* https://github.com/KingSora\n* \n* Released under the MIT license.\n*/.os-size-observer,.os-size-observer-listener{scroll-behavior:auto!important;direction:inherit;pointer-events:none;overflow:hidden;visibility:hidden;box-sizing:border-box}.os-size-observer,.os-size-observer-listener,.os-size-observer-listener-item,.os-size-observer-listener-item-final{writing-mode:horizontal-tb;position:absolute;left:0;top:0}.os-size-observer{z-index:-1;contain:strict;display:flex;flex-direction:row;flex-wrap:nowrap;padding:inherit;border:inherit;box-sizing:inherit;margin:-133px;top:0;right:0;bottom:0;left:0;transform:scale(.1)}.os-size-observer:before{content:"";flex:none;box-sizing:inherit;padding:10px;width:10px;height:10px}.os-size-observer-appear{animation:os-size-observer-appear-animation 1ms forwards}.os-size-observer-listener{box-sizing:border-box;position:relative;flex:auto;padding:inherit;border:inherit;margin:-133px;transform:scale(10)}.os-size-observer-listener.ltr{margin-right:-266px;margin-left:0}.os-size-observer-listener.rtl{margin-left:-266px;margin-right:0}.os-size-observer-listener:empty:before{content:"";width:100%;height:100%}.os-size-observer-listener:empty:before,.os-size-observer-listener>.os-size-observer-listener-item{display:block;position:relative;padding:inherit;border:inherit;box-sizing:content-box;flex:auto}.os-size-observer-listener-scroll{box-sizing:border-box;display:flex}.os-size-observer-listener-item{right:0;bottom:0;overflow:hidden;direction:ltr;flex:none}.os-size-observer-listener-item-final{transition:none}@keyframes os-size-observer-appear-animation{0%{cursor:auto}to{cursor:none}}.os-trinsic-observer{flex:none;box-sizing:border-box;position:relative;max-width:0px;max-height:1px;padding:0;margin:0;border:none;overflow:hidden;z-index:-1;height:0;top:calc(100% + 1px);contain:strict}.os-trinsic-observer:not(:empty){height:calc(100% + 1px);top:-1px}.os-trinsic-observer:not(:empty)>.os-size-observer{width:1000%;height:1000%;min-height:1px;min-width:1px}[data-overlayscrollbars-initialize],[data-overlayscrollbars-viewport~=scrollbarHidden]{scrollbar-width:none!important}[data-overlayscrollbars-initialize]::-webkit-scrollbar,[data-overlayscrollbars-initialize]::-webkit-scrollbar-corner,[data-overlayscrollbars-viewport~=scrollbarHidden]::-webkit-scrollbar,[data-overlayscrollbars-viewport~=scrollbarHidden]::-webkit-scrollbar-corner{-webkit-appearance:none!important;appearance:none!important;display:none!important;width:0!important;height:0!important}[data-overlayscrollbars-initialize]:not([data-overlayscrollbars]):not(html):not(body){overflow:auto}html[data-overlayscrollbars-body]{overflow:hidden}html[data-overlayscrollbars-body],html[data-overlayscrollbars-body]>body{width:100%;height:100%;margin:0}html[data-overlayscrollbars-body]>body{overflow:visible;margin:0}[data-overlayscrollbars]{position:relative}[data-overlayscrollbars~=host],[data-overlayscrollbars-padding]{display:flex;align-items:stretch!important;flex-direction:row!important;flex-wrap:nowrap!important;scroll-behavior:auto!important}[data-overlayscrollbars-padding],[data-overlayscrollbars-viewport]:not([data-overlayscrollbars]){box-sizing:inherit;position:relative;flex:auto!important;height:auto;width:100%;min-width:0;padding:0;margin:0;border:none;z-index:0}[data-overlayscrollbars-viewport]:not([data-overlayscrollbars]){--os-vaw: 0;--os-vah: 0;outline:none}[data-overlayscrollbars-viewport]:not([data-overlayscrollbars]):focus{outline:none}[data-overlayscrollbars-viewport][data-overlayscrollbars-viewport~=arrange]:before{content:"";position:absolute;pointer-events:none;z-index:-1;min-width:1px;min-height:1px;width:var(--os-vaw);height:var(--os-vah)}[data-overlayscrollbars],[data-overlayscrollbars-padding],[data-overlayscrollbars-viewport]{overflow:hidden!important}[data-overlayscrollbars~=noClipping],[data-overlayscrollbars-padding~=noClipping]{overflow:visible!important}[data-overlayscrollbars-viewport~=measuring]{overflow:hidden!important;scroll-behavior:auto!important;scroll-snap-type:none!important}[data-overlayscrollbars-viewport~=overflowXVisible]:not([data-overlayscrollbars-viewport~=measuring]){overflow-x:visible!important}[data-overlayscrollbars-viewport~=overflowXHidden]{overflow-x:hidden!important}[data-overlayscrollbars-viewport~=overflowXScroll]{overflow-x:scroll!important}[data-overlayscrollbars-viewport~=overflowYVisible]:not([data-overlayscrollbars-viewport~=measuring]){overflow-y:visible!important}[data-overlayscrollbars-viewport~=overflowYHidden]{overflow-y:hidden!important}[data-overlayscrollbars-viewport~=overflowYScroll]{overflow-y:scroll!important}[data-overlayscrollbars-viewport~=noContent]:not(#osFakeId){font-size:0!important;line-height:0!important}[data-overlayscrollbars-viewport~=noContent]:not(#osFakeId):before,[data-overlayscrollbars-viewport~=noContent]:not(#osFakeId):after,[data-overlayscrollbars-viewport~=noContent]:not(#osFakeId)>*{display:none!important;position:absolute!important;width:1px!important;height:1px!important;padding:0!important;margin:-1px!important;overflow:hidden!important;clip:rect(0,0,0,0)!important;white-space:nowrap!important;border-width:0!important}[data-overlayscrollbars-viewport~=scrolling]{scroll-behavior:auto!important;scroll-snap-type:none!important}[data-overlayscrollbars-content]{box-sizing:inherit}[data-overlayscrollbars-contents]:not(#osFakeId):not([data-overlayscrollbars-padding]):not([data-overlayscrollbars-viewport]):not([data-overlayscrollbars-content]){display:contents}[data-overlayscrollbars-grid],[data-overlayscrollbars-grid] [data-overlayscrollbars-padding]{display:grid;grid-template:1fr/1fr}[data-overlayscrollbars-grid]>[data-overlayscrollbars-padding],[data-overlayscrollbars-grid]>[data-overlayscrollbars-viewport],[data-overlayscrollbars-grid]>[data-overlayscrollbars-padding]>[data-overlayscrollbars-viewport]{height:auto!important;width:auto!important}@property --os-scroll-percent{syntax: "<number>"; inherits: true; initial-value: 0;}@property --os-viewport-percent{syntax: "<number>"; inherits: true; initial-value: 0;}.os-scrollbar{--os-viewport-percent: 0;--os-scroll-percent: 0;--os-scroll-direction: 0;--os-scroll-percent-directional: calc( var(--os-scroll-percent) - (var(--os-scroll-percent) + (1 - var(--os-scroll-percent)) * -1) * var(--os-scroll-direction) )}.os-scrollbar{contain:size layout;contain:size layout style;transition:opacity .15s,visibility .15s,top .15s,right .15s,bottom .15s,left .15s;pointer-events:none;position:absolute;opacity:0;visibility:hidden}body>.os-scrollbar{position:fixed;z-index:99999}.os-scrollbar-transitionless{transition:none!important}.os-scrollbar-track{position:relative;padding:0!important;border:none!important}.os-scrollbar-handle{position:absolute}.os-scrollbar-track,.os-scrollbar-handle{pointer-events:none;width:100%;height:100%}.os-scrollbar.os-scrollbar-track-interactive .os-scrollbar-track,.os-scrollbar.os-scrollbar-handle-interactive .os-scrollbar-handle{pointer-events:auto;touch-action:none}.os-scrollbar-horizontal{bottom:0;left:0}.os-scrollbar-vertical{top:0;right:0}.os-scrollbar-rtl.os-scrollbar-horizontal{right:0}.os-scrollbar-rtl.os-scrollbar-vertical{right:auto;left:0}.os-scrollbar-visible{opacity:1;visibility:visible}.os-scrollbar-auto-hide.os-scrollbar-auto-hide-hidden{opacity:0;visibility:hidden}.os-scrollbar-interaction.os-scrollbar-visible{opacity:1;visibility:visible}.os-scrollbar-unusable,.os-scrollbar-unusable *,.os-scrollbar-wheel,.os-scrollbar-wheel *{pointer-events:none!important}.os-scrollbar-unusable .os-scrollbar-handle{opacity:0!important;transition:none!important}.os-scrollbar-horizontal .os-scrollbar-handle{bottom:0;left:calc(var(--os-scroll-percent-directional) * 100%);transform:translate(calc(var(--os-scroll-percent-directional) * -100%));width:calc(var(--os-viewport-percent) * 100%)}.os-scrollbar-vertical .os-scrollbar-handle{right:0;top:calc(var(--os-scroll-percent-directional) * 100%);transform:translateY(calc(var(--os-scroll-percent-directional) * -100%));height:calc(var(--os-viewport-percent) * 100%)}@supports (container-type: size){.os-scrollbar-track{container-type:size}.os-scrollbar-horizontal .os-scrollbar-handle{left:auto;transform:translate(calc(var(--os-scroll-percent-directional) * 100cqw + var(--os-scroll-percent-directional) * -100%))}.os-scrollbar-vertical .os-scrollbar-handle{top:auto;transform:translateY(calc(var(--os-scroll-percent-directional) * 100cqh + var(--os-scroll-percent-directional) * -100%))}.os-scrollbar-rtl.os-scrollbar-horizontal .os-scrollbar-handle{right:auto;left:0}}.os-scrollbar-rtl.os-scrollbar-vertical .os-scrollbar-handle{right:auto;left:0}.os-scrollbar.os-scrollbar-horizontal.os-scrollbar-cornerless,.os-scrollbar.os-scrollbar-horizontal.os-scrollbar-cornerless.os-scrollbar-rtl{left:0;right:0}.os-scrollbar.os-scrollbar-vertical.os-scrollbar-cornerless,.os-scrollbar.os-scrollbar-vertical.os-scrollbar-cornerless.os-scrollbar-rtl{top:0;bottom:0}@media print{.os-scrollbar{display:none}}.os-scrollbar{--os-size: 0;--os-padding-perpendicular: 0;--os-padding-axis: 0;--os-track-border-radius: 0;--os-track-bg: none;--os-track-bg-hover: none;--os-track-bg-active: none;--os-track-border: none;--os-track-border-hover: none;--os-track-border-active: none;--os-handle-border-radius: 0;--os-handle-bg: none;--os-handle-bg-hover: none;--os-handle-bg-active: none;--os-handle-border: none;--os-handle-border-hover: none;--os-handle-border-active: none;--os-handle-min-size: 33px;--os-handle-max-size: none;--os-handle-perpendicular-size: 100%;--os-handle-perpendicular-size-hover: 100%;--os-handle-perpendicular-size-active: 100%;--os-handle-interactive-area-offset: 0}.os-scrollbar-track{border:var(--os-track-border);border-radius:var(--os-track-border-radius);background:var(--os-track-bg);transition:opacity .15s,background-color .15s,border-color .15s}.os-scrollbar-track:hover{border:var(--os-track-border-hover);background:var(--os-track-bg-hover)}.os-scrollbar-track:active{border:var(--os-track-border-active);background:var(--os-track-bg-active)}.os-scrollbar-handle{border:var(--os-handle-border);border-radius:var(--os-handle-border-radius);background:var(--os-handle-bg)}.os-scrollbar-handle:hover{border:var(--os-handle-border-hover);background:var(--os-handle-bg-hover)}.os-scrollbar-handle:active{border:var(--os-handle-border-active);background:var(--os-handle-bg-active)}.os-scrollbar-track:before,.os-scrollbar-handle:before{content:"";position:absolute;left:0;right:0;top:0;bottom:0;display:block}.os-scrollbar-horizontal{padding:var(--os-padding-perpendicular) var(--os-padding-axis);right:var(--os-size);height:var(--os-size)}.os-scrollbar-horizontal.os-scrollbar-rtl{left:var(--os-size);right:0}.os-scrollbar-horizontal .os-scrollbar-track:before{top:calc(var(--os-padding-perpendicular) * -1);bottom:calc(var(--os-padding-perpendicular) * -1)}.os-scrollbar-horizontal .os-scrollbar-handle{min-width:var(--os-handle-min-size);max-width:var(--os-handle-max-size);height:var(--os-handle-perpendicular-size);transition:opacity .15s,background-color .15s,border-color .15s,height .15s}.os-scrollbar-horizontal .os-scrollbar-handle:before{top:calc((var(--os-padding-perpendicular) + var(--os-handle-interactive-area-offset)) * -1);bottom:calc(var(--os-padding-perpendicular) * -1)}.os-scrollbar-horizontal:hover .os-scrollbar-handle{height:var(--os-handle-perpendicular-size-hover)}.os-scrollbar-horizontal:active .os-scrollbar-handle{height:var(--os-handle-perpendicular-size-active)}.os-scrollbar-vertical{padding:var(--os-padding-axis) var(--os-padding-perpendicular);bottom:var(--os-size);width:var(--os-size)}.os-scrollbar-vertical .os-scrollbar-track:before{left:calc(var(--os-padding-perpendicular) * -1);right:calc(var(--os-padding-perpendicular) * -1)}.os-scrollbar-vertical .os-scrollbar-handle{min-height:var(--os-handle-min-size);max-height:var(--os-handle-max-size);width:var(--os-handle-perpendicular-size);transition:opacity .15s,background-color .15s,border-color .15s,width .15s}.os-scrollbar-vertical .os-scrollbar-handle:before{left:calc((var(--os-padding-perpendicular) + var(--os-handle-interactive-area-offset)) * -1);right:calc(var(--os-padding-perpendicular) * -1)}.os-scrollbar-vertical.os-scrollbar-rtl .os-scrollbar-handle:before{right:calc((var(--os-padding-perpendicular) + var(--os-handle-interactive-area-offset)) * -1);left:calc(var(--os-padding-perpendicular) * -1)}.os-scrollbar-vertical:hover .os-scrollbar-handle{width:var(--os-handle-perpendicular-size-hover)}.os-scrollbar-vertical:active .os-scrollbar-handle{width:var(--os-handle-perpendicular-size-active)}[data-overlayscrollbars-viewport~=measuring]>.os-scrollbar,.os-theme-none.os-scrollbar{display:none!important}.os-theme-dark,.os-theme-light{box-sizing:border-box;--os-size: 10px;--os-padding-perpendicular: 2px;--os-padding-axis: 2px;--os-track-border-radius: 10px;--os-handle-interactive-area-offset: 4px;--os-handle-border-radius: 10px}.os-theme-dark{--os-handle-bg: rgba(0, 0, 0, .44);--os-handle-bg-hover: rgba(0, 0, 0, .55);--os-handle-bg-active: rgba(0, 0, 0, .66)}.os-theme-light{--os-handle-bg: rgba(255, 255, 255, .44);--os-handle-bg-hover: rgba(255, 255, 255, .55);--os-handle-bg-active: rgba(255, 255, 255, .66)}\n',document.head.appendChild(re),s({L:function(e){var t=e.onRetry;return T.jsxs("div",{className:Uu.error,children:[T.jsx("p",{className:Uu.message,children:"There was a problem while trying to load the widget"}),T.jsx("button",{className:Uu.retry,onClick:t,children:"Try again"})]})},M:function(e,t){Bv(e,t,wv)},N:function(e){var t=e.children,n=h(S.useState(null),2),r=n[0],u=n[1];S.useLayoutEffect((function(){var e=document.getElementById(Wu);u(e)}),[]);var a=S.useMemo((function(){return{element:r}}),[r]);return T.jsxs(Vu.Provider,{value:a,children:[r?t:null,T.jsx("div",{id:Wu})]})},P:qu,Z:Kr,c:fl,s:Be,y:Ul});var ue=s("n",(function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,t="",n=crypto.getRandomValues(new Uint8Array(e));e--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[63&n[e]];return t})),ae=72e6,ie={getAccessToken:"GET_ACCESS_TOKEN",getConversationAndParticipant:"CREATE_CONVERSATION_AND_PARTICIPANT"},oe="twilio",se=s("E",{send_success:"send_success",send_failure:"send_failure",disconnect:"disconnect",reconnect:"reconnect",need_scroll_to_bottom:"need_scroll_to_bottom"}),ce=s("j",{Start:"start",Loading:"loading",Conversation:"conversation",InitialScreen:"initial_screen",End:"end",Error:"error"}),le=s("G",{preloadClient:"preloadClient",conversationCreated:"conversationCreated",conversationEnded:"conversationEnded",conversationEndedByError:"conversationEndedByError",resetFrame:"resetFrame",enableScreenLoading:"enableScreenLoading"}),de="ltr",fe="rtl",pe=["ar-EG","ar-SA"],ve={BUTTONS:10,CAROUSEL_CARDS:10,CAROUSEL_BUTTONS:3,FILE_SIZE:10485760},he=(s("a1",2),s("h",680)),me=(s("W",64),/^(?!.{256})(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/i),ge=/^(\+\d{1,3}\s?)\(?\d{1,3}\)?[\s-]?\d{3,4}[\s-]?\d{3,5}/i,_e=(s("a2",5),{US1:"us1",IE1:"ie1"}),De={tdGatewayUs:"/tdgateway/us",tdGatewayEu:"/tdgateway/eu",tdGatewayCa:"/tdgateway/ca",tdGatewayUsFed:"/tdgateway/usfed",tdChatSdk:"/tdchatsdk",tdReporter:"/tdreporter",twilioUs1:"/tdsocketprovider/us1/v3/wsconnect",twilioIe1:"/tdsocketprovider/ie1/v3/wsconnect",twilioMcsUs1:"/tdmcsprovider/us1",twilioMcsIe1:"/tdmcsprovider/ie1",twilioMediaUs1:"/tdmediaprovider/us1",twilioMediaIe1:"/tdmediaprovider/ie1"},be=["botIcon","botIconVerticalAlign","chatIcon","chatTitleIcon","chatTitle","chatSubtitle","customFieldPhoneDescription","customFieldPhoneInvalidFormatMessage","customFieldEmailInvalidFormatMessage","customFieldInputPlaceholder","customDropdownInputPlaceholder","chatConfirmButtonEndChat","chatCancelButtonEndChat","chatDialogBoxEndChat","chatPlaceholder","chatAriaLabel","startChatButtonLabel","endedChatMessage","linkProtocol","linkTarget","chatDialogBoxRetryEndChat","chatConfirmButtonRetryEndChat","chatCancelButtonRetryEndChat"],ye=("".concat(he,"px"),{botIcon:"",botIconVerticalAlign:"top",chatIcon:"",chatTitleIcon:"",chatTitle:"Talkdesk",chatSubtitle:"",customFieldPhoneDescription:"",customFieldPhoneInvalidFormatMessage:"",customFieldEmailInvalidFormatMessage:"",customFieldInputPlaceholder:"Type",customDropdownInputPlaceholder:"",chatConfirmButtonEndChat:"",chatCancelButtonEndChat:"",chatDialogBoxEndChat:"",chatPlaceholder:"",chatAriaLabel:"",startChatButtonLabel:"",endedChatMessage:"",linkProtocol:"https",linkTarget:"_blank",chatDialogBoxRetryEndChat:"",chatConfirmButtonRetryEndChat:"",chatCancelButtonRetryEndChat:""});function Ce(){var e=navigator.userAgent,t="desktop";return/iPhone|iPad|iPod/i.test(e)?t="ios":/Android/i.test(e)&&(t="android"),{isMobile:"desktop"!==t,type:t}}function Ee(e){return"string"==typeof e?e:null==e?void 0:e.message}function Ae(e){var t=x(e).map((function(e,t){return(n=e.charCodeAt(0))>=65&&n<=90?0===t?e.toLowerCase():"-"+e.toLowerCase():e;var n})).join("");return"--".concat(t)}function Fe(e,t){var n;if(n="string"==typeof e?e.indexOf("#")>-1?document.querySelector(e):document.getElementById(e):e)return function(e,t){var n=Object.keys(t);return n.length?n.reduce((function(n,r){return r.indexOf("-")>-1||r.indexOf("_")>-1?n:(e.style.setProperty(Ae(r),t[r]),E(E({},n),{},A({},Ae(r),t[r])))}),{}):{}}(n,t)}function xe(e,t){try{return JSON.stringify(e)}catch($l){return""}}function we(e,t,n){try{return JSON.parse(e)}catch($l){return null==n||n($l),t}}var ke=function(){return y((function e(t){var n=this;D(this,e),A(this,"_status","pending"),A(this,"_suspender",void 0),A(this,"_result",void 0),A(this,"_error",void 0),this._suspender=t.then((function(e){n._status="fulfilled",n._result=e})).catch((function(e){n._status="rejected",n._error=e}))}),[{key:"status",get:function(){return this._status}},{key:"load",value:function(){if("pending"===this._status)throw this._suspender;if("rejected"===this._status)throw this._error;if("fulfilled"===this._status)return this._result;var e=this._status;throw new Error('Status "'.concat(e,'" is not supported'))}}])}();function Be(e){return new Promise((function(t){e<=0?t(!0):setTimeout((function(){return t(!0)}),e)}))}function je(e){return Math.min(2e3*e,3e4)}function Se(e){return Te.apply(this,arguments)}function Te(){return Te=_(m().mark((function e(t){var n,r,u,a,i,o,s,c,l=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=l.length>1&&void 0!==l[1]?l[1]:{}).defaultRetry,u=void 0===r?5:r,a=n.retryDelay,i=void 0===a?je:a,o=n.onError,!(u<=0)){e.next=6;break}return e.next=5,t();case 5:return e.abrupt("return",e.sent);case 6:return s=0,c=function(){var e=_(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:case 16:return e.abrupt("return",e.sent);case 6:if(e.prev=6,e.t0=e.catch(0),null==o||o(e.t0,s),s!==u){e.next=11;break}throw e.t0;case 11:return s+=1,e.next=14,Be("function"==typeof i?i(s):i);case 14:return e.next=16,c();case 17:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),e.abrupt("return",c());case 9:case"end":return e.stop()}}),e)}))),Te.apply(this,arguments)}var Oe="WidgetCommunication",Ne={Maximize:"Maximize",Minimize:"Minimize",GetAllConfig:"GetAllConfig",GetCredentials:"GetCredentials",GetTdAccessToken:"GetTdAccessToken",SetBadge:"SetBadge",FrameOpened:"FrameOpened",DownloadTranscript:"DownloadTranscript",UpdatePreviewConfig:"UpdatePreviewConfig",PreviewReady:"PreviewReady",ConversationStart:"ConversationStart",FrameReady:"FrameReady",FrameResize:"FrameResize",UpdateAppConfigs:"UpdateAppConfigs",UpdateContext:"UpdateContext"},Ie=s("a0",{Image:"image",Video:"video",Audio:"audio",File:"file"}),Le=y((function e(){D(this,e),A(this,"enableSplitTwilioBootstrap",void 0),A(this,"participantName",void 0),A(this,"feedbackFlowId",void 0),A(this,"appearanceConfig",{initialScreen:{showInitialScreen:!1,welcomeMessage:{title:"",subtitle:""},controls:[]},chat:{messages:[]},generalSettings:{showCloseConversationButton:!1,showChatTranscriptsDownloadButton:!1,showTypingIndicatorButton:!1}}),A(this,"appConfig",{enableEmoji:!0,enableAttachments:!0,enableValidation:!1,enableResponsiveLayout:!0,enablePointMoveTriggerButton:!1,enableUserInput:!0,languageCode:"en-US"}),A(this,"appProps",{touchpointId:"",accountId:"",region:"td-us-1"}),A(this,"options",E({},ye)),A(this,"styles",{}),A(this,"context",{}),A(this,"injectorWindowHostname",""),A(this,"isMobile",!1),A(this,"deviceType","desktop")})),Pe=s("_",(function(e,t,n){var r=Promise.resolve();function u(e){var t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then((function(t){var n,r=w(t||[]);try{for(r.s();!(n=r.n()).done;){var a=n.value;"rejected"===a.status&&u(a.reason)}}catch(i){r.e(i)}finally{r.f()}return e().catch(u)}))}));var Me,Re,ze,Ze,Ue,Ve,He,qe,We=(ze=Re="en-US",Ze=!1,Ue=null,Ve=[],He=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")||navigator.language||Re;if(Ve.indexOf(e)>-1)return e;var t=Ve.find((function(t){return t.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())>-1}));return t||(/^(ar|AR)/.test(e)?pe[0]:Re)},qe=function(){var e=_(m().mark((function e(){var t,n=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"",Ze=!0,e.next=4,Pe(_(m().mark((function e(){var t,n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.import("./index-legacy-80FHw9Ym.js");case 2:return t=e.sent,n=t.default,e.abrupt("return",{default:n});case 5:case"end":return e.stop()}}),e)}))),void 0,l.meta.url);case 4:return Ue=e.sent.default,Ve=Object.keys(Ue),ze=He(t),e.next=9,d.use(p).init({lng:ze,fallbackLng:Re,resources:Ue,keySeparator:!1,supportedLngs:Ve,interpolation:{escapeValue:!1},react:{useSuspense:!1}});case 9:return e.abrupt("return",ze);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),{changeLanguage:(Me=_(m().mark((function e(){var t,n=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:"",Ze){e.next=5;break}return e.next=4,qe(t);case 4:return e.abrupt("return",e.sent);case 5:if(t!==ze){e.next=7;break}return e.abrupt("return",ze);case 7:return ze=He(t),e.next=10,d.changeLanguage(ze);case 10:return e.abrupt("return",ze);case 11:case"end":return e.stop()}}),e)}))),function(){return Me.apply(this,arguments)}),get current(){return ze}}),Ye={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]};function Ge(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=String(t),a=function(e,t){return"[".concat(t[0],"m").concat(e,"[").concat(t[1],"m")},i=function(e,t){return null!=t&&"string"==typeof t?a(e,Ye[t]):null!=t&&Array.isArray(t)?t.reduce((function(e,t){return i(e,t)}),e):null!=t&&null!=t[e.trim()]?i(e,t[e.trim()]):null!=t&&null!=t["*"]?i(e,t["*"]):e};return u.replace(/{{(.+?)}}/g,(function(t,u){var o,s,c=null!=n[u]?String(n[u]):r?"":t;return e.stylePrettyLogs?i(c,null!==(o=null==e||null===(s=e.prettyLogStyles)||void 0===s?void 0:s[u])&&void 0!==o?o:null)+a("",Ye.reset):c}))}function $e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!=e&&isNaN(e)?"":(e=null!=e?e+n:e,2===t?null==e?"--":e<10?"0"+e:e.toString():null==e?"---":e<10?"00"+e:e<100?"0"+e:e.toString())}function Ke(e){var t=new Set;return JSON.stringify(e,(function(e,n){if("object"===v(n)&&null!==n){if(t.has(n))return"[Circular]";t.add(n)}return"bigint"==typeof n?"".concat(n):n}))}function Je(e,t){var n={seen:[],stylize:Xe};return null!=t&&vt(n,t),Qe(n.showHidden)&&(n.showHidden=!1),Qe(n.depth)&&(n.depth=2),Qe(n.colors)&&(n.colors=!0),Qe(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=et),dt(n,e,n.depth)}function Qe(e){return void 0===e}function Xe(e){return e}function et(e,t){var n,r,u=Je.styles[t];return null!=u&&null!=(null==Je||null===(n=Je.colors)||void 0===n||null===(n=n[u])||void 0===n?void 0:n[0])&&null!=(null==Je||null===(r=Je.colors)||void 0===r||null===(r=r[u])||void 0===r?void 0:r[1])?"["+Je.colors[u][0]+"m"+e+"["+Je.colors[u][1]+"m":e}function tt(e){return"function"==typeof e}function nt(e){return"string"==typeof e}function rt(e){return null===e}function ut(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function at(e){return it(e)&&"[object RegExp]"===ct(e)}function it(e){return"object"===v(e)&&null!==e}function ot(e){return it(e)&&("[object Error]"===ct(e)||e instanceof Error)}function st(e){return it(e)&&"[object Date]"===ct(e)}function ct(e){return Object.prototype.toString.call(e)}function lt(e){return"["+Error.prototype.toString.call(e)+"]"}function dt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(e.customInspect&&null!=t&&tt(t)&&(null==t?void 0:t.inspect)!==Je&&(null==t||!t.constructor||(null==t?void 0:t.constructor.prototype)!==t)){if("function"!=typeof t.inspect&&null!=t.toString)return t.toString();var r=null==t?void 0:t.inspect(n,e);return nt(r)||(r=dt(e,r,n)),r}var u=pt(e,t);if(u)return u;var a=Object.keys(t),i=function(e){var t={};return e.forEach((function(e){t[e]=!0})),t}(a);try{e.showHidden&&Object.getOwnPropertyNames&&(a=Object.getOwnPropertyNames(t))}catch($l){}if(ot(t)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return lt(t);if(0===a.length){if(!tt(e.stylize))return t;if(tt(t)){var o=t.name?": "+t.name:"";return e.stylize("[Function"+o+"]","special")}if(at(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(st(t))return e.stylize(Date.prototype.toISOString.call(t),"date");if(ot(t))return lt(t)}var s,c="",l=!1,d=["{\n","\n}"];(Array.isArray(t)&&(l=!0,d=["[\n","\n]"]),tt(t))&&(c=" [Function"+(t.name?": "+t.name:"")+"]");return at(t)&&(c=" "+RegExp.prototype.toString.call(t)),st(t)&&(c=" "+Date.prototype.toUTCString.call(t)),ot(t)&&(c=" "+lt(t)),0!==a.length||l&&0!=t.length?n<0?at(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),s=l?function(e,t,n,r,u){for(var a=[],i=0,o=t.length;i<o;++i)ut(t,String(i))?a.push(ft(e,t,n,r,String(i),!0)):a.push("");return u.forEach((function(u){u.match(/^\d+$/)||a.push(ft(e,t,n,r,u,!0))})),a}(e,t,n,i,a):a.map((function(r){return ft(e,t,n,i,r,l)})),e.seen.pop(),function(e,t,n){return n[0]+(""===t?"":t+"\n")+"  "+e.join(",\n  ")+" "+n[1]}(s,c,d)):d[0]+c+d[1]}function ft(e,t,n,r,u,a){var i,o,s={value:void 0};try{s.value=t[u]}catch($l){}try{Object.getOwnPropertyDescriptor&&(s=Object.getOwnPropertyDescriptor(t,u)||s)}catch($l){}if(s.get?o=s.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):s.set&&(o=e.stylize("[Setter]","special")),ut(r,u)||(i="["+u+"]"),o||(e.seen.indexOf(s.value)<0?(o=rt(n)?dt(e,s.value,void 0):dt(e,s.value,n-1)).indexOf("\n")>-1&&(o=a?o.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+o.split("\n").map((function(e){return"   "+e})).join("\n")):o=e.stylize("[Circular]","special")),Qe(i)){if(a&&u.match(/^\d+$/))return o;(i=JSON.stringify(""+u)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(i=i.substr(1,i.length-2),i=e.stylize(i,"name")):(i=i.replace(/'/g,"\\'").replace(/\\"/g,"\\'").replace(/(^"|"$)/g,"'"),i=e.stylize(i,"string"))}return i+": "+o}function pt(e,t){if(Qe(t))return e.stylize("undefined","undefined");if(nt(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,"\\'")+"'";return e.stylize(n,"string")}return"number"==typeof t?e.stylize(""+t,"number"):function(e){return"boolean"==typeof e}(t)?e.stylize(""+t,"boolean"):rt(t)?e.stylize("null","null"):void 0}function vt(e,t){var n=E({},e);if(!t||!it(t))return e;for(var r=E({},t),u=Object.keys(t),a=u.length;a--;)n[u[a]]=r[u[a]];return n}function ht(e){var t={seen:[],stylize:Xe};null!=e&&vt(t,e);for(var n=arguments.length,r=new Array(n>1?n-1:0),u=1;u<n;u++)r[u-1]=arguments[u];var a=r[0],i=0,o="",s="";if("string"==typeof a){if(1===r.length)return a;for(var c,l=0,d=0;d<a.length-1;d++)if(37===a.charCodeAt(d)){var f=a.charCodeAt(++d);if(i+1!==r.length){switch(f){case 115:var p=r[++i];c="number"==typeof p||"bigint"==typeof p?pt(t,p):"object"!==v(p)||null===p?String(p):Je(p,E(E({},e),{},{compact:3,colors:!1,depth:0}));break;case 106:c=Ke(r[++i]);break;case 100:var h=r[++i];c="bigint"==typeof h?pt(t,h):"symbol"===v(h)?"NaN":pt(t,h);break;case 79:c=Je(r[++i],e);break;case 111:c=Je(r[++i],E(E({},e),{},{showHidden:!0,showProxy:!0,depth:4}));break;case 105:var m=r[++i];c="bigint"==typeof m?pt(t,m):"symbol"===v(m)?"NaN":pt(t,parseInt(c));break;case 102:var g=r[++i];c="symbol"===v(g)?"NaN":pt(t,parseInt(g));break;case 99:i+=1,c="";break;case 37:o+=a.slice(l,d),l=d+1;continue;default:continue}l!==d-1&&(o+=a.slice(l,d-1)),o+=c,l=d+1}else 37===f&&(o+=a.slice(l,d),l=d+1)}0!==l&&(i++,s=" ",l<a.length&&(o+=a.slice(l)))}for(;i<r.length;){var _=r[i];o+=s,o+="string"!=typeof _?Je(_,e):_,s=" ",i++}return o}Je.colors=Ye,Je.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var mt={getCallerStackFrame:Dt,getErrorTrace:bt,getMeta:function(e,t,n,r,u,a){return Object.assign({},gt,{name:u,parentNames:a,date:new Date,logLevelId:e,logLevelName:t,path:r?void 0:Dt(n)})},transportJSON:function(e){console.log(Ke(e))},transportFormatted:function(e,t,n,r){var u=(n.length>0&&t.length>0?"\n":"")+n.join("\n");r.prettyInspectOptions.colors=r.stylePrettyLogs,console.log(e+ht.apply(void 0,[r.prettyInspectOptions].concat(x(t)))+u)},isBuffer:function(e){return!1},isError:Ct,prettyFormatLogObj:function(e,t){return e.reduce((function(e,n){return Ct(n)?e.errors.push(Et(n,t)):e.args.push(n),e}),{args:[],errors:[]})},prettyFormatErrorObj:Et},gt={runtime:["undefined"==typeof window?"undefined":v(window),"undefined"==typeof document?"undefined":v(document)].includes("undefined")?"Generic":"Browser",browser:null===globalThis||void 0===globalThis||null===(ne=globalThis.navigator)||void 0===ne?void 0:ne.userAgent},_t=/(?:(?:file|https?|global code|[^@]+)@)?(?:file:)?((?:\/[^:/]+){2,})(?::(\d+))?(?::(\d+))?/;function Dt(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Error();return yt(null==n||null===(t=n.stack)||void 0===t||null===(t=t.split("\n"))||void 0===t||null===(t=t.filter((function(e){return!e.includes("Error: ")})))||void 0===t?void 0:t[e])}function bt(e){var t,n,r;return null===(t=null!==(n=null==e||null===(r=e.stack)||void 0===r?void 0:r.split("\n"))&&void 0!==n?n:[])||void 0===t||null===(t=t.filter((function(e){return!e.includes("Error: ")})))||void 0===t?void 0:t.reduce((function(e,t){return e.push(yt(t)),e}),[])}function yt(e){var t,n=null===globalThis||void 0===globalThis||null===(t=globalThis.location)||void 0===t?void 0:t.origin,r={fullFilePath:void 0,fileName:void 0,fileNameWithLine:void 0,fileColumn:void 0,fileLine:void 0,filePath:void 0,filePathWithLine:void 0,method:void 0};if(null!=e){var u=e.match(_t);if(u){r.filePath=u[1].replace(/\?.*$/,""),r.fullFilePath="".concat(n).concat(r.filePath);var a=r.filePath.split("/");r.fileName=a[a.length-1],r.fileLine=u[2],r.fileColumn=u[3],r.filePathWithLine="".concat(r.filePath,":").concat(r.fileLine),r.fileNameWithLine="".concat(r.fileName,":").concat(r.fileLine)}}return r}function Ct(e){return e instanceof Error}function Et(e,t){var n=bt(e).map((function(e){return Ge(t,t.prettyErrorStackTemplate,E({},e),!0)})),r={errorName:" ".concat(e.name," "),errorMessage:Object.getOwnPropertyNames(e).reduce((function(t,n){return"stack"!==n&&t.push(e[n]),t}),[]).join(", "),errorStack:n.join("\n")};return Ge(t,t.prettyErrorTemplate,r)}var At=function(){return y((function e(t,n){var r,u,a,i,o,s,c,l,d,f,p,v,h,m,g,_,b,y,C,E,A,F,w,k,B,j,S=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;D(this,e),this.logObj=n,this.stackDepthLevel=S,this.runtime=mt,this.settings={type:null!==(r=null==t?void 0:t.type)&&void 0!==r?r:"pretty",name:null==t?void 0:t.name,parentNames:null==t?void 0:t.parentNames,minLevel:null!==(u=null==t?void 0:t.minLevel)&&void 0!==u?u:0,argumentsArrayName:null==t?void 0:t.argumentsArrayName,hideLogPositionForProduction:null!==(a=null==t?void 0:t.hideLogPositionForProduction)&&void 0!==a&&a,prettyLogTemplate:null!==(i=null==t?void 0:t.prettyLogTemplate)&&void 0!==i?i:"{{yyyy}}.{{mm}}.{{dd}} {{hh}}:{{MM}}:{{ss}}:{{ms}}\t{{logLevelName}}\t{{filePathWithLine}}{{nameWithDelimiterPrefix}}\t",prettyErrorTemplate:null!==(o=null==t?void 0:t.prettyErrorTemplate)&&void 0!==o?o:"\n{{errorName}} {{errorMessage}}\nerror stack:\n{{errorStack}}",prettyErrorStackTemplate:null!==(s=null==t?void 0:t.prettyErrorStackTemplate)&&void 0!==s?s:"  • {{fileName}}\t{{method}}\n\t{{filePathWithLine}}",prettyErrorParentNamesSeparator:null!==(c=null==t?void 0:t.prettyErrorParentNamesSeparator)&&void 0!==c?c:":",prettyErrorLoggerNameDelimiter:null!==(l=null==t?void 0:t.prettyErrorLoggerNameDelimiter)&&void 0!==l?l:"\t",stylePrettyLogs:null===(d=null==t?void 0:t.stylePrettyLogs)||void 0===d||d,prettyLogTimeZone:null!==(f=null==t?void 0:t.prettyLogTimeZone)&&void 0!==f?f:"UTC",prettyLogStyles:null!==(p=null==t?void 0:t.prettyLogStyles)&&void 0!==p?p:{logLevelName:{"*":["bold","black","bgWhiteBright","dim"],SILLY:["bold","white"],TRACE:["bold","whiteBright"],DEBUG:["bold","green"],INFO:["bold","blue"],WARN:["bold","yellow"],ERROR:["bold","red"],FATAL:["bold","redBright"]},dateIsoStr:"white",filePathWithLine:"white",name:["white","bold"],nameWithDelimiterPrefix:["white","bold"],nameWithDelimiterSuffix:["white","bold"],errorName:["bold","bgRedBright","whiteBright"],fileName:["yellow"],fileNameWithLine:"white"},prettyInspectOptions:null!==(v=null==t?void 0:t.prettyInspectOptions)&&void 0!==v?v:{colors:!0,compact:!1,depth:1/0},metaProperty:null!==(h=null==t?void 0:t.metaProperty)&&void 0!==h?h:"_meta",maskPlaceholder:null!==(m=null==t?void 0:t.maskPlaceholder)&&void 0!==m?m:"[***]",maskValuesOfKeys:null!==(g=null==t?void 0:t.maskValuesOfKeys)&&void 0!==g?g:["password"],maskValuesOfKeysCaseInsensitive:null!==(_=null==t?void 0:t.maskValuesOfKeysCaseInsensitive)&&void 0!==_&&_,maskValuesRegEx:null==t?void 0:t.maskValuesRegEx,prefix:x(null!==(b=null==t?void 0:t.prefix)&&void 0!==b?b:[]),attachedTransports:x(null!==(y=null==t?void 0:t.attachedTransports)&&void 0!==y?y:[]),overwrite:{mask:null==t||null===(C=t.overwrite)||void 0===C?void 0:C.mask,toLogObj:null==t||null===(E=t.overwrite)||void 0===E?void 0:E.toLogObj,addMeta:null==t||null===(A=t.overwrite)||void 0===A?void 0:A.addMeta,addPlaceholders:null==t||null===(F=t.overwrite)||void 0===F?void 0:F.addPlaceholders,formatMeta:null==t||null===(w=t.overwrite)||void 0===w?void 0:w.formatMeta,formatLogObj:null==t||null===(k=t.overwrite)||void 0===k?void 0:k.formatLogObj,transportFormatted:null==t||null===(B=t.overwrite)||void 0===B?void 0:B.transportFormatted,transportJSON:null==t||null===(j=t.overwrite)||void 0===j?void 0:j.transportJSON}}}),[{key:"log",value:function(e,t){var n,r,u,a,i,o,s,c;if(!(e<this.settings.minLevel)){for(var l=arguments.length,d=new Array(l>2?l-2:0),f=2;f<l;f++)d[f-2]=arguments[f];var p,v,h,m,g,_,D,b,y,C=[].concat(x(this.settings.prefix),d),E=null!=(null===(n=this.settings.overwrite)||void 0===n?void 0:n.mask)?null===(r=this.settings.overwrite)||void 0===r?void 0:r.mask(C):null!=this.settings.maskValuesOfKeys&&this.settings.maskValuesOfKeys.length>0?this._mask(C):C,A=null!=this.logObj?this._recursiveCloneAndExecuteFunctions(this.logObj):void 0,F=null!=(null===(u=this.settings.overwrite)||void 0===u?void 0:u.toLogObj)?null===(a=this.settings.overwrite)||void 0===a?void 0:a.toLogObj(E,A):this._toLogObj(E,A),w=null!=(null===(i=this.settings.overwrite)||void 0===i?void 0:i.addMeta)?null===(o=this.settings.overwrite)||void 0===o?void 0:o.addMeta(F,e,t):this._addMetaToLogObj(F,e,t),k=void 0;if(null!=(null===(s=this.settings.overwrite)||void 0===s?void 0:s.formatMeta))p=null===(v=this.settings.overwrite)||void 0===v?void 0:v.formatMeta(null==w?void 0:w[this.settings.metaProperty]);if(null!=(null===(c=this.settings.overwrite)||void 0===c?void 0:c.formatLogObj))k=null===(h=this.settings.overwrite)||void 0===h?void 0:h.formatLogObj(E,this.settings);if("pretty"===this.settings.type)p=null!==(m=p)&&void 0!==m?m:this._prettyFormatLogObjMeta(null==w?void 0:w[this.settings.metaProperty]),k=null!==(g=k)&&void 0!==g?g:this.runtime.prettyFormatLogObj(E,this.settings);if(null!=p&&null!=k)null!=(null===(_=this.settings.overwrite)||void 0===_?void 0:_.transportFormatted)?null===(D=this.settings.overwrite)||void 0===D||D.transportFormatted(p,k.args,k.errors,this.settings):this.runtime.transportFormatted(p,k.args,k.errors,this.settings);else null!=(null===(b=this.settings.overwrite)||void 0===b?void 0:b.transportJSON)?null===(y=this.settings.overwrite)||void 0===y||y.transportJSON(w):"hidden"!==this.settings.type&&this.runtime.transportJSON(w);return null!=this.settings.attachedTransports&&this.settings.attachedTransports.length>0&&this.settings.attachedTransports.forEach((function(e){e(w)})),w}}},{key:"attachTransport",value:function(e){this.settings.attachedTransports.push(e)}},{key:"getSubLogger",value:function(e,t){var n,r,u,a,i=E(E(E({},this.settings),e),{},{parentNames:null!=(null===(n=this.settings)||void 0===n?void 0:n.parentNames)&&null!=(null===(r=this.settings)||void 0===r?void 0:r.name)?[].concat(x(this.settings.parentNames),[this.settings.name]):null!=(null===(u=this.settings)||void 0===u?void 0:u.name)?[this.settings.name]:void 0,prefix:[].concat(x(this.settings.prefix),x(null!==(a=null==e?void 0:e.prefix)&&void 0!==a?a:[]))});return new this.constructor(i,null!=t?t:this.logObj,this.stackDepthLevel)}},{key:"_mask",value:function(e){var t=this,n=!0!==this.settings.maskValuesOfKeysCaseInsensitive?this.settings.maskValuesOfKeys:this.settings.maskValuesOfKeys.map((function(e){return e.toLowerCase()}));return null==e?void 0:e.map((function(e){return t._recursiveCloneAndMaskValuesOfKeys(e,n)}))}},{key:"_recursiveCloneAndMaskValuesOfKeys",value:function(e,t){var n,r=this,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(u.includes(e))return E({},e);if("object"===v(e)&&null!==e&&u.push(e),this.runtime.isError(e)||this.runtime.isBuffer(e))return e;if(e instanceof Map)return new Map(e);if(e instanceof Set)return new Set(e);if(Array.isArray(e))return e.map((function(e){return r._recursiveCloneAndMaskValuesOfKeys(e,t,u)}));if(e instanceof Date)return new Date(e.getTime());if(e instanceof URL)return{href:(n=e).href,protocol:n.protocol,username:n.username,password:n.password,host:n.host,hostname:n.hostname,port:n.port,pathname:n.pathname,search:n.search,searchParams:x(n.searchParams).map((function(e){var t=h(e,2);return{key:t[0],value:t[1]}})),hash:n.hash,origin:n.origin};if(null!==e&&"object"===v(e)){var a=this.runtime.isError(e)?this._cloneError(e):Object.create(Object.getPrototypeOf(e));return Object.getOwnPropertyNames(e).reduce((function(n,a){var i;return n[a]=t.includes(!0!==(null===(i=r.settings)||void 0===i?void 0:i.maskValuesOfKeysCaseInsensitive)?a:a.toLowerCase())?r.settings.maskPlaceholder:function(){try{return r._recursiveCloneAndMaskValuesOfKeys(e[a],t,u)}catch($l){return null}}(),n}),a)}if("string"==typeof e){var i,o,s=e,c=w((null===(i=this.settings)||void 0===i?void 0:i.maskValuesRegEx)||[]);try{for(c.s();!(o=c.n()).done;){var l,d=o.value;s=s.replace(d,(null===(l=this.settings)||void 0===l?void 0:l.maskPlaceholder)||"")}}catch(f){c.e(f)}finally{c.f()}return s}return e}},{key:"_recursiveCloneAndExecuteFunctions",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.isObjectOrArray(e)&&n.includes(e)?this.shallowCopy(e):(this.isObjectOrArray(e)&&n.push(e),Array.isArray(e)?e.map((function(e){return t._recursiveCloneAndExecuteFunctions(e,n)})):e instanceof Date?new Date(e.getTime()):this.isObject(e)?Object.getOwnPropertyNames(e).reduce((function(r,u){var a=Object.getOwnPropertyDescriptor(e,u);if(a){Object.defineProperty(r,u,a);var i=e[u];r[u]="function"==typeof i?i():t._recursiveCloneAndExecuteFunctions(i,n)}return r}),Object.create(Object.getPrototypeOf(e))):e)}},{key:"isObjectOrArray",value:function(e){return"object"===v(e)&&null!==e}},{key:"isObject",value:function(e){return"object"===v(e)&&!Array.isArray(e)&&null!==e}},{key:"shallowCopy",value:function(e){return Array.isArray(e)?x(e):E({},e)}},{key:"_toLogObj",value:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=null===(t=e)||void 0===t?void 0:t.map((function(e){return n.runtime.isError(e)?n._toErrorObject(e):e})),r=null==this.settings.argumentsArrayName?1!==e.length||Array.isArray(e[0])||!0===this.runtime.isBuffer(e[0])||e[0]instanceof Date?E(E({},r),e):"object"===v(e[0])&&null!=e[0]?E(E({},e[0]),r):E({0:e[0]},r):E(E({},r),{},A({},this.settings.argumentsArrayName,e))}},{key:"_cloneError",value:function(e){var t=new e.constructor;return Object.getOwnPropertyNames(e).forEach((function(n){t[n]=e[n]})),t}},{key:"_toErrorObject",value:function(e){var t;return{nativeError:e,name:null!==(t=e.name)&&void 0!==t?t:"Error",message:e.message,stack:this.runtime.getErrorTrace(e)}}},{key:"_addMetaToLogObj",value:function(e,t,n){return E(E({},e),{},A({},this.settings.metaProperty,this.runtime.getMeta(t,n,this.stackDepthLevel,this.settings.hideLogPositionForProduction,this.settings.name,this.settings.parentNames)))}},{key:"_prettyFormatLogObjMeta",value:function(e){var t,n,r,u,a,i,o,s,c,l,d,f;if(null==e)return"";var p,v,h,m,g,_,D,b,y,C,E,A,F,x,w,k,B=this.settings.prettyLogTemplate,j={};B.includes("{{yyyy}}.{{mm}}.{{dd}} {{hh}}:{{MM}}:{{ss}}:{{ms}}")?B=B.replace("{{yyyy}}.{{mm}}.{{dd}} {{hh}}:{{MM}}:{{ss}}:{{ms}}","{{dateIsoStr}}"):"UTC"===this.settings.prettyLogTimeZone?(j.yyyy=null!==(p=null==e||null===(v=e.date)||void 0===v?void 0:v.getUTCFullYear())&&void 0!==p?p:"----",j.mm=$e(null==e||null===(h=e.date)||void 0===h?void 0:h.getUTCMonth(),2,1),j.dd=$e(null==e||null===(m=e.date)||void 0===m?void 0:m.getUTCDate(),2),j.hh=$e(null==e||null===(g=e.date)||void 0===g?void 0:g.getUTCHours(),2),j.MM=$e(null==e||null===(_=e.date)||void 0===_?void 0:_.getUTCMinutes(),2),j.ss=$e(null==e||null===(D=e.date)||void 0===D?void 0:D.getUTCSeconds(),2),j.ms=$e(null==e||null===(b=e.date)||void 0===b?void 0:b.getUTCMilliseconds(),3)):(j.yyyy=null!==(y=null==e||null===(C=e.date)||void 0===C?void 0:C.getFullYear())&&void 0!==y?y:"----",j.mm=$e(null==e||null===(E=e.date)||void 0===E?void 0:E.getMonth(),2,1),j.dd=$e(null==e||null===(A=e.date)||void 0===A?void 0:A.getDate(),2),j.hh=$e(null==e||null===(F=e.date)||void 0===F?void 0:F.getHours(),2),j.MM=$e(null==e||null===(x=e.date)||void 0===x?void 0:x.getMinutes(),2),j.ss=$e(null==e||null===(w=e.date)||void 0===w?void 0:w.getSeconds(),2),j.ms=$e(null==e||null===(k=e.date)||void 0===k?void 0:k.getMilliseconds(),3));var S="UTC"===this.settings.prettyLogTimeZone?null==e?void 0:e.date:new Date((null==e||null===(t=e.date)||void 0===t?void 0:t.getTime())-6e4*(null==e||null===(n=e.date)||void 0===n?void 0:n.getTimezoneOffset()));j.rawIsoStr=null==S?void 0:S.toISOString(),j.dateIsoStr=null==S?void 0:S.toISOString().replace("T"," ").replace("Z",""),j.logLevelName=null==e?void 0:e.logLevelName,j.fileNameWithLine=null!==(r=null==e||null===(u=e.path)||void 0===u?void 0:u.fileNameWithLine)&&void 0!==r?r:"",j.filePathWithLine=null!==(a=null==e||null===(i=e.path)||void 0===i?void 0:i.filePathWithLine)&&void 0!==a?a:"",j.fullFilePath=null!==(o=null==e||null===(s=e.path)||void 0===s?void 0:s.fullFilePath)&&void 0!==o?o:"";var T,O=null===(c=this.settings.parentNames)||void 0===c?void 0:c.join(this.settings.prettyErrorParentNamesSeparator);(O=null!=O&&null!=(null==e?void 0:e.name)?O+this.settings.prettyErrorParentNamesSeparator:void 0,j.name=(null!=(null==e?void 0:e.name)||null!=O)&&null!==(l=(null!==(d=O)&&void 0!==d?d:"")+(null==e?void 0:e.name))&&void 0!==l?l:"",j.nameWithDelimiterPrefix=j.name.length>0?this.settings.prettyErrorLoggerNameDelimiter+j.name:"",j.nameWithDelimiterSuffix=j.name.length>0?j.name+this.settings.prettyErrorLoggerNameDelimiter:"",null!=(null===(f=this.settings.overwrite)||void 0===f?void 0:f.addPlaceholders))&&(null===(T=this.settings.overwrite)||void 0===T||T.addPlaceholders(e,j));return Ge(this.settings,B,j)}}])}(),Ft=function(e){function t(e,n){D(this,t);var r="undefined"!=typeof window&&"undefined"!=typeof document,u=!!r&&(void 0!==window.chrome&&void 0!==window.CSS&&window.CSS.supports("color","green")),a=!!r&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent);return(e=e||{}).stylePrettyLogs=!(e.stylePrettyLogs&&r&&!u)&&e.stylePrettyLogs,o(this,t,[e,n,a?4:5])}return f(t,e),y(t,[{key:"log",value:function(e,n){for(var r=arguments.length,u=new Array(r>2?r-2:0),a=2;a<r;a++)u[a-2]=arguments[a];return c(t,"log",this,3)([e,n].concat(u))}},{key:"silly",value:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return c(t,"log",this,3)([0,"SILLY"].concat(n))}},{key:"trace",value:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return c(t,"log",this,3)([1,"TRACE"].concat(n))}},{key:"debug",value:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return c(t,"log",this,3)([2,"DEBUG"].concat(n))}},{key:"info",value:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return c(t,"log",this,3)([3,"INFO"].concat(n))}},{key:"warn",value:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return c(t,"log",this,3)([4,"WARN"].concat(n))}},{key:"error",value:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return c(t,"log",this,3)([5,"ERROR"].concat(n))}},{key:"fatal",value:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return c(t,"log",this,3)([6,"FATAL"].concat(n))}},{key:"getSubLogger",value:function(e,n){return c(t,"getSubLogger",this,3)([e,n])}}])}(At),xt="https://lou01238.live.dynatrace.com/api/v2/otlp",wt="webchat-sdk-ui-v2",kt=function(e){try{return window.atob(e)}catch($l){return console.warn("Failed to parse provider reporter api key",$l),e}}("ZHQwYzAxLktNUUw0UU5NVk40WFEyRVI3R1JTS0VHNS5YQkdCMkVNQUhIREc1UTNPWk9DTldIR0xURlZJT05SM1NZVVNaS1lMVTY3SDVQQlQzT1JSVk5KTlFHNE5HUEZY"),Bt=function(){return y((function e(t){var n=t.context,r=t.proxyUrl;D(this,e),A(this,"logger",void 0),A(this,"tracer",void 0);var u=this.createExporter(r),a=this.createTraceExporter(r);this.logger=this.createLogger(u,n),this.tracer=this.createTracer(a,n)}),[{key:"createExporter",value:function(e){return new V({url:"".concat(e||xt,"/v1/logs"),headers:{Authorization:"Api-Token ".concat(kt)}})}},{key:"createTraceExporter",value:function(e){return new H({url:"".concat(e||xt,"/v1/traces"),headers:{Authorization:"Api-Token ".concat(kt)}})}},{key:"createLogger",value:function(t,n){if(t){var r=new q(E(A({},W,wt),n)),u=new Y({resource:r});u.addLogRecordProcessor(new G(t)),$.setGlobalLoggerProvider(u);var a=u.getLogger(wt);return function(t,n){var r=n.severityNumber,u=n.severityText,o=i(n,e);a.emit({body:t,severityNumber:r,severityText:u,attributes:o})}}}},{key:"createTracer",value:function(e,t){if(e){var n=new q(E(A({},W,wt),t)),r=new K({resource:n});return r.addSpanProcessor(new J(e)),r.register({contextManager:new Q}),X.setGlobalTracerProvider(r),r.getTracer(wt)}}},{key:"debug",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null===(t=this.escapeLogger)||void 0===t||t.call(this,e,E(E({},n),{},{severityNumber:ee.DEBUG,severityText:"DEBUG"}))}},{key:"info",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null===(t=this.escapeLogger)||void 0===t||t.call(this,e,E(E({},n),{},{severityNumber:ee.INFO,severityText:"INFO"}))}},{key:"error",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null===(t=this.escapeLogger)||void 0===t||t.call(this,e,E(E({},n),{},{severityNumber:ee.ERROR,severityText:"ERROR","otel.status_code":"ERROR"}))}},{key:"warn",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null===(t=this.escapeLogger)||void 0===t||t.call(this,e,E(E({},n),{},{severityNumber:ee.WARN,severityText:"WARN"}))}},{key:"startSpan",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null===(t=this.tracer)||void 0===t?void 0:t.startSpan(e);return r?(r.setAttributes(E(E({},n),{},{startAt:(new Date).toISOString()})),r):null}},{key:"startChildSpan",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t)return null;var u=X.setSpan(te.active(),t),a=null===(n=this.tracer)||void 0===n?void 0:n.startSpan(e,{},u);return a?(a.setAttributes(E(E({},r),{},{startAt:(new Date).toISOString()})),a):null}},{key:"escapeLogger",get:function(){if(this.logger)return this.logger;console.error("Can not reach to the dynatrace logger!")}}])}();A(Bt,"instance",void 0);var jt=function(e){var n,r=!1;function u(){return{documentVisibilityState:document.visibilityState,identity:Gr.getState().identity,roomId:Gr.getState().credentials.roomId,providerRegion:Gr.getState().credentials.region,maximize:Gr.getState().isFrameOpened?"on":"off",lang:We.current,browserLang:window.navigator.language}}function a(e,t){var u,a,i,o={talkdeskWidgetHref:window.location.href,talkdeskAccountId:null==e||null===(u=e.touchpoint)||void 0===u?void 0:u.account_id,talkdeskTouchpointId:null==e||null===(a=e.appProps)||void 0===a?void 0:a.touchpointId,talkdeskRegion:null==e||null===(i=e.appProps)||void 0===i?void 0:i.region,injectorWindowHref:null==e?void 0:e.injectorWindowHref,environment:"stg",userAgent:window.navigator.userAgent};r=/localhost/gi.test(o.injectorWindowHref||""),n=function(e){var t=e.context,n=e.proxyUrl;return Bt.instance||(Bt.instance=new Bt({context:t,proxyUrl:n})),Bt.instance}({context:o,proxyUrl:t})}return{init:function(t){var n,r,u=null!=t&&null!==(n=t.appProps)&&void 0!==n&&n.proxyHost?"//".concat(null==t||null===(r=t.appProps)||void 0===r?void 0:r.proxyHost).concat(De.tdReporter):"";if("dynatrace"===e)a(t,u)},run:function(a,o){var s=a._meta;if((null==s?void 0:s.logLevelId)>=o){var c=function(e){var n=e._meta,r=i(e,t),u=n,a=(null==u?void 0:u.name)||"unknown logger name",o=u.date.toISOString(),s=u.logLevelName,c=[a];if(r)try{Object.values(r).forEach((function(e){if(!(e instanceof Function||e instanceof RegExp))if("object"===v(e))if(null!=e&&e.nativeError){var t=e;c.push("".concat((null==t?void 0:t.name)||"Error",": ").concat((null==t?void 0:t.message)||""))}else c.push(xe(e));else c.push(String(e))}))}catch($l){var l=$l;c.push("Error formatTsLog payload",xe(r),"".concat((null==l?void 0:l.name)||"Error",": ").concat((null==l?void 0:l.message)||""))}return{logLevelId:u.logLevelId,logLevelName:s,logDate:o,log:c.join(" | ")}}(a);return"dynatrace"===e?function(e){var t=e.log,a=e.logLevelName,i=e.logDate;if(n){var o,s,c=a.toLocaleLowerCase();r||null===(o=(s=n)[c])||void 0===o||o.call(s,t,E({logDate:i},u()))}return t}(c):null}},startSpan:function(e){var t,a;return r?null:null===(t=(a=n).startSpan)||void 0===t?void 0:t.call(a,e,u())},startChildSpan:function(e,t){var a,i;return r?null:null===(a=(i=n).startChildSpan)||void 0===a?void 0:a.call(i,e,t,u())}}}("dynatrace"),St=function(e,t){return null!=t&&t.name?"".concat(t.name,":").concat(e):e},Tt=function(e){function t(e,n){return D(this,t),o(this,t,[e,n])}return f(t,e),y(t,[{key:"startSpan",value:function(e){return jt.startSpan(e)}},{key:"startChildSpan",value:function(e,t){return jt.startChildSpan(e,t)}},{key:"getSubLogger",value:function(e,n){var r=c(t,"getSubLogger",this,3)([e,n]);return r.startSpan=function(t){return jt.startSpan(St(t,e))},r.startChildSpan=function(t,n){return jt.startChildSpan(St(t,e),n)},r}}])}(Ft),Ot=s("l",new Tt({type:"pretty",name:"Widget",minLevel:3,prettyLogTemplate:"{{dateIsoStr}} [{{logLevelName}}] {{name}} ",attachedTransports:[function(e){return jt.run(e,3)}]})),Nt="__lodash_hash_undefined__",It=9007199254740991,Lt="[object Arguments]",Pt="[object Function]",Mt="[object GeneratorFunction]",Rt="[object Symbol]",zt=/^\[object .+?Constructor\]$/,Zt=/^(?:0|[1-9]\d*)$/,Ut="object"==v(g)&&g&&g.Object===Object&&g,Vt="object"==("undefined"==typeof self?"undefined":v(self))&&self&&self.Object===Object&&self,Ht=Ut||Vt||Function("return this")();function qt(e,t){return!!(e?e.length:0)&&function(e,t,n){if(t!=t)return function(e,t,n){var r=e.length,u=n+-1;for(;++u<r;)if(t(e[u],u,e))return u;return-1}(e,Yt,n);var r=n-1,u=e.length;for(;++r<u;)if(e[r]===t)return r;return-1}(e,t,0)>-1}function Wt(e,t){for(var n=-1,r=t.length,u=e.length;++n<r;)e[u+n]=t[n];return e}function Yt(e){return e!=e}function Gt(e,t){return e.has(t)}function $t(e,t){return function(n){return e(t(n))}}var Kt,Jt=Array.prototype,Qt=Function.prototype,Xt=Object.prototype,en=Ht["__core-js_shared__"],tn=(Kt=/[^.]+$/.exec(en&&en.keys&&en.keys.IE_PROTO||""))?"Symbol(src)_1."+Kt:"",nn=Qt.toString,rn=Xt.hasOwnProperty,un=Xt.toString,an=RegExp("^"+nn.call(rn).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),on=Ht.Symbol,sn=$t(Object.getPrototypeOf,Object),cn=Xt.propertyIsEnumerable,ln=Jt.splice,dn=on?on.isConcatSpreadable:void 0,fn=Object.getOwnPropertySymbols,pn=Math.max,vn=xn(Ht,"Map"),hn=xn(Object,"create");function mn(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function gn(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function _n(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Dn(e){var t=-1,n=e?e.length:0;for(this.__data__=new _n;++t<n;)this.add(e[t])}function bn(e,t){var n=On(e)||Tn(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,u=!!r;for(var a in e)u&&("length"==a||jn(a,r))||n.push(a);return n}function yn(e,t){for(var n,r,u=e.length;u--;)if((n=e[u][0])===(r=t)||n!=n&&r!=r)return u;return-1}function Cn(e){if(!Ln(e)||(t=e,tn&&tn in t))return!1;var t,n=In(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch($l){}return t}(e)?an:zt;return n.test(function(e){if(null!=e){try{return nn.call(e)}catch($l){}try{return e+""}catch($l){}}return""}(e))}function En(e){if(!Ln(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t,n,r,u=(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||Xt,t===r),a=[];for(var i in e)("constructor"!=i||!u&&rn.call(e,i))&&a.push(i);return a}function An(e){return function(e,t,n){var r=t(e);return On(e)?r:Wt(r,n(e))}(e,Mn,kn)}function Fn(e,t){var n,r,u=e.__data__;return("string"==(r=v(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?u["string"==typeof t?"string":"hash"]:u.map}function xn(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Cn(n)?n:void 0}mn.prototype.clear=function(){this.__data__=hn?hn(null):{}},mn.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},mn.prototype.get=function(e){var t=this.__data__;if(hn){var n=t[e];return n===Nt?void 0:n}return rn.call(t,e)?t[e]:void 0},mn.prototype.has=function(e){var t=this.__data__;return hn?void 0!==t[e]:rn.call(t,e)},mn.prototype.set=function(e,t){return this.__data__[e]=hn&&void 0===t?Nt:t,this},gn.prototype.clear=function(){this.__data__=[]},gn.prototype.delete=function(e){var t=this.__data__,n=yn(t,e);return!(n<0)&&(n==t.length-1?t.pop():ln.call(t,n,1),!0)},gn.prototype.get=function(e){var t=this.__data__,n=yn(t,e);return n<0?void 0:t[n][1]},gn.prototype.has=function(e){return yn(this.__data__,e)>-1},gn.prototype.set=function(e,t){var n=this.__data__,r=yn(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},_n.prototype.clear=function(){this.__data__={hash:new mn,map:new(vn||gn),string:new mn}},_n.prototype.delete=function(e){return Fn(this,e).delete(e)},_n.prototype.get=function(e){return Fn(this,e).get(e)},_n.prototype.has=function(e){return Fn(this,e).has(e)},_n.prototype.set=function(e,t){return Fn(this,e).set(e,t),this},Dn.prototype.add=Dn.prototype.push=function(e){return this.__data__.set(e,Nt),this},Dn.prototype.has=function(e){return this.__data__.has(e)};var wn=fn?$t(fn,Object):zn,kn=fn?function(e){for(var t=[];e;)Wt(t,wn(e)),e=sn(e);return t}:zn;function Bn(e){return On(e)||Tn(e)||!!(dn&&e&&e[dn])}function jn(e,t){return!!(t=null==t?It:t)&&("number"==typeof e||Zt.test(e))&&e>-1&&e%1==0&&e<t}function Sn(e){if("string"==typeof e||function(e){return"symbol"==v(e)||Pn(e)&&un.call(e)==Rt}(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Tn(e){return function(e){return Pn(e)&&Nn(e)}(e)&&rn.call(e,"callee")&&(!cn.call(e,"callee")||un.call(e)==Lt)}var On=Array.isArray;function Nn(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=It}(e.length)&&!In(e)}function In(e){var t=Ln(e)?un.call(e):"";return t==Pt||t==Mt}function Ln(e){var t=v(e);return!!e&&("object"==t||"function"==t)}function Pn(e){return!!e&&"object"==v(e)}function Mn(e){return Nn(e)?bn(e):En(e)}var Rn=function(e,t){return t=pn(void 0===t?e.length-1:t,0),function(){for(var n=arguments,r=-1,u=pn(n.length-t,0),a=Array(u);++r<u;)a[r]=n[t+r];r=-1;for(var i=Array(t+1);++r<t;)i[r]=n[r];return i[t]=a,function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,i)}}((function(e,t){return null==e?{}:(t=function(e,t){for(var n=-1,r=e?e.length:0,u=Array(r);++n<r;)u[n]=t(e[n],n,e);return u}(function(e,t,n,r,u){var a=-1,i=e.length;for(n||(n=Bn),u||(u=[]);++a<i;){var o=e[a];n(o)?Wt(u,o):u[u.length]=o}return u}(t),Sn),function(e,t){return function(e,t,n){for(var r=-1,u=t.length,a={};++r<u;){var i=t[r],o=e[i];n(o,i)&&(a[i]=o)}return a}(e=Object(e),t,(function(t,n){return n in e}))}(e,function(e,t,n,r){var u=-1,a=qt,i=!0,o=e.length,s=[],c=t.length;if(!o)return s;t.length>=200&&(a=Gt,i=!1,t=new Dn(t));e:for(;++u<o;){var l=e[u],d=l;if(l=0!==l?l:0,i&&d==d){for(var f=c;f--;)if(t[f]===d)continue e;s.push(l)}else a(t,d,r)||s.push(l)}return s}(An(e),t)))}));function zn(){return[]}var Zn=b(Rn),Un=9007199254740991,Vn="[object Arguments]",Hn="[object Function]",qn="[object GeneratorFunction]",Wn="[object Symbol]",Yn="object"==v(g)&&g&&g.Object===Object&&g,Gn="object"==("undefined"==typeof self?"undefined":v(self))&&self&&self.Object===Object&&self,$n=Yn||Gn||Function("return this")();function Kn(e,t){for(var n=-1,r=t.length,u=e.length;++n<r;)e[u+n]=t[n];return e}var Jn=Object.prototype,Qn=Jn.hasOwnProperty,Xn=Jn.toString,er=$n.Symbol,tr=Jn.propertyIsEnumerable,nr=er?er.isConcatSpreadable:void 0,rr=Math.max;function ur(e){return ir(e)||function(e){return function(e){return or(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Un}(e.length)&&!function(e){var t=function(e){var t=v(e);return!!e&&("object"==t||"function"==t)}(e)?Xn.call(e):"";return t==Hn||t==qn}(e)}(e)}(e)&&Qn.call(e,"callee")&&(!tr.call(e,"callee")||Xn.call(e)==Vn)}(e)||!!(nr&&e&&e[nr])}function ar(e){if("string"==typeof e||function(e){return"symbol"==v(e)||or(e)&&Xn.call(e)==Wn}(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}var ir=Array.isArray;function or(e){return!!e&&"object"==v(e)}var sr=function(e,t){return t=rr(void 0===t?e.length-1:t,0),function(){for(var n=arguments,r=-1,u=rr(n.length-t,0),a=Array(u);++r<u;)a[r]=n[t+r];r=-1;for(var i=Array(t+1);++r<t;)i[r]=n[r];return i[t]=a,function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,i)}}((function(e,t){return null==e?{}:function(e,t){return function(e,t,n){for(var r=-1,u=t.length,a={};++r<u;){var i=t[r],o=e[i];n(o,i)&&(a[i]=o)}return a}(e=Object(e),t,(function(t,n){return n in e}))}(e,function(e,t){for(var n=-1,r=e?e.length:0,u=Array(r);++n<r;)u[n]=t(e[n],n,e);return u}(function(e,t,n,r,u){var a=-1,i=e.length;for(n||(n=ur),u||(u=[]);++a<i;){var o=e[a];n(o)?Kn(u,o):u[u.length]=o}return u}(t),ar))})),cr=b(sr),lr={exports:{}};!function(e,t){var n="__lodash_hash_undefined__",r=1,u=2,a=1/0,i=9007199254740991,o="[object Arguments]",s="[object Array]",c="[object Boolean]",l="[object Date]",d="[object Error]",f="[object Function]",p="[object GeneratorFunction]",h="[object Map]",m="[object Number]",_="[object Object]",D="[object Promise]",b="[object RegExp]",y="[object Set]",C="[object String]",E="[object Symbol]",A="[object WeakMap]",F="[object ArrayBuffer]",x="[object DataView]",w=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,k=/^\w*$/,B=/^\./,j=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,S=/\\(\\)?/g,T=/^\[object .+?Constructor\]$/,O=/^(?:0|[1-9]\d*)$/,N={};N["[object Float32Array]"]=N["[object Float64Array]"]=N["[object Int8Array]"]=N["[object Int16Array]"]=N["[object Int32Array]"]=N["[object Uint8Array]"]=N["[object Uint8ClampedArray]"]=N["[object Uint16Array]"]=N["[object Uint32Array]"]=!0,N[o]=N[s]=N[F]=N[c]=N[x]=N[l]=N[d]=N[f]=N[h]=N[m]=N[_]=N[b]=N[y]=N[C]=N[A]=!1;var I="object"==v(g)&&g&&g.Object===Object&&g,L="object"==("undefined"==typeof self?"undefined":v(self))&&self&&self.Object===Object&&self,P=I||L||Function("return this")(),M=t&&!t.nodeType&&t,R=M&&e&&!e.nodeType&&e,z=R&&R.exports===M&&I.process,Z=function(){try{return z&&z.binding("util")}catch($l){}}(),U=Z&&Z.isTypedArray;function V(e,t){for(var n=-1,r=t.length,u=e.length;++n<r;)e[u+n]=t[n];return e}function H(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(t(e[n],n,e))return!0;return!1}function q(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch($l){}return t}function W(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function Y(e,t){return function(n){return e(t(n))}}function G(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var $=Array.prototype,K=Function.prototype,J=Object.prototype,Q=P["__core-js_shared__"],X=function(){var e=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ee=K.toString,te=J.hasOwnProperty,ne=J.toString,re=RegExp("^"+ee.call(te).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ue=P.Symbol,ae=P.Uint8Array,ie=Y(Object.getPrototypeOf,Object),oe=J.propertyIsEnumerable,se=$.splice,ce=Object.getOwnPropertySymbols,le=Y(Object.keys,Object),de=Ue(P,"DataView"),fe=Ue(P,"Map"),pe=Ue(P,"Promise"),ve=Ue(P,"Set"),he=Ue(P,"WeakMap"),me=Ue(Object,"create"),ge=Xe(de),_e=Xe(fe),De=Xe(pe),be=Xe(ve),ye=Xe(he),Ce=ue?ue.prototype:void 0,Ee=Ce?Ce.valueOf:void 0,Ae=Ce?Ce.toString:void 0;function Fe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function xe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function we(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ke(e){var t=-1,n=e?e.length:0;for(this.__data__=new we;++t<n;)this.add(e[t])}function Be(e){this.__data__=new xe(e)}function je(e,t){var n=rt(e)||nt(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,u=!!r;for(var a in e)!t&&!te.call(e,a)||u&&("length"==a||We(a,r))||n.push(a);return n}function Se(e,t){for(var n=e.length;n--;)if(tt(e[n][0],t))return n;return-1}function Te(e,t){for(var n=0,r=(t=Ye(t,e)?[t]:Me(t)).length;null!=e&&n<r;)e=e[Qe(t[n++])];return n&&n==r?e:void 0}function Oe(e,t){return null!=e&&t in Object(e)}function Ne(e,t,n,a,i){return e===t||(null==e||null==t||!ot(e)&&!st(t)?e!=e&&t!=t:function(e,t,n,a,i,f){var p=rt(e),v=rt(t),g=s,D=s;p||(g=(g=qe(e))==o?_:g);v||(D=(D=qe(t))==o?_:D);var A=g==_&&!q(e),w=D==_&&!q(t),k=g==D;if(k&&!A)return f||(f=new Be),p||dt(e)?Re(e,t,n,a,i,f):function(e,t,n,a,i,o,s){switch(n){case x:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case F:return!(e.byteLength!=t.byteLength||!a(new ae(e),new ae(t)));case c:case l:case m:return tt(+e,+t);case d:return e.name==t.name&&e.message==t.message;case b:case C:return e==t+"";case h:var f=W;case y:var p=o&u;if(f||(f=G),e.size!=t.size&&!p)return!1;var v=s.get(e);if(v)return v==t;o|=r,s.set(e,t);var g=Re(f(e),f(t),a,i,o,s);return s.delete(e),g;case E:if(Ee)return Ee.call(e)==Ee.call(t)}return!1}(e,t,g,n,a,i,f);if(!(i&u)){var B=A&&te.call(e,"__wrapped__"),j=w&&te.call(t,"__wrapped__");if(B||j){var S=B?e.value():e,T=j?t.value():t;return f||(f=new Be),n(S,T,a,i,f)}}if(!k)return!1;return f||(f=new Be),function(e,t,n,r,a,i){var o=a&u,s=ft(e),c=s.length,l=ft(t),d=l.length;if(c!=d&&!o)return!1;var f=c;for(;f--;){var p=s[f];if(!(o?p in t:te.call(t,p)))return!1}var v=i.get(e);if(v&&i.get(t))return v==t;var h=!0;i.set(e,t),i.set(t,e);var m=o;for(;++f<c;){var g=e[p=s[f]],_=t[p];if(r)var D=o?r(_,g,p,t,e,i):r(g,_,p,e,t,i);if(!(void 0===D?g===_||n(g,_,r,a,i):D)){h=!1;break}m||(m="constructor"==p)}if(h&&!m){var b=e.constructor,y=t.constructor;b==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof y&&y instanceof y||(h=!1)}return i.delete(e),i.delete(t),h}(e,t,n,a,i,f)}(e,t,Ne,n,a,i))}function Ie(e){return!(!ot(e)||(t=e,X&&X in t))&&(at(e)||q(e)?re:T).test(Xe(e));var t}function Le(e){return"function"==typeof e?e:null==e?vt:"object"==v(e)?rt(e)?function(e,t){if(Ye(e)&&$e(t))return Ke(Qe(e),t);return function(n){var a=function(e,t,n){var r=null==e?void 0:Te(e,t);return void 0===r?n:r}(n,e);return void 0===a&&a===t?function(e,t){return null!=e&&function(e,t,n){t=Ye(t,e)?[t]:Me(t);var r,u=-1,a=t.length;for(;++u<a;){var i=Qe(t[u]);if(!(r=null!=e&&n(e,i)))break;e=e[i]}if(r)return r;a=e?e.length:0;return!!a&&it(a)&&We(i,a)&&(rt(e)||nt(e))}(e,t,Oe)}(n,e):Ne(t,a,void 0,r|u)}}(e[0],e[1]):function(e){var t=function(e){var t=ft(e),n=t.length;for(;n--;){var r=t[n],u=e[r];t[n]=[r,u,$e(u)]}return t}(e);if(1==t.length&&t[0][2])return Ke(t[0][0],t[0][1]);return function(n){return n===e||function(e,t,n,a){var i=n.length,o=i;if(null==e)return!o;for(e=Object(e);i--;){var s=n[i];if(s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var c=(s=n[i])[0],l=e[c],d=s[1];if(s[2]){if(void 0===l&&!(c in e))return!1}else{var f=new Be;if(!Ne(d,l,a,r|u,f))return!1}}return!0}(n,0,t)}}(e):Ye(t=e)?(n=Qe(t),function(e){return null==e?void 0:e[n]}):function(e){return function(t){return Te(t,e)}}(t);var t,n}function Pe(e){if(!ot(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=Ge(e),n=[];for(var r in e)("constructor"!=r||!t&&te.call(e,r))&&n.push(r);return n}function Me(e){return rt(e)?e:Je(e)}function Re(e,t,n,a,i,o){var s=i&u,c=e.length,l=t.length;if(c!=l&&!(s&&l>c))return!1;var d=o.get(e);if(d&&o.get(t))return d==t;var f=-1,p=!0,v=i&r?new ke:void 0;for(o.set(e,t),o.set(t,e);++f<c;){var h=e[f],m=t[f];if(a)var g=s?a(m,h,f,t,e,o):a(h,m,f,e,t,o);if(void 0!==g){if(g)continue;p=!1;break}if(v){if(!H(t,(function(e,t){if(!v.has(t)&&(h===e||n(h,e,a,i,o)))return v.add(t)}))){p=!1;break}}else if(h!==m&&!n(h,m,a,i,o)){p=!1;break}}return o.delete(e),o.delete(t),p}function ze(e){return function(e,t,n){var r=t(e);return rt(e)?r:V(r,n(e))}(e,pt,He)}function Ze(e,t){var n,r,u=e.__data__;return("string"==(r=v(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?u["string"==typeof t?"string":"hash"]:u.map}function Ue(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Ie(n)?n:void 0}Fe.prototype.clear=function(){this.__data__=me?me(null):{}},Fe.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Fe.prototype.get=function(e){var t=this.__data__;if(me){var r=t[e];return r===n?void 0:r}return te.call(t,e)?t[e]:void 0},Fe.prototype.has=function(e){var t=this.__data__;return me?void 0!==t[e]:te.call(t,e)},Fe.prototype.set=function(e,t){return this.__data__[e]=me&&void 0===t?n:t,this},xe.prototype.clear=function(){this.__data__=[]},xe.prototype.delete=function(e){var t=this.__data__,n=Se(t,e);return!(n<0)&&(n==t.length-1?t.pop():se.call(t,n,1),!0)},xe.prototype.get=function(e){var t=this.__data__,n=Se(t,e);return n<0?void 0:t[n][1]},xe.prototype.has=function(e){return Se(this.__data__,e)>-1},xe.prototype.set=function(e,t){var n=this.__data__,r=Se(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},we.prototype.clear=function(){this.__data__={hash:new Fe,map:new(fe||xe),string:new Fe}},we.prototype.delete=function(e){return Ze(this,e).delete(e)},we.prototype.get=function(e){return Ze(this,e).get(e)},we.prototype.has=function(e){return Ze(this,e).has(e)},we.prototype.set=function(e,t){return Ze(this,e).set(e,t),this},ke.prototype.add=ke.prototype.push=function(e){return this.__data__.set(e,n),this},ke.prototype.has=function(e){return this.__data__.has(e)},Be.prototype.clear=function(){this.__data__=new xe},Be.prototype.delete=function(e){return this.__data__.delete(e)},Be.prototype.get=function(e){return this.__data__.get(e)},Be.prototype.has=function(e){return this.__data__.has(e)},Be.prototype.set=function(e,t){var n=this.__data__;if(n instanceof xe){var r=n.__data__;if(!fe||r.length<199)return r.push([e,t]),this;n=this.__data__=new we(r)}return n.set(e,t),this};var Ve=ce?Y(ce,Object):ht,He=ce?function(e){for(var t=[];e;)V(t,Ve(e)),e=ie(e);return t}:ht,qe=function(e){return ne.call(e)};function We(e,t){return!!(t=null==t?i:t)&&("number"==typeof e||O.test(e))&&e>-1&&e%1==0&&e<t}function Ye(e,t){if(rt(e))return!1;var n=v(e);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ct(e))||(k.test(e)||!w.test(e)||null!=t&&e in Object(t))}function Ge(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||J)}function $e(e){return e==e&&!ot(e)}function Ke(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}(de&&qe(new de(new ArrayBuffer(1)))!=x||fe&&qe(new fe)!=h||pe&&qe(pe.resolve())!=D||ve&&qe(new ve)!=y||he&&qe(new he)!=A)&&(qe=function(e){var t=ne.call(e),n=t==_?e.constructor:void 0,r=n?Xe(n):void 0;if(r)switch(r){case ge:return x;case _e:return h;case De:return D;case be:return y;case ye:return A}return t});var Je=et((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(ct(e))return Ae?Ae.call(e):"";var t=e+"";return"0"==t&&1/e==-a?"-0":t}(t);var n=[];return B.test(e)&&n.push(""),e.replace(j,(function(e,t,r,u){n.push(r?u.replace(S,"$1"):t||e)})),n}));function Qe(e){if("string"==typeof e||ct(e))return e;var t=e+"";return"0"==t&&1/e==-a?"-0":t}function Xe(e){if(null!=e){try{return ee.call(e)}catch($l){}try{return e+""}catch($l){}}return""}function et(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,u=t?t.apply(this,r):r[0],a=n.cache;if(a.has(u))return a.get(u);var i=e.apply(this,r);return n.cache=a.set(u,i),i};return n.cache=new(et.Cache||we),n}function tt(e,t){return e===t||e!=e&&t!=t}function nt(e){return function(e){return st(e)&&ut(e)}(e)&&te.call(e,"callee")&&(!oe.call(e,"callee")||ne.call(e)==o)}et.Cache=we;var rt=Array.isArray;function ut(e){return null!=e&&it(e.length)&&!at(e)}function at(e){var t=ot(e)?ne.call(e):"";return t==f||t==p}function it(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}function ot(e){var t=v(e);return!!e&&("object"==t||"function"==t)}function st(e){return!!e&&"object"==v(e)}function ct(e){return"symbol"==v(e)||st(e)&&ne.call(e)==E}var lt,dt=U?(lt=U,function(e){return lt(e)}):function(e){return st(e)&&it(e.length)&&!!N[ne.call(e)]};function ft(e){return ut(e)?je(e):function(e){if(!Ge(e))return le(e);var t=[];for(var n in Object(e))te.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}function pt(e){return ut(e)?je(e,!0):Pe(e)}function vt(e){return e}function ht(){return[]}e.exports=function(e,t){return null==e?{}:function(e,t,n){for(var r=-1,u=t.length,a={};++r<u;){var i=t[r],o=e[i];n(o,i)&&(a[i]=o)}return a}(e,ze(e),Le(t))}}(lr,lr.exports);var dr=b(lr.exports);function fr(e){return e?Zn(e,be):{}}function pr(e){return e?cr(e,be):{}}function vr(e,t){var n={};if(null!=e&&e.theme){var r=e.theme,u=r.brandColor,a=r.headerTextColor,i=r.headerBgColor,o=r.welcomeBgColor,s=r.welcomeTextColor,c=r.initialFormBgColor,l=r.agentBubbleColor,d=r.agentTextColor,f=r.customerBubbleColor,p=r.customerTextColor,v=r.buttonColors,h=v.primary,m=h.textColor,g=h.backgroundColor,_=h.hoverBackgroundColor,D=v.secondary,b=D.textColor,y=D.backgroundColor,C=D.hoverBackgroundColor,A=v.outLine,F=A.textColor,x=A.borderColor,w=A.backgroundColor,k=A.hoverBackgroundColor,B=v.transparent,j=void 0===B?{}:B,S=j.textColor,T=void 0===S?F:S,O=j.hoverBackgroundColor;n={chatThemeColor:u,chatHoverThemeColor:u,chatHeaderBackgroundColor:i,chatTitleTextColor:a,chatSubtitleTextColor:a,chatCloseButtonColor:a,chatTitleIconColor:m,welcomeMessageBackgroundColor:o,welcomeMessageTitleColor:s,welcomeMessageContentColor:s,initialFormBackgroundColor:c,botTextColor:d,botBackgroundColor:l,botAnchorTextColor:d,botAnchorTextColorVisited:d,userTextColor:p,userBackgroundColor:f,userAnchorTextColor:p,userAnchorTextColorVisited:p,customButtonBackgroundColor:g,customButtonColor:m,customButtonBorderColor:g,customButtonHoverBackgroundColor:_,customButtonHoverColor:m,customButtonHoverBorderColor:_,startChatButtonTextColor:m,startChatButtonBorderColor:g,startChatButtonBackgroundColor:g,startChatButtonHoverTextColor:m,startChatButtonHoverBorderColor:_,startChatButtonHoverBackgroundColor:_,startChatTransparentButtonTextColor:T,startChatTransparentButtonHoverBackgroundColor:void 0===O?k:O,replyTextColor:F,replyBorderColor:x,replyBackgroundColor:w,replyHoverTextColor:F,replyHoverBackgroundColor:k,buttonTextColor:b,buttonHoverTextColor:b,buttonBackgroundColor:y,buttonHoverBackgroundColor:C,chatConfirmButtonFontColor:m,chatConfirmButtonBackgroundColor:g,chatConfirmButtonHoverBackgroundColor:_}}return null!=e&&e.logoUrl&&(n=E(E({},n),{},{chatTitleIcon:"url(".concat(e.logoUrl,")")})),t&&(n=E(E({},n),t),t.chatTitleIcon&&(n=E(E({},n),{},{chatTitleIcon:"url(".concat(t.chatTitleIcon,")")}))),n}function hr(e){return e?dr({chatTitleIcon:e.logoUrl,chatTitle:e.title,chatSubtitle:e.description},(function(e){return!!e})):{}}var mr=function(){return mr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var u in t=arguments[n])Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u]);return e},mr.apply(this,arguments)};function gr(e,t,n,r){return new(n||(n=Promise))((function(t,u){function a(e){try{o(r.next(e))}catch($l){u($l)}}function i(e){try{o(r.throw(e))}catch($l){u($l)}}function o(e){var r;e.done?t(e.value):(r=e.value,r instanceof n?r:new n((function(e){e(r)}))).then(a,i)}o((r=r.apply(e,[])).next())}))}function _r(e,t){var n,r,u,a,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,o[0]&&(i=0)),i;)try{if(n=1,r&&(u=2&o[0]?r.return:o[0]?r.throw||((u=r.return)&&u.call(r),0):r.next)&&!(u=u.call(r,o[1])).done)return u;switch(r=0,u&&(o=[2&o[0],u.value]),o[0]){case 0:case 1:u=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(u=i.trys,(u=u.length>0&&u[u.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!u||o[1]>u[0]&&o[1]<u[3])){i.label=o[1];break}if(6===o[0]&&i.label<u[1]){i.label=u[1],u=o;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(o);break}u[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch($l){o=[6,$l],r=0}finally{n=u=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}"function"==typeof SuppressedError&&SuppressedError;var Dr=function(){function e(e){this.options=e,this._traceId=0,this._methods=new Map,this._emitter=new C,this._handlerOnMessageByBound=this.handlerOnMessage.bind(this),this.createService(),this.getListener().addEventListener("message",this._handlerOnMessageByBound,!1)}return e.jsonParseData=function(e,t){try{return JSON.parse(e)}catch($l){return t}},e.jsonStringifyData=function(e){try{return JSON.stringify(e)}catch($l){return""}},e.runHandler=function(e){return gr(this,0,void 0,(function(){var t;return _r(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,e()];case 1:return[2,{data:n.sent(),error:null}];case 2:return[2,{error:"string"==typeof(t=n.sent())?t:t.message}];case 3:return[2]}}))}))},e.prototype.destroy=function(){this._emitter.removeAllListeners(),this._methods.clear(),this.getListener().removeEventListener("message",this._handlerOnMessageByBound,!1)},e.prototype.register=function(e,t){this._methods.set(e,t),this.log("Register ".concat(e),this._methods)},e.prototype.unregister=function(e){this._methods.delete(e),this.log("Unregister ".concat(e),this._methods)},e.prototype.trigger=function(t){for(var n=this,r=[],u=1;u<arguments.length;u++)r[u-1]=arguments[u];return new Promise((function(u){var a=n.createId();n.sendMessage({id:a,method:t,payload:r,type:"request"}),n.log("Trigger ".concat(t," | ").concat(a),r),n._emitter.once("response_".concat(a),(function(r){u(r.payload),n.log("Receive ".concat(t," | ").concat(a),e.jsonStringifyData(r))}))}))},e.prototype.createId=function(){return"".concat(this.options.name,"_").concat(this._traceId++)},e.prototype.createService=function(){var t=this;this._emitter.on(this.options.topic,(function(n){return gr(t,0,void 0,(function(){var t,r,u,a,i;return _r(this,(function(o){switch(o.label){case 0:return t=n.id,r=n.payload,u=n.method,(a=this._methods.get(u))?[4,e.runHandler((function(){return a.apply(void 0,r)}))]:[3,2];case 1:return i=o.sent(),this.sendMessage({id:t,method:u,payload:i,type:"response"}),[3,3];case 2:this.sendMessage({id:t,method:u,payload:{error:"No found method in service"},type:"response"}),o.label=3;case 3:return[2]}}))}))}))},e.prototype.sendMessage=function(t){var n=this.options,r=n.sender,u=n.origin,a=n.topic,i=e.jsonStringifyData(mr(mr({},t),{topic:a}));if(!r.postMessage)throw new Error("The sender no found postMessage method please check the sender option");i&&r.postMessage(i,u||"*")},e.prototype.handlerOnMessage=function(t){var n=t.data;if(n){var r=e.jsonParseData(n,null);if(r&&r.topic===this.options.topic){var u=r.id,a=r.type;"request"===a&&this._emitter.emit(this.options.topic,r),"response"===a&&this._emitter.emit("response_".concat(u),r)}}},e.prototype.getListener=function(){return this.options.listener||window},e.prototype.log=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=this.options,u=r.debug,a=r.name;if(u){var i=(new Date).toISOString(),o="[RPC] [".concat(i,"] [").concat(a,"] ").concat(e);console.groupCollapsed(o),(null==t?void 0:t.length)&&console.info.apply(console,t),console.groupEnd()}},Object.defineProperty(e.prototype,"methods",{get:function(){return this._methods},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"emitter",{get:function(){return this._emitter},enumerable:!1,configurable:!0}),e}(),br=[Intl.DateTimeFormat().resolvedOptions().locale,"en-US"],yr={hour:"2-digit",minute:"2-digit"};function Cr(e){return new Date(e).toLocaleTimeString(br,yr)}function Er(e){return e<10?"0".concat(e):e}var Ar=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,Fr={YYYY:function(e){return new Date(e).getFullYear()},MM:function(e){return Er(new Date(e).getMonth()+1)},DD:function(e){return Er(new Date(e).getDate())},HH:function(e){return Er(new Date(e).getHours())},mm:function(e){return new Date(e).getMinutes()},ss:function(e){return new Date(e).getSeconds()}};function xr(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD").match(Ar);return t?t.map((function(e){return Fr[e]||e})).filter((function(e){return!!e})).reduce((function(t,n){return t+="function"==typeof n?n(e):n}),""):""}var wr=s("Q",F((function(){var e=new Dr({name:"Widget",sender:window.parent,topic:Oe,debug:!1});e.register(Ne.FrameOpened,(function(){Gr.getState().setIsFrameOpened(!0)})),e.register(Ne.UpdateAppConfigs,(function(e){jr.getState().update(e)})),e.register(Ne.UpdateContext,(function(e){jr.getState().updateContext(e)}));var t,n,r,u=function(){var t=_(m().mark((function t(){var n;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.trigger(Ne.GetTdAccessToken);case 2:if(null==(n=t.sent)||!n.data){t.next=6;break}return Gr.getState().setCredentials({tdAccessToken:n.data}),t.abrupt("return",n.data);case 6:return t.abrupt("return","");case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return{frameReady:function(){return e.trigger(Ne.FrameReady)},frameResize:function(t){return e.trigger(Ne.FrameResize,t)},maximize:function(){return e.trigger(Ne.Maximize)},minimize:(r=_(m().mark((function t(){var n;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.trigger(Ne.Minimize);case 2:return n=t.sent,Gr.getState().setIsFrameOpened(!1),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)}))),function(){return r.apply(this,arguments)}),getAllConfig:function(){return e.trigger(Ne.GetAllConfig)},getCredentials:function(t){return e.trigger(Ne.GetCredentials,t)},setBadge:function(t){return e.trigger(Ne.SetBadge,t)},downloadTranscript:(n=_(m().mark((function t(n){var r,a,i;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=function(t){var r="".concat(d.t("downloadTranscriptFileName"),"-").concat(xr(new Date,"YYYY-MM-DD-HH-mm"),".txt"),u=Intl.DateTimeFormat().resolvedOptions().timeZone;return e.trigger(Ne.DownloadTranscript,{token:t,interactionId:n,fileName:r,timezone:u})},a=Gr.getState().credentials.tdAccessToken){t.next=6;break}return t.next=5,u();case 5:a=t.sent;case 6:return t.next=8,r(a);case 8:if(null!=(i=t.sent)&&i.data){t.next=14;break}return t.next=12,u();case 12:return a=t.sent,t.abrupt("return",r(a));case 14:return t.abrupt("return",i);case 15:case"end":return t.stop()}}),t)}))),function(e){return n.apply(this,arguments)}),previewReady:(t=_(m().mark((function t(){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.trigger(Ne.PreviewReady);case 2:case"end":return t.stop()}}),t)}))),function(){return t.apply(this,arguments)}),onPreviewConfigChange:function(t){e.register(Ne.UpdatePreviewConfig,(function(e){t(e)}))},conversationStart:function(){return e.trigger(Ne.ConversationStart)}}}))),kr=(s("e",(function(){return wr(k((function(e){return{maximize:e.maximize,frameResize:e.frameResize}})))})),F((function(e,t){return{page:"Conversation",config:new Le,reset:function(){e({config:new Le})},init:(n=_(m().mark((function n(){var r,u,a,i,o,s,c,l,d,f,p,v,h;return m().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return wr.getState().onPreviewConfigChange((function(n){var r,u,a=(null==n||null===(r=n.widgetSettings)||void 0===r?void 0:r.appearance)||{},i=a.title,o=a.description,s=a.logoUrl,c=(new Le).options;e((function(e){return{page:n.page,config:E(E({},e.config),{},{appearanceConfig:E(E({},e.config.appearanceConfig),n.widgetSettings),options:E(E(E({},(new Le).options),t().config.options),{},{chatTitle:i||(null==c?void 0:c.chatTitle),chatSubtitle:o||c.chatSubtitle,chatTitleIcon:s||c.chatTitleIcon}),participantName:n.userName})}}));var l=fr(vr(null==n||null===(u=n.widgetSettings)||void 0===u?void 0:u.appearance));Fe(document.documentElement,l)})),n.next=3,wr.getState().getAllConfig();case 3:if(null==(r=n.sent)||!r.data){n.next=26;break}return u=Ce(),a=u.isMobile,i=u.type,o=r.data,s=o.appProps,c=o.appConfig,l=o.context,d=o.touchpoint,f=o.participantName,p=new Le,n.next=10,We.changeLanguage(null==c?void 0:c.languageCode);case 10:v=n.sent,document.documentElement.className=i,p.isMobile=a,p.deviceType=i,p.appConfig=E(E(E({},t().config.appConfig),c),{},{languageCode:v}),p.appProps=s,p.context=l,p.participantName=f;try{d.config&&(p.appearanceConfig=JSON.parse(d.config))}catch($l){console.log("Error parsing appearance config, using default appearance config")}return p.options=E(E({},t().config.options),pr(null==c?void 0:c.styles)),p.styles=(null==c?void 0:c.styles)||{},e({config:p}),h=fr(null==c?void 0:c.styles),Fe(document.documentElement,h),n.next=26,wr.getState().previewReady();case 26:case"end":return n.stop()}}),n)}))),function(){return n.apply(this,arguments)}),update:function(){return Promise.resolve()},updateContext:function(){}};var n}))),Br=(s("X",(function(){return kr(k((function(e){return{page:e.page,chatTitle:e.config.options.chatTitle,chatSubtitle:e.config.options.chatSubtitle,enableEmoji:e.config.appConfig.enableEmoji,enableAttachments:e.config.appConfig.enableAttachments,enableValidation:e.config.appConfig.enableValidation,welcomeMessage:e.config.appearanceConfig.initialScreen.welcomeMessage,showInitialScreen:e.config.appearanceConfig.initialScreen.showInitialScreen,controls:e.config.appearanceConfig.initialScreen.controls,showCloseConversationButton:e.config.appearanceConfig.generalSettings.showCloseConversationButton,showDownloadTranscriptButton:e.config.appearanceConfig.generalSettings.showChatTranscriptsDownloadButton,showTypingIndicatorButton:e.config.appearanceConfig.generalSettings.showTypingIndicatorButton,context:e.config.context,isDisabled:"InitialScreen"===e.page&&!e.config.appearanceConfig.initialScreen.showInitialScreen}})))})),Ot.getSubLogger({name:"useConfig"})),jr=F((function(e,t){var n,r,u=!1;return{config:new Le,reset:function(){e({config:new Le}),u=!1},init:(r=_(m().mark((function n(){var r,a,i,o,s,c,l,d,f,p,v,h,g,_,D;return m().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!u){n.next=2;break}return n.abrupt("return");case 2:return u=!0,n.next=5,wr.getState().getAllConfig();case 5:if(null==(r=n.sent)||!r.data){n.next=32;break}return jt.init(r.data),o=Ce(),s=o.isMobile,c=o.type,l=r.data,d=l.appProps,f=l.appConfig,p=l.touchpoint,v=l.context,h=l.injectorWindowHostname,g=new Le,n.next=13,We.changeLanguage(null==f?void 0:f.languageCode);case 13:_=n.sent,document.documentElement.className=c,g.isMobile=s,g.deviceType=c,g.injectorWindowHostname=h,g.enableSplitTwilioBootstrap=p.enable_split_twilio_bootstrap,g.feedbackFlowId=p.feedback_flow_id,g.appConfig=E(E(E({},t().config.appConfig),f),{},{languageCode:_}),g.appProps=d,g.context=v,g.appearanceConfig=we(p.config,g.appearanceConfig,(function(e){Br.error("Error parsing touchpoint appearance config",e)})),g.styles=fr(f.styles),g.options=E(E({},t().config.options),Object.assign(hr(null==g||null===(a=g.appearanceConfig)||void 0===a?void 0:a.appearance),pr(f.styles))),e({config:g}),D=vr(null==g||null===(i=g.appearanceConfig)||void 0===i?void 0:i.appearance,fr(f.styles)),Fe(document.documentElement,D),Br.info("Received configuration: touchpointId=".concat(null==d?void 0:d.touchpointId," appConfig=").concat(xe(f)," appProps=").concat(xe(d)," touchpoint=").concat(xe(p))),Gr.setState({enableInitialForm:g.appearanceConfig.initialScreen.showInitialScreen}),Gr.getState().setLayoutDirection(_);case 32:case"end":return n.stop()}}),n)}))),function(){return r.apply(this,arguments)}),update:(n=_(m().mark((function n(r){var a,i,o,s,c;return m().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=r.appConfig,u){n.next=4;break}return Br.warn("Update app configs failed because the config is not initialized yet."),n.abrupt("return");case 4:return o=t(),s=o.config,n.next=7,We.changeLanguage(null==i?void 0:i.languageCode);case 7:c=n.sent,s.appConfig=E(E(E({},s.appConfig),i),{},{languageCode:c}),s.options=E(E({},s.options),Object.assign(hr(null==s||null===(a=s.appearanceConfig)||void 0===a?void 0:a.appearance),pr(i.styles))),e({config:s}),Gr.getState().setLayoutDirection(c);case 12:case"end":return n.stop()}}),n)}))),function(e){return n.apply(this,arguments)}),updateContext:function(n){u||Br.warn("Update context failed because the config is not initialized yet.");var r=t().config;r.context=E({},n),e({config:r})}}})),Sr=s("r",(function(){return jr(k((function(e){return{chatTitle:e.config.options.chatTitle,chatSubtitle:e.config.options.chatSubtitle,enableEmoji:e.config.appConfig.enableEmoji,enableAttachments:e.config.appConfig.enableAttachments,enableValidation:e.config.appConfig.enableValidation,enableUserInput:e.config.appConfig.enableUserInput,showInitialScreen:e.config.appearanceConfig.initialScreen.showInitialScreen,welcomeMessage:e.config.appearanceConfig.initialScreen.welcomeMessage,controls:e.config.appearanceConfig.initialScreen.controls,showCloseConversationButton:e.config.appearanceConfig.generalSettings.showCloseConversationButton,showDownloadTranscriptButton:e.config.appearanceConfig.generalSettings.showChatTranscriptsDownloadButton,showTypingIndicatorButton:e.config.appearanceConfig.generalSettings.showTypingIndicatorButton,context:e.config.context,languageCode:e.config.appConfig.languageCode}})))})),Tr=function(e){return e.config.appProps},Or=function(e){return e.config.styles},Nr=function(e){return e.config.options},Ir=function(e){return e.config.appearanceConfig.initialScreen},Lr=function(e){return e.config.appearanceConfig.chat},Pr=s("S",(function(e){return e.config.appearanceConfig.generalSettings})),Mr=s("k",/preview.html/gi.test(window.location.href)?kr:jr);s("a",(function(){return Mr(Ir)})),s("d",(function(){return Mr(Tr)})),s("b",(function(){return Mr(Or)}));function Rr(){return(e=new URL(window.location.href),new URLSearchParams(e.search)).get("touchpointId")||"";var e}var zr=function(){return"function"==typeof window.BroadcastChannel},Zr=Ot.getSubLogger({name:"useBoardCast"}),Ur=s("O",F()((function(){var e="td-board-cast-".concat(Rr()||"unknown-touchpoint-id"),t=new Map,n=!1,r=null,u=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e){var r=t.get(e);null==r||r.forEach((function(e){return e.apply(void 0,x(n))})),Zr.debug("Received tab event=".concat(e," data=").concat(xe(n)))}},a=function(t){if(t.key===e&&t.newValue){var n=we(t.newValue,{}),r=n.event,a=n.data;u(r,a),function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.mode,u=void 0===r?window.localStorage:r,a=n.onError;try{return u.removeItem(e),!0}catch(t){return null==a||a(t),!1}}(e)}};return{init:function(){n||(zr()?(Zr.debug("Using tab events for broadcast channel namespace=".concat(e)),(r=new BroadcastChannel(e)).onmessage=function(e){var t=e.data,n=t.event,r=t.data;u(n,r)}):(Zr.debug("Using tab events for storage changed namespace=".concat(e)),window.addEventListener("storage",a)),n=!0)},on:function(e,n){var r=t.get(e)||[];t.set(e,[].concat(x(r),[n]))},emit:function(t){for(var n=arguments.length,u=new Array(n>1?n-1:0),a=1;a<n;a++)u[a-1]=arguments[a];var i;zr()?null===(i=r)||void 0===i||i.postMessage({event:t,data:u}):function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.mode,u=void 0===r?window.localStorage:r,a=n.onError;try{return u.setItem(e,t),!0}catch($l){return null==a||a($l),!1}}(e,xe({event:t,data:u}));Zr.debug("Emit tab from event=".concat(t," data=").concat(xe(u)))},off:function(e,n){var r;t.has(e)&&t.set(e,(null===(r=t.get(e))||void 0===r?void 0:r.filter((function(e){return e!==n})))||[])},destroy:function(){var e,u;null===(e=r)||void 0===e||null===(u=e.close)||void 0===u||u.call(e),r=null,window.removeEventListener("storage",a),t.clear(),n=!1},count:function(){var e={};return t.forEach((function(t,n){e[n]=t})),e}}}))),Vr=function(e){return{on:e.on,off:e.off,emit:e.emit}};s("F",(function(){return Ur(k(Vr))}));function Hr(){return{showScreenLoading:!1,layoutDirection:de,page:ce.Start,events:{},enableInitialForm:!1,formData:null,hasInitialized:!1,userInputAreaRef:null,interactionId:"",shouldLoadFeedback:!1,feedbackLink:"",feedbackStatus:{status:"init",message:"",height:0},typingMode:"agent",isFrameOpened:!1,identity:"",credentials:{accessToken:"",roomId:"",region:"",tdAccessToken:""},chatContentScroll:{headerVisible:!1,footerVisible:!1,scrollTop:0,scrollOver:0,scrollPercent:0},initialScreenScroll:{headerVisible:!1,footerVisible:!1},initialScreenHeight:he,unreadMessageCount:0}}var qr=Ot.getSubLogger({name:"useApp"}),Wr="td-app-".concat(Rr()||"unknown-touchpoint-id"),Yr=null,Gr=s("u",F()(B(j((function(e,t){return E(E({},Hr()),{},{go:function(n,r){var u=t(),a=u.page,i=u.events;if(a!==n){var o,s,c,l="leave_".concat(a),d="enter_".concat(n),f="".concat(a,"_to_").concat(n);null===(o=i[l])||void 0===o||o.forEach((function(e){return e(r)})),e({page:n}),null===(s=i[d])||void 0===s||s.forEach((function(e){return e(r)})),null===(c=i[f])||void 0===c||c.forEach((function(e){return e(r)})),qr.debug("Going from ".concat(a," to ").concat(n," with params=").concat(xe(null!=r?r:{})))}else qr.debug("Going to same ".concat(n," with params=").concat(xe(null!=r?r:{})))},getInitialPage:function(){return t().enableInitialForm?ce.InitialScreen:ce.Conversation},is:function(e){return(Array.isArray(e)?e:[e]).includes(t().page)},isNot:function(e){return!(Array.isArray(e)?e:[e]).includes(t().page)},on:function(t,n){e((function(e){var r;return e.events[t]||(e.events[t]=[]),null===(r=e.events[t])||void 0===r||r.push(n),e}))},off:function(n,r){var u=t().events;u[n]&&e((function(e){var t;return e.events[n]=null===(t=u[n])||void 0===t?void 0:t.filter((function(e){return e!==r})),e}))},reset:function(t){if(t){var n=Array.isArray(t)?t:[t],r=Hr(),u=n.reduce((function(e,t){return E(E({},e),{},A({},t,r[t]))}),{});e(u)}else e(Hr())},emit:function(e,n){var r,u=t().events;u[e]&&(null===(r=u[e])||void 0===r||r.forEach((function(e){return e(n)})))},focusUserInputArea:function(){var e=t().userInputAreaRef;null==e||e.focus()},setIsFrameOpened:function(t){e({isFrameOpened:t})},createIdentity:function(){var n,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=t().identity;!r&&a||(a=r&&u?u:"widget.".concat(null===(n=Mr.getState().config)||void 0===n?void 0:n.injectorWindowHostname,"-").concat(ue()),e({identity:a}));return a},setCredentials:function(n){var r=E(E({},t().credentials),n);return e({credentials:r}),r},hasProviderCredentials:function(){var e=t().credentials,n=e.accessToken,r=e.roomId;return!(!n||!r)},setFormData:function(t){e({formData:t})},setLayoutDirection:function(n){var r=t().layoutDirection,u=pe.indexOf(n)>-1?fe:de;r!==u&&e({layoutDirection:u})},hiddenScreenLoading:function(){Yr&&(clearTimeout(Yr),Yr=null),t().showScreenLoading&&e({showScreenLoading:!1})},enableScreenLoading:function(n){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t().showScreenLoading||(e({showScreenLoading:!0}),r&&Ur.getState().emit(le.enableScreenLoading,n),Yr=setTimeout((function(){e({showScreenLoading:!1}),Yr=null}),n))},updateChatContentScroll:function(n){var r=E(E({},t().chatContentScroll),n);r.footerVisible||100===r.scrollPercent?e({chatContentScroll:r,unreadMessageCount:0}):e({chatContentScroll:r})},updateInitialScreenScroll:function(n){e({initialScreenScroll:E(E({},t().initialScreenScroll),n)})},updateInitialScreenHeight:function(t){e({initialScreenHeight:t})},updateFeedbackStatus:function(n){qr.info("Received feedback page message current=".concat(xe(n)," prev=").concat(xe(t().feedbackStatus))),e({feedbackStatus:n})},enableLoadFeedback:function(){t().shouldLoadFeedback||e({shouldLoadFeedback:!0})},updateUnreadMessageCount:function(n){n>0&&!t().chatContentScroll.footerVisible?e({unreadMessageCount:n}):e({unreadMessageCount:0})}})}),{name:Wr,partialize:function(e){return Rr()?{isFrameOpened:e.isFrameOpened,credentials:e.credentials,identity:e.identity}:{}}}))));function $r(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==v(e))if(Array.isArray(e)){var u=e.length;for(t=0;t<u;t++)e[t]&&(n=$r(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Kr(){for(var e,t,n=0,r="",u=arguments.length;n<u;n++)(e=arguments[n])&&(t=$r(e))&&(r&&(r+=" "),r+=t);return r}var Jr="_AvatarBox_15kim_11",Qr=S.lazy((function(){return Pe((function(){return l.import("./DefaultAgentAvatarIcon-legacy-DzuinjI5.js")}),void 0,l.meta.url)})),Xr=S.lazy((function(){return Pe((function(){return l.import("./DefaultAvatarIcon-legacy-CGhVJJgS.js")}),void 0,l.meta.url)})),eu=function(e){var t=e.url,n=e.className,r=e.type,u=void 0===r?"system":r;return t?T.jsx("div",{className:Kr(Jr,n),"data-testid":"avatar",style:{background:"url(".concat(t,") center center / cover no-repeat")}}):T.jsx("div",{className:Kr(Jr,n),"data-testid":"avatar",children:"agent"===u?T.jsx(S.Suspense,{children:T.jsx(Qr,{})}):T.jsx(S.Suspense,{children:T.jsx(Xr,{})})})},tu=s("a3","static-bottom-area");function nu(){return T.jsx("div",{id:tu})}var ru=s("$",S.lazy((function(){return Pe((function(){return l.import("./Buttons-legacy-CHqzOgT_.js")}),void 0,l.meta.url)}))),uu=S.lazy((function(){return Pe((function(){return l.import("./Carousel-legacy-BfF6yH4y.js")}),void 0,l.meta.url)})),au={systemBubble:"_systemBubble_b47m5_11",bubble:"_bubble_b47m5_11",messageContainer:"_messageContainer_b47m5_11",message:"_message_b47m5_11",error:"_error_b47m5_11",loading:"_loading_b47m5_11",rounded:"_rounded_b47m5_11",normal:"_normal_b47m5_11",transparent:"_transparent_b47m5_21",avatar:"_avatar_b47m5_31",relative:"_relative_b47m5_57",status:"_status_b47m5_66",nameAndTimestamp:"_nameAndTimestamp_b47m5_71",name:"_name_b47m5_71",divide:"_divide_b47m5_85",timestamp:"_timestamp_b47m5_94",received:"_received_b47m5_97",sent:"_sent_b47m5_104",inSeries:"_inSeries_b47m5_116",lastMessage:"_lastMessage_b47m5_119"};function iu(e){var t;switch(e){case"text":case"rich_text":case"buttons":case"quick_replies":case"file":case"error":case"image":case"video":case"audio":case"carousel":case"typing":return au.bubble;case"system":return au.systemBubble;default:return t=e,console.warn('Type "'.concat(t,'" is not supported')),au.bubble}}function ou(e){var t;switch(e){case"text":case"quick_replies":case"file":case"error":case"typing":case"system":return au.normal;case"image":case"video":case"audio":return au.transparent;case"rich_text":case"buttons":return au.rounded;case"carousel":return au.relative;default:return t=e,console.warn('Type "'.concat(t,'" is not supported')),au.normal}}var su=function(e){function t(e){var n;return D(this,t),(n=o(this,t,[e])).state={hasError:!1},n}return f(t,e),y(t,[{key:"componentDidCatch",value:function(e,t){var n,r;null===(n=(r=this.props).onError)||void 0===n||n.call(r,e,t),this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?this.props.fallback:this.props.children}}])}(S.Component);s("K",su);var cu=function(e){var t=e.type,n=e.className,r=e.children;return T.jsx("div",{className:Kr(au.message,ou(t),n),"data-testid":"message-box",children:r})},lu=function(e){var t=e.type,n=e.errorMessage;return T.jsx(cu,{className:au.error,type:t,children:n||"Failed to load dynamically imported message."})},du={spinner:"_spinner_tzosf_11",rotation:"_rotation_tzosf_1",tiny:"_tiny_tzosf_23",small:"_small_tzosf_28",medium:"_medium_tzosf_33"},fu=function(e){var t=e.size,n=void 0===t?"small":t;return T.jsx("div",{className:Kr(du.spinner,du[n]),"data-testid":"sending"})},pu=function(e){var t=e.type;return T.jsx(cu,{className:au.loading,type:t,children:T.jsx(fu,{})})},vu=function(e){var t=e.type,n=e.errorMessage,r=e.children,u=e.onError;return T.jsx(su,{onError:u,fallback:T.jsx(lu,{type:t,errorMessage:n}),children:T.jsx(S.Suspense,{fallback:T.jsx(pu,{type:t}),children:T.jsx(cu,{type:t,children:r})})})};function hu(e){var t=e.name,n=e.avatar,r=e.status,u=e.timestamp,a=e.children,i=e.alignment,o=e.type,s=e.errorMessage,c=e.onError,l=e.isLastMessage,d=void 0!==l&&l,f=e.isInSeries,p=void 0!==f&&f;return T.jsxs("div",{className:Kr(iu(o),A(A(A(A({},au.sent,"sent"===i),au.received,"received"===i),au.inSeries,p),au.lastMessage,d)),"data-qa":o,"data-testid":o,children:[n&&T.jsx("div",{className:au.avatar,children:n}),T.jsxs("div",{className:au.messageContainer,children:[T.jsx(vu,{type:o,errorMessage:s,onError:c,children:a}),r&&T.jsx("div",{className:au.status,children:r})]}),(t||u)&&T.jsxs("div",{className:au.nameAndTimestamp,children:[t&&T.jsx("div",{className:au.name,children:t}),t&&u&&T.jsx("div",{className:au.divide,children:T.jsx("span",{children:"·"})}),u&&T.jsx("div",{className:au.timestamp,children:u})]})]})}var mu="_bottom_zl3d8_6",gu="_timestamp_zl3d8_10",_u="_name_zl3d8_11";function Du(e){var t=e.url,n=e.align,r=e.type;return T.jsx(eu,{className:Kr(A({},mu,"bottom"===n)),url:t,type:r})}var bu=function(e){var t=e.name;return T.jsx("span",{className:_u,children:t})};bu.whyDidYouRender=!0;var yu={small:"_small_1ri7f_6",medium:"_medium_1ri7f_11",large:"_large_1ri7f_16",fail:"_fail_1ri7f_21"},Cu=function(e){var t=e.size,n=void 0===t?"small":t,r=e.onResend;return T.jsx("button",{onClick:r,"data-testid":"fail","aria-label":"failed to send",className:Kr(yu.fail,yu[n]),children:T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",children:[T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.99996 1.66699C5.39996 1.66699 1.66663 5.40033 1.66663 10.0003C1.66663 14.6003 5.39996 18.3337 9.99996 18.3337C14.6 18.3337 18.3333 14.6003 18.3333 10.0003C18.3333 5.40033 14.6 1.66699 9.99996 1.66699ZM9.16663 14.167V12.5003H10.8333V14.167H9.16663ZM9.16663 5.83366V10.8337H10.8333V5.83366H9.16663Z",fill:"#F5222D"}),T.jsx("mask",{id:"mask0_3590_3492",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"1",y:"1",width:"18",height:"18",children:T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.99996 1.66699C5.39996 1.66699 1.66663 5.40033 1.66663 10.0003C1.66663 14.6003 5.39996 18.3337 9.99996 18.3337C14.6 18.3337 18.3333 14.6003 18.3333 10.0003C18.3333 5.40033 14.6 1.66699 9.99996 1.66699ZM9.16663 14.167V12.5003H10.8333V14.167H9.16663ZM9.16663 5.83366V10.8337H10.8333V5.83366H9.16663Z",fill:"white"})}),T.jsx("g",{mask:"url(#mask0_3590_3492)"})]})})};function Eu(e){var t=e.status,n=e.onResend;return"sending"===t?T.jsx(fu,{}):"failure"===t?T.jsx(Cu,{onResend:n}):void 0}function Au(e){var t=e.text;return T.jsx("span",{className:gu,children:t})}var Fu=s("p",(function(){return Pe((function(){return l.import("./TextMessage-legacy-QaErVu6D.js")}),void 0,l.meta.url)})),xu=s("a4",S.lazy(Fu)),wu=s("Y",{buttonsText:"_buttonsText_1x53l_11",container:"_container_1x53l_17",button:"_button_1x53l_11"}),ku=function(e){var t=e.text,n=e.linkProtocol,r=e.linkTarget,u=e.buttons,a=e.onButtonClick;return T.jsxs("div",{className:wu.vaButtons,children:[T.jsx(xu,{className:wu.buttonsText,text:t,linkProtocol:n,linkTarget:r}),T.jsx(ru,{buttons:u,onClick:a})]})},Bu=S.lazy((function(){return Pe((function(){return l.import("./HtmlMessage-legacy-CqDVzsOO.js")}),void 0,l.meta.url)})),ju=new Map;function Su(e){return ju.get(e)}function Tu(e,t){return function(n){var r=n.identity;Su(r)||function(e,t){ju.set(e,t)}(r,new ke(t(n)));var u=Su(r).load(),a=E(E({},n),u);return T.jsx(e,E({},a))}}var Ou=S.lazy(_(m().mark((function e(){var t,n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe((function(){return l.import("./MediaMessage-legacy-CKyZG4uE.js")}),void 0,l.meta.url);case 2:return t=e.sent.default,n=Tu(t,function(){var e=_(m().mark((function e(t){var n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.getContentTemporaryUrl)){e.next=7;break}return e.next=4,n();case 4:if(!(r=e.sent)){e.next=7;break}return e.abrupt("return",{url:r});case 7:return e.abrupt("return",{});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",{default:n});case 5:case"end":return e.stop()}}),e)})))),Nu=S.lazy((function(){return Pe((function(){return l.import("./QuickReplyMessage-legacy-BMx1PQx-.js")}),void 0,l.meta.url)})),Iu="_system-message_xyb9s_6",Lu=function(e){var t=e.children;return T.jsx("p",{className:Iu,"data-qa":"system message",children:t})},Pu="_loading_11a6b_11",Mu=function(){return T.jsxs("div",{className:Pu,"data-testid":"typing-message",children:[T.jsx("span",{}),T.jsx("span",{}),T.jsx("span",{})]})},Ru=function(e){var t,n=e.sid,r=e.tid,u=e.enableRTL,a=e.messageItem,i=e.onButtonClick,o=e.onMediaSourceError,s=e.linkProtocol,c=e.linkTarget,l=e.isLastMessage,d=void 0!==l&&l,f=e.errorMessageText,p=e.onMediaLoadedData,v=a.type,h={linkProtocol:s,linkTarget:c};switch(v){case"text":return T.jsx(xu,E(E({},a),h));case"quick_replies":return T.jsx(Nu,E(E(E({},a),h),{},{isLastMessage:d,onButtonClick:i}));case"carousel":return T.jsx(uu,{enableRTL:u,items:a.cards,onButtonClick:i,onError:o});case"buttons":return T.jsx(ku,E(E({},h),{},{text:a.text,buttons:a.buttons,onButtonClick:i}));case"rich_text":return T.jsx(Bu,{html:a.html});case"video":case"audio":case"file":case"image":return T.jsx(Ou,{identity:r||n,onMediaLoadedData:p,onError:o,type:a.type,url:a.url||"",getContentTemporaryUrl:a.getContentTemporaryUrl,children:a.children});case"typing":return T.jsx(Mu,{});case"system":return T.jsx(Lu,E({},a));case"error":return T.jsx(xu,E({text:f||a.error_message},h));default:return t=v,T.jsx(xu,E({text:'Type "'.concat(t,'" is not supported')},h))}},zu=function(e){var t=e.sid,r=e.tid,u=e.enableRTL,a=void 0!==u&&u,o=e.hasName,s=void 0!==o&&o,c=e.hasAvatar,l=void 0!==c&&c,d=e.hasTimestamp,f=void 0!==d&&d,p=e.status,v=e.avatarUrl,h=e.avatarType,m=e.avatarVerticalAlign,g=e.formattedTime,_=e.participantName,D=void 0===_?"":_,b=e.alignment,y=e.linkProtocol,C=void 0===y?"https":y,E=e.linkTarget,A=void 0===E?"_blank":E,F=e.isLastMessage,x=void 0!==F&&F,w=e.isInSeries,k=void 0!==w&&w,B=e.onButtonClick,j=e.onResend,S=e.onMediaSourceError,O=e.errorMessageText,N=e.onMessageError,I=e.onMediaLoadedData,L="success"!==p&&"sent"===b,P=i(e,n);return T.jsx(hu,{status:L&&T.jsx(Eu,{status:p,onResend:j}),name:s&&T.jsx(bu,{name:D}),avatar:l&&T.jsx(Du,{align:m,url:v,type:h}),timestamp:f&&T.jsx(Au,{text:g}),alignment:b,type:P.type,errorMessage:O,onError:N,isLastMessage:x,isInSeries:k,children:T.jsx(Ru,{sid:t,tid:r,enableRTL:a,messageItem:P,alignment:b,linkProtocol:C,linkTarget:A,isLastMessage:x,errorMessageText:O,onButtonClick:B,onMediaSourceError:S,onMediaLoadedData:I})})};zu.whyDidYouRender=!0;var Zu=S.memo(zu),Uu={error:"_error_2hw0o_11",message:"_message_2hw0o_20",retry:"_retry_2hw0o_27"};var Vu=S.createContext({element:null}),Hu=function(){var e=S.useContext(Vu);if(!e.element)throw new Error("You must use a PortalProvider to get a portal.");return e};function qu(e){var t=e.children,n=Hu().element;return O.createPortal(t,n)}var Wu="tdw-portal-container";var Yu=function(e){var t=e.attributes,n=e.author,r=t;return null!=r&&r.is_virtual_agent?"va":null!=r&&r.agentId?"agent":"system"===n?"system":"contact"},Gu=function(e){var t=e.attributes;return null!=t&&t.agentId?t.agentId:""},$u=s("T",(function(e){var t=Mr.getState().config,n=t.appearanceConfig,r=t.options,u=n.generalSettings,a=u.displayAgentsName,i=u.displayAutopilotsAvatar,o=u.autopilotsAvatar,s=r.botIcon;switch(e){case"agent":return{url:s,type:a?"agent":"system"};case"va":return{url:i&&o?o:s};case"system":return{url:s};default:return}})),Ku=function(e){if("contact"!==e)return $u(e)},Ju=s("V",(function(e){var t=e.role,n=e.agentName,r=void 0===n?"":n,u=Mr.getState().config.appearanceConfig.generalSettings,a=u.displayAgentsName,i=u.displayAutopilotsName,o=u.autopilotsName;switch(t){case"contact":return"contactName";case"va":return i?o?o.trim():"autopilotsName":"";case"agent":return a?r:"";default:return""}})),Qu=function(e){var t,n=e.attributes;if(null!=n&&null!==(t=n.action)&&void 0!==t&&t.metadata){var r=n.action.metadata,u=r.cur_identified_id,a=r.cur_participant_type,i=r.cur_display_name;"LIVE_AGENT"===a&&Js.getState().setAssigneeName(u,i)}},Xu=function(e){var t,n=Yu(e),r=(null===(t=e.attributes)||void 0===t?void 0:t.agentId)||"",u=Js.getState().getAssigneeName(r);return Ju({role:n,agentName:u})},ea="TYPING_MESSAGE_ID",ta={tid:ea,sid:"typing",status:"success",alignment:"received",timestamp:0,formattedTime:"",items:[{type:"typing"}]};function na(e){return e===ea}function ra(e){var t=e.role,n=e.agentName,r=Ku(t),u=Ju({role:t,agentName:n});return E(E({},ta),{},{role:t,avatar:r,participantName:u})}function ua(e,t,n,r){var u=Date.now(),a=t.get("file");return E({sid:"",alignment:"sent",tid:e,status:"sending",items:[{type:n,url:a instanceof Blob?URL.createObjectURL(a):"",smart_text:{key:"download"}}],timestamp:u,formattedTime:Cr(u)},r)}function aa(e,t,n){var r=Date.now();return E({sid:"",alignment:"sent",tid:e,status:"sending",items:[{type:"text",text:t}],timestamp:r,formattedTime:Cr(r)},n)}var ia=function(e){var t,n=e.attributes;if(null==n||null===(t=n.action)||void 0===t||!t.metadata)return!0;var r=n.action.metadata,u=r.cur_identified_id,a=r.cur_participant_type,i=r.cur_display_name,o=r.pre_identified_id,s=r.pre_participant_type,c=Mr.getState().config.appearanceConfig.generalSettings,l=c.displayAgentsName,d=c.agentsNameDisplayRule;return!l||!i||(!s&&"VIRTUAL_AGENT"===a||u===o||"same name"===d&&"LIVE_AGENT"===s&&"LIVE_AGENT"===a)};var oa=/((?:[0-9a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0560-\u0588\u10D0-\u10FA\u10FD-\u10FF\u13F8-\u13FD\u1C80-\u1C88\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5F\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7AF\uA7B5\uA7B7\uA7B9\uA7BB\uA7BD\uA7BF\uA7C1\uA7C3\uA7C8\uA7CA\uA7D1\uA7D3\uA7D5\uA7D7\uA7D9\uA7F6\uA7FA\uAB30-\uAB5A\uAB60-\uAB68\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A]|\uD801[\uDC28-\uDC4F\uDCD8-\uDCFB\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC]|\uD803[\uDCC0-\uDCF2]|\uD806[\uDCC0-\uDCDF]|\uD81B[\uDE60-\uDE7F]|\uD835[\uDC1A-\uDC33\uDC4E-\uDC54\uDC56-\uDC67\uDC82-\uDC9B\uDCB6-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDCEA-\uDD03\uDD1E-\uDD37\uDD52-\uDD6B\uDD86-\uDD9F\uDDBA-\uDDD3\uDDEE-\uDE07\uDE22-\uDE3B\uDE56-\uDE6F\uDE8A-\uDEA5\uDEC2-\uDEDA\uDEDC-\uDEE1\uDEFC-\uDF14\uDF16-\uDF1B\uDF36-\uDF4E\uDF50-\uDF55\uDF70-\uDF88\uDF8A-\uDF8F\uDFAA-\uDFC2\uDFC4-\uDFC9\uDFCB]|\uD837[\uDF00-\uDF09\uDF0B-\uDF1E\uDF25-\uDF2A]|\uD83A[\uDD22-\uDD43]))((?:[A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1C90-\u1CBA\u1CBD-\u1CBF\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2183\u2C00-\u2C2F\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AE\uA7B0-\uA7B4\uA7B6\uA7B8\uA7BA\uA7BC\uA7BE\uA7C0\uA7C2\uA7C4-\uA7C7\uA7C9\uA7D0\uA7D6\uA7D8\uA7F5\uFF21-\uFF3A]|\uD801[\uDC00-\uDC27\uDCB0-\uDCD3\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95]|\uD803[\uDC80-\uDCB2]|\uD806[\uDCA0-\uDCBF]|\uD81B[\uDE40-\uDE5F]|\uD835[\uDC00-\uDC19\uDC34-\uDC4D\uDC68-\uDC81\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB5\uDCD0-\uDCE9\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD38\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD6C-\uDD85\uDDA0-\uDDB9\uDDD4-\uDDED\uDE08-\uDE21\uDE3C-\uDE55\uDE70-\uDE89\uDEA8-\uDEC0\uDEE2-\uDEFA\uDF1C-\uDF34\uDF56-\uDF6E\uDF90-\uDFA8\uDFCA]|\uD83A[\uDD00-\uDD21]))/g,sa=/((?:[A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1C90-\u1CBA\u1CBD-\u1CBF\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2183\u2C00-\u2C2F\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AE\uA7B0-\uA7B4\uA7B6\uA7B8\uA7BA\uA7BC\uA7BE\uA7C0\uA7C2\uA7C4-\uA7C7\uA7C9\uA7D0\uA7D6\uA7D8\uA7F5\uFF21-\uFF3A]|\uD801[\uDC00-\uDC27\uDCB0-\uDCD3\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95]|\uD803[\uDC80-\uDCB2]|\uD806[\uDCA0-\uDCBF]|\uD81B[\uDE40-\uDE5F]|\uD835[\uDC00-\uDC19\uDC34-\uDC4D\uDC68-\uDC81\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB5\uDCD0-\uDCE9\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD38\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD6C-\uDD85\uDDA0-\uDDB9\uDDD4-\uDDED\uDE08-\uDE21\uDE3C-\uDE55\uDE70-\uDE89\uDEA8-\uDEC0\uDEE2-\uDEFA\uDF1C-\uDF34\uDF56-\uDF6E\uDF90-\uDFA8\uDFCA]|\uD83A[\uDD00-\uDD21]))((?:[A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1C90-\u1CBA\u1CBD-\u1CBF\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2183\u2C00-\u2C2F\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AE\uA7B0-\uA7B4\uA7B6\uA7B8\uA7BA\uA7BC\uA7BE\uA7C0\uA7C2\uA7C4-\uA7C7\uA7C9\uA7D0\uA7D6\uA7D8\uA7F5\uFF21-\uFF3A]|\uD801[\uDC00-\uDC27\uDCB0-\uDCD3\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95]|\uD803[\uDC80-\uDCB2]|\uD806[\uDCA0-\uDCBF]|\uD81B[\uDE40-\uDE5F]|\uD835[\uDC00-\uDC19\uDC34-\uDC4D\uDC68-\uDC81\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB5\uDCD0-\uDCE9\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD38\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD6C-\uDD85\uDDA0-\uDDB9\uDDD4-\uDDED\uDE08-\uDE21\uDE3C-\uDE55\uDE70-\uDE89\uDEA8-\uDEC0\uDEE2-\uDEFA\uDF1C-\uDF34\uDF56-\uDF6E\uDF90-\uDFA8\uDFCA]|\uD83A[\uDD00-\uDD21])(?:[a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0560-\u0588\u10D0-\u10FA\u10FD-\u10FF\u13F8-\u13FD\u1C80-\u1C88\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5F\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7AF\uA7B5\uA7B7\uA7B9\uA7BB\uA7BD\uA7BF\uA7C1\uA7C3\uA7C8\uA7CA\uA7D1\uA7D3\uA7D5\uA7D7\uA7D9\uA7F6\uA7FA\uAB30-\uAB5A\uAB60-\uAB68\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A]|\uD801[\uDC28-\uDC4F\uDCD8-\uDCFB\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC]|\uD803[\uDCC0-\uDCF2]|\uD806[\uDCC0-\uDCDF]|\uD81B[\uDE60-\uDE7F]|\uD835[\uDC1A-\uDC33\uDC4E-\uDC54\uDC56-\uDC67\uDC82-\uDC9B\uDCB6-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDCEA-\uDD03\uDD1E-\uDD37\uDD52-\uDD6B\uDD86-\uDD9F\uDDBA-\uDDD3\uDDEE-\uDE07\uDE22-\uDE3B\uDE56-\uDE6F\uDE8A-\uDEA5\uDEC2-\uDEDA\uDEDC-\uDEE1\uDEFC-\uDF14\uDF16-\uDF1B\uDF36-\uDF4E\uDF50-\uDF55\uDF70-\uDF88\uDF8A-\uDF8F\uDFAA-\uDFC2\uDFC4-\uDFC9\uDFCB]|\uD837[\uDF00-\uDF09\uDF0B-\uDF1E\uDF25-\uDF2A]|\uD83A[\uDD22-\uDD43]))/g,ca=/([0-9])(?:[a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0560-\u0588\u10D0-\u10FA\u10FD-\u10FF\u13F8-\u13FD\u1C80-\u1C88\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5F\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7AF\uA7B5\uA7B7\uA7B9\uA7BB\uA7BD\uA7BF\uA7C1\uA7C3\uA7C8\uA7CA\uA7D1\uA7D3\uA7D5\uA7D7\uA7D9\uA7F6\uA7FA\uAB30-\uAB5A\uAB60-\uAB68\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A]|\uD801[\uDC28-\uDC4F\uDCD8-\uDCFB\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC]|\uD803[\uDCC0-\uDCF2]|\uD806[\uDCC0-\uDCDF]|\uD81B[\uDE60-\uDE7F]|\uD835[\uDC1A-\uDC33\uDC4E-\uDC54\uDC56-\uDC67\uDC82-\uDC9B\uDCB6-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDCEA-\uDD03\uDD1E-\uDD37\uDD52-\uDD6B\uDD86-\uDD9F\uDDBA-\uDDD3\uDDEE-\uDE07\uDE22-\uDE3B\uDE56-\uDE6F\uDE8A-\uDEA5\uDEC2-\uDEDA\uDEDC-\uDEE1\uDEFC-\uDF14\uDF16-\uDF1B\uDF36-\uDF4E\uDF50-\uDF55\uDF70-\uDF88\uDF8A-\uDF8F\uDFAA-\uDFC2\uDFC4-\uDFC9\uDFCB]|\uD837[\uDF00-\uDF09\uDF0B-\uDF1E\uDF25-\uDF2A]|\uD83A[\uDD22-\uDD43])|((?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF]))[0-9]/,la=/(?:(?![0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uD800-\uDFFF\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC])[\s\S]|\uD800[\uDC0C\uDC27\uDC3B\uDC3E\uDC4E\uDC4F\uDC5E-\uDC7F\uDCFB-\uDE7F\uDE9D-\uDE9F\uDED1-\uDEFF\uDF20-\uDF2C\uDF41\uDF4A-\uDF4F\uDF76-\uDF7F\uDF9E\uDF9F\uDFC4-\uDFC7\uDFD0-\uDFFF]|\uD801[\uDC9E-\uDCAF\uDCD4-\uDCD7\uDCFC-\uDCFF\uDD28-\uDD2F\uDD64-\uDD6F\uDD7B\uDD8B\uDD93\uDD96\uDDA2\uDDB2\uDDBA\uDDBD-\uDDFF\uDF37-\uDF3F\uDF56-\uDF5F\uDF68-\uDF7F\uDF86\uDFB1\uDFBB-\uDFFF]|\uD802[\uDC06\uDC07\uDC09\uDC36\uDC39-\uDC3B\uDC3D\uDC3E\uDC56-\uDC5F\uDC77-\uDC7F\uDC9F-\uDCDF\uDCF3\uDCF6-\uDCFF\uDD16-\uDD1F\uDD3A-\uDD7F\uDDB8-\uDDBD\uDDC0-\uDDFF\uDE01-\uDE0F\uDE14\uDE18\uDE36-\uDE5F\uDE7D-\uDE7F\uDE9D-\uDEBF\uDEC8\uDEE5-\uDEFF\uDF36-\uDF3F\uDF56-\uDF5F\uDF73-\uDF7F\uDF92-\uDFFF]|\uD803[\uDC49-\uDC7F\uDCB3-\uDCBF\uDCF3-\uDCFF\uDD24-\uDE7F\uDEAA-\uDEAF\uDEB2-\uDEFF\uDF1D-\uDF26\uDF28-\uDF2F\uDF46-\uDF6F\uDF82-\uDFAF\uDFC5-\uDFDF\uDFF7-\uDFFF]|\uD804[\uDC00-\uDC02\uDC38-\uDC70\uDC73\uDC74\uDC76-\uDC82\uDCB0-\uDCCF\uDCE9-\uDD02\uDD27-\uDD43\uDD45\uDD46\uDD48-\uDD4F\uDD73-\uDD75\uDD77-\uDD82\uDDB3-\uDDC0\uDDC5-\uDDD9\uDDDB\uDDDD-\uDDFF\uDE12\uDE2C-\uDE3E\uDE41-\uDE7F\uDE87\uDE89\uDE8E\uDE9E\uDEA9-\uDEAF\uDEDF-\uDF04\uDF0D\uDF0E\uDF11\uDF12\uDF29\uDF31\uDF34\uDF3A-\uDF3C\uDF3E-\uDF4F\uDF51-\uDF5C\uDF62-\uDFFF]|\uD805[\uDC35-\uDC46\uDC4B-\uDC5E\uDC62-\uDC7F\uDCB0-\uDCC3\uDCC6\uDCC8-\uDD7F\uDDAF-\uDDD7\uDDDC-\uDDFF\uDE30-\uDE43\uDE45-\uDE7F\uDEAB-\uDEB7\uDEB9-\uDEFF\uDF1B-\uDF3F\uDF47-\uDFFF]|\uD806[\uDC2C-\uDC9F\uDCE0-\uDCFE\uDD07\uDD08\uDD0A\uDD0B\uDD14\uDD17\uDD30-\uDD3E\uDD40\uDD42-\uDD9F\uDDA8\uDDA9\uDDD1-\uDDE0\uDDE2\uDDE4-\uDDFF\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE4F\uDE51-\uDE5B\uDE8A-\uDE9C\uDE9E-\uDEAF\uDEF9-\uDFFF]|\uD807[\uDC09\uDC2F-\uDC3F\uDC41-\uDC71\uDC90-\uDCFF\uDD07\uDD0A\uDD31-\uDD45\uDD47-\uDD5F\uDD66\uDD69\uDD8A-\uDD97\uDD99-\uDEDF\uDEF3-\uDF01\uDF03\uDF11\uDF34-\uDFAF\uDFB1-\uDFFF]|\uD808[\uDF9A-\uDFFF]|\uD809[\uDC00-\uDC7F\uDD44-\uDFFF]|[\uD80A\uD80E-\uD810\uD812-\uD819\uD824-\uD82A\uD82D\uD82E\uD830-\uD834\uD836\uD83C-\uD83F\uD87C\uD87D\uD87F\uD889-\uDBFF][\uDC00-\uDFFF]|\uD80B[\uDC00-\uDF8F\uDFF1-\uDFFF]|\uD80D[\uDC30-\uDC40\uDC47-\uDFFF]|\uD811[\uDE47-\uDFFF]|\uD81A[\uDE39-\uDE3F\uDE5F-\uDE6F\uDEBF-\uDECF\uDEEE-\uDEFF\uDF30-\uDF3F\uDF44-\uDF62\uDF78-\uDF7C\uDF90-\uDFFF]|\uD81B[\uDC00-\uDE3F\uDE80-\uDEFF\uDF4B-\uDF4F\uDF51-\uDF92\uDFA0-\uDFDF\uDFE2\uDFE4-\uDFFF]|\uD821[\uDFF8-\uDFFF]|\uD823[\uDCD6-\uDCFF\uDD09-\uDFFF]|\uD82B[\uDC00-\uDFEF\uDFF4\uDFFC\uDFFF]|\uD82C[\uDD23-\uDD31\uDD33-\uDD4F\uDD53\uDD54\uDD56-\uDD63\uDD68-\uDD6F\uDEFC-\uDFFF]|\uD82F[\uDC6B-\uDC6F\uDC7D-\uDC7F\uDC89-\uDC8F\uDC9A-\uDFFF]|\uD835[\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3\uDFCC-\uDFFF]|\uD837[\uDC00-\uDEFF\uDF1F-\uDF24\uDF2B-\uDFFF]|\uD838[\uDC00-\uDC2F\uDC6E-\uDCFF\uDD2D-\uDD36\uDD3E-\uDD4D\uDD4F-\uDE8F\uDEAE-\uDEBF\uDEEC-\uDFFF]|\uD839[\uDC00-\uDCCF\uDCEC-\uDFDF\uDFE7\uDFEC\uDFEF\uDFFF]|\uD83A[\uDCC5-\uDCFF\uDD44-\uDD4A\uDD4C-\uDFFF]|\uD83B[\uDC00-\uDDFF\uDE04\uDE20\uDE23\uDE25\uDE26\uDE28\uDE33\uDE38\uDE3A\uDE3C-\uDE41\uDE43-\uDE46\uDE48\uDE4A\uDE4C\uDE50\uDE53\uDE55\uDE56\uDE58\uDE5A\uDE5C\uDE5E\uDE60\uDE63\uDE65\uDE66\uDE6B\uDE73\uDE78\uDE7D\uDE7F\uDE8A\uDE9C-\uDEA0\uDEA4\uDEAA\uDEBC-\uDFFF]|\uD869[\uDEE0-\uDEFF]|\uD86D[\uDF3A-\uDF3F]|\uD86E[\uDC1E\uDC1F]|\uD873[\uDEA2-\uDEAF]|\uD87A[\uDFE1-\uDFEF]|\uD87B[\uDE5E-\uDFFF]|\uD87E[\uDE1E-\uDFFF]|\uD884[\uDF4B-\uDF4F]|\uD888[\uDFB0-\uDFFF])+/gi,da="$1\0$2",fa="";function pa(e){for(var t=e.trim(),n=0,r=(t=(t=t.replace(oa,da).replace(sa,da)).replace(la,"\0")).length;"\0"===t.charAt(n);)n++;if(n===r)return[];for(;"\0"===t.charAt(r-1);)r--;return t.slice(n,r).split(/\0/g)}function va(e){for(var t=pa(e),n=0;n<t.length;n++){var r=t[n],u=ca.exec(r);if(u){var a,i=u.index+(null!==(a=u[1])&&void 0!==a?a:u[2]).length;t.splice(n,1,r.slice(0,i),r.slice(i))}}return t}function ha(e,t){var n,r,u=function(e){var t,n,r,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=null!==(t=u.split)&&void 0!==t?t:u.separateNumbers?va:pa,i=null!==(n=u.prefixCharacters)&&void 0!==n?n:fa,o=null!==(r=u.suffixCharacters)&&void 0!==r?r:fa,s=0,c=e.length;for(;s<e.length;){var l=e.charAt(s);if(!i.includes(l))break;s++}for(;c>s;){var d=c-1,f=e.charAt(d);if(!o.includes(f))break;c=d}return[e.slice(0,s),a(e.slice(s,c)),e.slice(c)]}(e,t),a=h(u,3),i=a[0],o=a[1],s=a[2];return i+o.map((r=null==t?void 0:t.locale,!1===r?function(e){return e.toLowerCase()}:function(e){return e.toLocaleLowerCase(r)})).join(null!==(n=null==t?void 0:t.delimiter)&&void 0!==n?n:" ")+s}var ma,ga,_a,Da=(ma=function(e,t){return ha(e,E({delimiter:"_"},t))},function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2?arguments[2]:void 0;if(0===n||!function(e){return null!==e&&"object"===v(e)}(t))return t;if(Array.isArray(t))return t.map((function(t){return e(t,n-1,r)}));var u=Object.create(Object.getPrototypeOf(t));return Object.keys(t).forEach((function(a){var i=t[a],o=ma(a,r),s=e(i,n-1,r);u[o]=s})),u});!function(e){e.assertEqual=function(e){return e},e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=function(e){var t,n={},r=w(e);try{for(r.s();!(t=r.n()).done;){var u=t.value;n[u]=u}}catch(a){r.e(a)}finally{r.f()}return n},e.getValidEnumValues=function(t){var n,r=e.objectKeys(t).filter((function(e){return"number"!=typeof t[t[e]]})),u={},a=w(r);try{for(a.s();!(n=a.n()).done;){var i=n.value;u[i]=t[i]}}catch(o){a.e(o)}finally{a.f()}return e.objectValues(u)},e.objectValues=function(t){return e.objectKeys(t).map((function(e){return t[e]}))},e.objectKeys="function"==typeof Object.keys?function(e){return Object.keys(e)}:function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=function(e,t){var n,r=w(e);try{for(r.s();!(n=r.n()).done;){var u=n.value;if(t(u))return u}}catch(a){r.e(a)}finally{r.f()}},e.isInteger="function"==typeof Number.isInteger?function(e){return Number.isInteger(e)}:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},e.joinValues=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" | ";return e.map((function(e){return"string"==typeof e?"'".concat(e,"'"):e})).join(t)},e.jsonStringifyReplacer=function(e,t){return"bigint"==typeof t?t.toString():t}}(ga||(ga={})),function(e){e.mergeShapes=function(e,t){return E(E({},e),t)}}(_a||(_a={}));var ba=ga.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ya=function(e){switch(v(e)){case"undefined":return ba.undefined;case"string":return ba.string;case"number":return isNaN(e)?ba.nan:ba.number;case"boolean":return ba.boolean;case"function":return ba.function;case"bigint":return ba.bigint;case"symbol":return ba.symbol;case"object":return Array.isArray(e)?ba.array:null===e?ba.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?ba.promise:"undefined"!=typeof Map&&e instanceof Map?ba.map:"undefined"!=typeof Set&&e instanceof Set?ba.set:"undefined"!=typeof Date&&e instanceof Date?ba.date:ba.object;default:return ba.unknown}},Ca=ga.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Ea=function(e){function t(e){var n;D(this,t),(n=o(this,t)).issues=[],n.addIssue=function(e){n.issues=[].concat(x(n.issues),[e])},n.addIssues=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];n.issues=[].concat(x(n.issues),x(e))};var r=(this instanceof t?this.constructor:void 0).prototype;return Object.setPrototypeOf?Object.setPrototypeOf(n,r):n.__proto__=r,n.name="ZodError",n.issues=e,n}return f(t,e),y(t,[{key:"errors",get:function(){return this.issues}},{key:"format",value:function(e){var t=e||function(e){return e.message},n={_errors:[]},r=function(e){var u,a=w(e.issues);try{for(a.s();!(u=a.n()).done;){var i=u.value;if("invalid_union"===i.code)i.unionErrors.map(r);else if("invalid_return_type"===i.code)r(i.returnTypeError);else if("invalid_arguments"===i.code)r(i.argumentsError);else if(0===i.path.length)n._errors.push(t(i));else for(var o=n,s=0;s<i.path.length;){var c=i.path[s];s===i.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(t(i))):o[c]=o[c]||{_errors:[]},o=o[c],s++}}}catch(l){a.e(l)}finally{a.f()}};return r(this),n}},{key:"toString",value:function(){return this.message}},{key:"message",get:function(){return JSON.stringify(this.issues,ga.jsonStringifyReplacer,2)}},{key:"isEmpty",get:function(){return 0===this.issues.length}},{key:"flatten",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e.message},n={},r=[],u=w(this.issues);try{for(u.s();!(e=u.n()).done;){var a=e.value;a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(t(a))):r.push(t(a))}}catch(i){u.e(i)}finally{u.f()}return{formErrors:r,fieldErrors:n}}},{key:"formErrors",get:function(){return this.flatten()}}],[{key:"assert",value:function(e){if(!(e instanceof t))throw new Error("Not a ZodError: ".concat(e))}}])}(a(Error));Ea.create=function(e){return new Ea(e)};var Aa=function(e,t){var n;switch(e.code){case Ca.invalid_type:n=e.received===ba.undefined?"Required":"Expected ".concat(e.expected,", received ").concat(e.received);break;case Ca.invalid_literal:n="Invalid literal value, expected ".concat(JSON.stringify(e.expected,ga.jsonStringifyReplacer));break;case Ca.unrecognized_keys:n="Unrecognized key(s) in object: ".concat(ga.joinValues(e.keys,", "));break;case Ca.invalid_union:n="Invalid input";break;case Ca.invalid_union_discriminator:n="Invalid discriminator value. Expected ".concat(ga.joinValues(e.options));break;case Ca.invalid_enum_value:n="Invalid enum value. Expected ".concat(ga.joinValues(e.options),", received '").concat(e.received,"'");break;case Ca.invalid_arguments:n="Invalid function arguments";break;case Ca.invalid_return_type:n="Invalid function return type";break;case Ca.invalid_date:n="Invalid date";break;case Ca.invalid_string:"object"===v(e.validation)?"includes"in e.validation?(n='Invalid input: must include "'.concat(e.validation.includes,'"'),"number"==typeof e.validation.position&&(n="".concat(n," at one or more positions greater than or equal to ").concat(e.validation.position))):"startsWith"in e.validation?n='Invalid input: must start with "'.concat(e.validation.startsWith,'"'):"endsWith"in e.validation?n='Invalid input: must end with "'.concat(e.validation.endsWith,'"'):ga.assertNever(e.validation):n="regex"!==e.validation?"Invalid ".concat(e.validation):"Invalid";break;case Ca.too_small:n="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"more than"," ").concat(e.minimum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"over"," ").concat(e.minimum," character(s)"):"number"===e.type?"Number must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(e.minimum):"date"===e.type?"Date must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(new Date(Number(e.minimum))):"Invalid input";break;case Ca.too_big:n="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"less than"," ").concat(e.maximum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"under"," ").concat(e.maximum," character(s)"):"number"===e.type?"Number must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"bigint"===e.type?"BigInt must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"date"===e.type?"Date must be ".concat(e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"," ").concat(new Date(Number(e.maximum))):"Invalid input";break;case Ca.custom:n="Invalid input";break;case Ca.invalid_intersection_types:n="Intersection results could not be merged";break;case Ca.not_multiple_of:n="Number must be a multiple of ".concat(e.multipleOf);break;case Ca.not_finite:n="Number must be finite";break;default:n=t.defaultError,ga.assertNever(e)}return{message:n}},Fa=Aa;function xa(){return Fa}var wa=function(e){var t=e.data,n=e.path,r=e.errorMaps,u=e.issueData,a=[].concat(x(n),x(u.path||[])),i=E(E({},u),{},{path:a});if(void 0!==u.message)return E(E({},u),{},{path:a,message:u.message});var o,s="",c=r.filter((function(e){return!!e})).slice().reverse(),l=w(c);try{for(l.s();!(o=l.n()).done;){s=(0,o.value)(i,{data:t,defaultError:s}).message}}catch(d){l.e(d)}finally{l.f()}return E(E({},u),{},{path:a,message:s})};function ka(e,t){var n=xa(),r=wa({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Aa?void 0:Aa].filter((function(e){return!!e}))});e.common.issues.push(r)}var Ba,ja,Sa,Ta=function(){function e(){D(this,e),this.value="valid"}return y(e,[{key:"dirty",value:function(){"valid"===this.value&&(this.value="dirty")}},{key:"abort",value:function(){"aborted"!==this.value&&(this.value="aborted")}}],[{key:"mergeArray",value:function(e,t){var n,r=[],u=w(t);try{for(u.s();!(n=u.n()).done;){var a=n.value;if("aborted"===a.status)return Oa;"dirty"===a.status&&e.dirty(),r.push(a.value)}}catch(i){u.e(i)}finally{u.f()}return{status:e.value,value:r}}},{key:"mergeObjectAsync",value:(t=_(m().mark((function t(n,r){var u,a,i,o,s,c;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:u=[],a=w(r),t.prev=2,a.s();case 4:if((i=a.n()).done){t.next=15;break}return o=i.value,t.next=8,o.key;case 8:return s=t.sent,t.next=11,o.value;case 11:c=t.sent,u.push({key:s,value:c});case 13:t.next=4;break;case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(2),a.e(t.t0);case 20:return t.prev=20,a.f(),t.finish(20);case 23:return t.abrupt("return",e.mergeObjectSync(n,u));case 24:case"end":return t.stop()}}),t,null,[[2,17,20,23]])}))),function(e,n){return t.apply(this,arguments)})},{key:"mergeObjectSync",value:function(e,t){var n,r={},u=w(t);try{for(u.s();!(n=u.n()).done;){var a=n.value,i=a.key,o=a.value;if("aborted"===i.status)return Oa;if("aborted"===o.status)return Oa;"dirty"===i.status&&e.dirty(),"dirty"===o.status&&e.dirty(),"__proto__"===i.value||void 0===o.value&&!a.alwaysSet||(r[i.value]=o.value)}}catch(s){u.e(s)}finally{u.f()}return{status:e.value,value:r}}}]);var t}(),Oa=Object.freeze({status:"aborted"}),Na=function(e){return{status:"dirty",value:e}},Ia=function(e){return{status:"valid",value:e}},La=function(e){return"aborted"===e.status},Pa=function(e){return"dirty"===e.status},Ma=function(e){return"valid"===e.status},Ra=function(e){return"undefined"!=typeof Promise&&e instanceof Promise};function za(e,t,n,r){if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function Za(e,t,n,r,u){if("function"==typeof t?e!==t||!u:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}"function"==typeof SuppressedError&&SuppressedError,function(e){e.errToObj=function(e){return"string"==typeof e?{message:e}:e||{}},e.toString=function(e){return"string"==typeof e?e:null==e?void 0:e.message}}(Ba||(Ba={}));var Ua=function(){return y((function e(t,n,r,u){D(this,e),this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=u}),[{key:"path",get:function(){var e,t;this._cachedPath.length||(this._key instanceof Array?(e=this._cachedPath).push.apply(e,x(this._path).concat(x(this._key))):(t=this._cachedPath).push.apply(t,x(this._path).concat([this._key])));return this._cachedPath}}])}(),Va=function(e,t){if(Ma(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;var t=new Ea(e.common.issues);return this._error=t,this._error}}};function Ha(e){if(!e)return{};var t=e.errorMap,n=e.invalid_type_error,r=e.required_error,u=e.description;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:u};return{errorMap:function(t,u){var a,i,o=e.message;return"invalid_enum_value"===t.code?{message:null!=o?o:u.defaultError}:void 0===u.data?{message:null!==(a=null!=o?o:r)&&void 0!==a?a:u.defaultError}:"invalid_type"!==t.code?{message:u.defaultError}:{message:null!==(i=null!=o?o:n)&&void 0!==i?i:u.defaultError}},description:u}}var qa,Wa=function(){return y((function e(t){D(this,e),this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}),[{key:"description",get:function(){return this._def.description}},{key:"_getType",value:function(e){return ya(e.data)}},{key:"_getOrReturnCtx",value:function(e,t){return t||{common:e.parent.common,data:e.data,parsedType:ya(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}},{key:"_processInputParams",value:function(e){return{status:new Ta,ctx:{common:e.parent.common,data:e.data,parsedType:ya(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}},{key:"_parseSync",value:function(e){var t=this._parse(e);if(Ra(t))throw new Error("Synchronous parse encountered promise.");return t}},{key:"_parseAsync",value:function(e){var t=this._parse(e);return Promise.resolve(t)}},{key:"parse",value:function(e,t){var n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}},{key:"safeParse",value:function(e,t){var n,r={common:{issues:[],async:null!==(n=null==t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ya(e)},u=this._parseSync({data:e,path:r.path,parent:r});return Va(r,u)}},{key:"parseAsync",value:(t=_(m().mark((function e(t,n){var r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.safeParseAsync(t,n);case 2:if(!(r=e.sent).success){e.next=5;break}return e.abrupt("return",r.data);case 5:throw r.error;case 6:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"safeParseAsync",value:(e=_(m().mark((function e(t,n){var r,u,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={common:{issues:[],contextualErrorMap:null==n?void 0:n.errorMap,async:!0},path:(null==n?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ya(t)},u=this._parse({data:t,path:r.path,parent:r}),e.next=4,Ra(u)?u:Promise.resolve(u);case 4:return a=e.sent,e.abrupt("return",Va(r,a));case 6:case"end":return e.stop()}}),e,this)}))),function(t,n){return e.apply(this,arguments)})},{key:"refine",value:function(e,t){return this._refinement((function(n,r){var u=e(n),a=function(){return r.addIssue(E({code:Ca.custom},function(e){return"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t}(n)))};return"undefined"!=typeof Promise&&u instanceof Promise?u.then((function(e){return!!e||(a(),!1)})):!!u||(a(),!1)}))}},{key:"refinement",value:function(e,t){return this._refinement((function(n,r){return!!e(n)||(r.addIssue("function"==typeof t?t(n,r):t),!1)}))}},{key:"_refinement",value:function(e){return new Mi({schema:this,typeName:$i.ZodEffects,effect:{type:"refinement",refinement:e}})}},{key:"superRefine",value:function(e){return this._refinement(e)}},{key:"optional",value:function(){return Ri.create(this,this._def)}},{key:"nullable",value:function(){return zi.create(this,this._def)}},{key:"nullish",value:function(){return this.nullable().optional()}},{key:"array",value:function(){return Di.create(this,this._def)}},{key:"promise",value:function(){return Pi.create(this,this._def)}},{key:"or",value:function(e){return Ci.create([this,e],this._def)}},{key:"and",value:function(e){return xi.create(this,e,this._def)}},{key:"transform",value:function(e){return new Mi(E(E({},Ha(this._def)),{},{schema:this,typeName:$i.ZodEffects,effect:{type:"transform",transform:e}}))}},{key:"default",value:function(e){var t="function"==typeof e?e:function(){return e};return new Zi(E(E({},Ha(this._def)),{},{innerType:this,defaultValue:t,typeName:$i.ZodDefault}))}},{key:"brand",value:function(){return new qi(E({typeName:$i.ZodBranded,type:this},Ha(this._def)))}},{key:"catch",value:function(e){var t="function"==typeof e?e:function(){return e};return new Ui(E(E({},Ha(this._def)),{},{innerType:this,catchValue:t,typeName:$i.ZodCatch}))}},{key:"describe",value:function(e){return new(0,this.constructor)(E(E({},this._def),{},{description:e}))}},{key:"pipe",value:function(e){return Wi.create(this,e)}},{key:"readonly",value:function(){return Yi.create(this)}},{key:"isOptional",value:function(){return this.safeParse(void 0).success}},{key:"isNullable",value:function(){return this.safeParse(null).success}}]);var e,t}(),Ya=/^c[^\s-]{8,}$/i,Ga=/^[0-9a-z]+$/,$a=/^[0-9A-HJKMNP-TV-Z]{26}$/,Ka=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Ja=/^[a-z0-9_-]{21}$/i,Qa=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Xa=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ei=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ti=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ni=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ri="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ui=new RegExp("^".concat(ri,"$"));function ai(e){var t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t="".concat(t,"\\.\\d{").concat(e.precision,"}"):null==e.precision&&(t="".concat(t,"(\\.\\d+)?")),t}function ii(e){var t="".concat(ri,"T").concat(ai(e)),n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t="".concat(t,"(").concat(n.join("|"),")"),new RegExp("^".concat(t,"$"))}var oi=function(e){function t(){return D(this,t),o(this,t,arguments)}return f(t,e),y(t,[{key:"_parse",value:function(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ba.string){var t=this._getOrReturnCtx(e);return ka(t,{code:Ca.invalid_type,expected:ba.string,received:t.parsedType}),Oa}var n,r,u,a=new Ta,i=void 0,o=w(this._def.checks);try{for(o.s();!(n=o.n()).done;){var s=n.value;if("min"===s.kind)e.data.length<s.value&&(ka(i=this._getOrReturnCtx(e,i),{code:Ca.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),a.dirty());else if("max"===s.kind)e.data.length>s.value&&(ka(i=this._getOrReturnCtx(e,i),{code:Ca.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),a.dirty());else if("length"===s.kind){var c=e.data.length>s.value,l=e.data.length<s.value;(c||l)&&(i=this._getOrReturnCtx(e,i),c?ka(i,{code:Ca.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&ka(i,{code:Ca.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),a.dirty())}else if("email"===s.kind)Xa.test(e.data)||(ka(i=this._getOrReturnCtx(e,i),{validation:"email",code:Ca.invalid_string,message:s.message}),a.dirty());else if("emoji"===s.kind)qa||(qa=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),qa.test(e.data)||(ka(i=this._getOrReturnCtx(e,i),{validation:"emoji",code:Ca.invalid_string,message:s.message}),a.dirty());else if("uuid"===s.kind)Ka.test(e.data)||(ka(i=this._getOrReturnCtx(e,i),{validation:"uuid",code:Ca.invalid_string,message:s.message}),a.dirty());else if("nanoid"===s.kind)Ja.test(e.data)||(ka(i=this._getOrReturnCtx(e,i),{validation:"nanoid",code:Ca.invalid_string,message:s.message}),a.dirty());else if("cuid"===s.kind)Ya.test(e.data)||(ka(i=this._getOrReturnCtx(e,i),{validation:"cuid",code:Ca.invalid_string,message:s.message}),a.dirty());else if("cuid2"===s.kind)Ga.test(e.data)||(ka(i=this._getOrReturnCtx(e,i),{validation:"cuid2",code:Ca.invalid_string,message:s.message}),a.dirty());else if("ulid"===s.kind)$a.test(e.data)||(ka(i=this._getOrReturnCtx(e,i),{validation:"ulid",code:Ca.invalid_string,message:s.message}),a.dirty());else if("url"===s.kind)try{new URL(e.data)}catch(d){ka(i=this._getOrReturnCtx(e,i),{validation:"url",code:Ca.invalid_string,message:s.message}),a.dirty()}else if("regex"===s.kind){s.regex.lastIndex=0,s.regex.test(e.data)||(ka(i=this._getOrReturnCtx(e,i),{validation:"regex",code:Ca.invalid_string,message:s.message}),a.dirty())}else if("trim"===s.kind)e.data=e.data.trim();else if("includes"===s.kind)e.data.includes(s.value,s.position)||(ka(i=this._getOrReturnCtx(e,i),{code:Ca.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),a.dirty());else if("toLowerCase"===s.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===s.kind)e.data=e.data.toUpperCase();else if("startsWith"===s.kind)e.data.startsWith(s.value)||(ka(i=this._getOrReturnCtx(e,i),{code:Ca.invalid_string,validation:{startsWith:s.value},message:s.message}),a.dirty());else if("endsWith"===s.kind)e.data.endsWith(s.value)||(ka(i=this._getOrReturnCtx(e,i),{code:Ca.invalid_string,validation:{endsWith:s.value},message:s.message}),a.dirty());else if("datetime"===s.kind){ii(s).test(e.data)||(ka(i=this._getOrReturnCtx(e,i),{code:Ca.invalid_string,validation:"datetime",message:s.message}),a.dirty())}else if("date"===s.kind){ui.test(e.data)||(ka(i=this._getOrReturnCtx(e,i),{code:Ca.invalid_string,validation:"date",message:s.message}),a.dirty())}else if("time"===s.kind){new RegExp("^".concat(ai(s),"$")).test(e.data)||(ka(i=this._getOrReturnCtx(e,i),{code:Ca.invalid_string,validation:"time",message:s.message}),a.dirty())}else"duration"===s.kind?Qa.test(e.data)||(ka(i=this._getOrReturnCtx(e,i),{validation:"duration",code:Ca.invalid_string,message:s.message}),a.dirty()):"ip"===s.kind?(r=e.data,("v4"!==(u=s.version)&&u||!ei.test(r))&&("v6"!==u&&u||!ti.test(r))&&(ka(i=this._getOrReturnCtx(e,i),{validation:"ip",code:Ca.invalid_string,message:s.message}),a.dirty())):"base64"===s.kind?ni.test(e.data)||(ka(i=this._getOrReturnCtx(e,i),{validation:"base64",code:Ca.invalid_string,message:s.message}),a.dirty()):ga.assertNever(s)}}catch(f){o.e(f)}finally{o.f()}return{status:a.value,value:e.data}}},{key:"_regex",value:function(e,t,n){return this.refinement((function(t){return e.test(t)}),E({validation:t,code:Ca.invalid_string},Ba.errToObj(n)))}},{key:"_addCheck",value:function(e){return new t(E(E({},this._def),{},{checks:[].concat(x(this._def.checks),[e])}))}},{key:"email",value:function(e){return this._addCheck(E({kind:"email"},Ba.errToObj(e)))}},{key:"url",value:function(e){return this._addCheck(E({kind:"url"},Ba.errToObj(e)))}},{key:"emoji",value:function(e){return this._addCheck(E({kind:"emoji"},Ba.errToObj(e)))}},{key:"uuid",value:function(e){return this._addCheck(E({kind:"uuid"},Ba.errToObj(e)))}},{key:"nanoid",value:function(e){return this._addCheck(E({kind:"nanoid"},Ba.errToObj(e)))}},{key:"cuid",value:function(e){return this._addCheck(E({kind:"cuid"},Ba.errToObj(e)))}},{key:"cuid2",value:function(e){return this._addCheck(E({kind:"cuid2"},Ba.errToObj(e)))}},{key:"ulid",value:function(e){return this._addCheck(E({kind:"ulid"},Ba.errToObj(e)))}},{key:"base64",value:function(e){return this._addCheck(E({kind:"base64"},Ba.errToObj(e)))}},{key:"ip",value:function(e){return this._addCheck(E({kind:"ip"},Ba.errToObj(e)))}},{key:"datetime",value:function(e){var t,n;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck(E({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,local:null!==(n=null==e?void 0:e.local)&&void 0!==n&&n},Ba.errToObj(null==e?void 0:e.message)))}},{key:"date",value:function(e){return this._addCheck({kind:"date",message:e})}},{key:"time",value:function(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck(E({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision},Ba.errToObj(null==e?void 0:e.message)))}},{key:"duration",value:function(e){return this._addCheck(E({kind:"duration"},Ba.errToObj(e)))}},{key:"regex",value:function(e,t){return this._addCheck(E({kind:"regex",regex:e},Ba.errToObj(t)))}},{key:"includes",value:function(e,t){return this._addCheck(E({kind:"includes",value:e,position:null==t?void 0:t.position},Ba.errToObj(null==t?void 0:t.message)))}},{key:"startsWith",value:function(e,t){return this._addCheck(E({kind:"startsWith",value:e},Ba.errToObj(t)))}},{key:"endsWith",value:function(e,t){return this._addCheck(E({kind:"endsWith",value:e},Ba.errToObj(t)))}},{key:"min",value:function(e,t){return this._addCheck(E({kind:"min",value:e},Ba.errToObj(t)))}},{key:"max",value:function(e,t){return this._addCheck(E({kind:"max",value:e},Ba.errToObj(t)))}},{key:"length",value:function(e,t){return this._addCheck(E({kind:"length",value:e},Ba.errToObj(t)))}},{key:"nonempty",value:function(e){return this.min(1,Ba.errToObj(e))}},{key:"trim",value:function(){return new t(E(E({},this._def),{},{checks:[].concat(x(this._def.checks),[{kind:"trim"}])}))}},{key:"toLowerCase",value:function(){return new t(E(E({},this._def),{},{checks:[].concat(x(this._def.checks),[{kind:"toLowerCase"}])}))}},{key:"toUpperCase",value:function(){return new t(E(E({},this._def),{},{checks:[].concat(x(this._def.checks),[{kind:"toUpperCase"}])}))}},{key:"isDatetime",get:function(){return!!this._def.checks.find((function(e){return"datetime"===e.kind}))}},{key:"isDate",get:function(){return!!this._def.checks.find((function(e){return"date"===e.kind}))}},{key:"isTime",get:function(){return!!this._def.checks.find((function(e){return"time"===e.kind}))}},{key:"isDuration",get:function(){return!!this._def.checks.find((function(e){return"duration"===e.kind}))}},{key:"isEmail",get:function(){return!!this._def.checks.find((function(e){return"email"===e.kind}))}},{key:"isURL",get:function(){return!!this._def.checks.find((function(e){return"url"===e.kind}))}},{key:"isEmoji",get:function(){return!!this._def.checks.find((function(e){return"emoji"===e.kind}))}},{key:"isUUID",get:function(){return!!this._def.checks.find((function(e){return"uuid"===e.kind}))}},{key:"isNANOID",get:function(){return!!this._def.checks.find((function(e){return"nanoid"===e.kind}))}},{key:"isCUID",get:function(){return!!this._def.checks.find((function(e){return"cuid"===e.kind}))}},{key:"isCUID2",get:function(){return!!this._def.checks.find((function(e){return"cuid2"===e.kind}))}},{key:"isULID",get:function(){return!!this._def.checks.find((function(e){return"ulid"===e.kind}))}},{key:"isIP",get:function(){return!!this._def.checks.find((function(e){return"ip"===e.kind}))}},{key:"isBase64",get:function(){return!!this._def.checks.find((function(e){return"base64"===e.kind}))}},{key:"minLength",get:function(){var e,t=null,n=w(this._def.checks);try{for(n.s();!(e=n.n()).done;){var r=e.value;"min"===r.kind&&(null===t||r.value>t)&&(t=r.value)}}catch(u){n.e(u)}finally{n.f()}return t}},{key:"maxLength",get:function(){var e,t=null,n=w(this._def.checks);try{for(n.s();!(e=n.n()).done;){var r=e.value;"max"===r.kind&&(null===t||r.value<t)&&(t=r.value)}}catch(u){n.e(u)}finally{n.f()}return t}}])}(Wa);oi.create=function(e){var t;return new oi(E({checks:[],typeName:$i.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t},Ha(e)))};var si=function(e){function t(){var e;return D(this,t),(e=o(this,t,arguments)).min=e.gte,e.max=e.lte,e.step=e.multipleOf,e}return f(t,e),y(t,[{key:"_parse",value:function(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ba.number){var t=this._getOrReturnCtx(e);return ka(t,{code:Ca.invalid_type,expected:ba.number,received:t.parsedType}),Oa}var n,r,u,a,i,o,s=void 0,c=new Ta,l=w(this._def.checks);try{for(l.s();!(n=l.n()).done;){var d=n.value;if("int"===d.kind)ga.isInteger(e.data)||(ka(s=this._getOrReturnCtx(e,s),{code:Ca.invalid_type,expected:"integer",received:"float",message:d.message}),c.dirty());else if("min"===d.kind){(d.inclusive?e.data<d.value:e.data<=d.value)&&(ka(s=this._getOrReturnCtx(e,s),{code:Ca.too_small,minimum:d.value,type:"number",inclusive:d.inclusive,exact:!1,message:d.message}),c.dirty())}else if("max"===d.kind){(d.inclusive?e.data>d.value:e.data>=d.value)&&(ka(s=this._getOrReturnCtx(e,s),{code:Ca.too_big,maximum:d.value,type:"number",inclusive:d.inclusive,exact:!1,message:d.message}),c.dirty())}else"multipleOf"===d.kind?0!=(r=e.data,u=d.value,a=void 0,i=void 0,o=void 0,a=(r.toString().split(".")[1]||"").length,i=(u.toString().split(".")[1]||"").length,o=a>i?a:i,parseInt(r.toFixed(o).replace(".",""))%parseInt(u.toFixed(o).replace(".",""))/Math.pow(10,o))&&(ka(s=this._getOrReturnCtx(e,s),{code:Ca.not_multiple_of,multipleOf:d.value,message:d.message}),c.dirty()):"finite"===d.kind?Number.isFinite(e.data)||(ka(s=this._getOrReturnCtx(e,s),{code:Ca.not_finite,message:d.message}),c.dirty()):ga.assertNever(d)}}catch(f){l.e(f)}finally{l.f()}return{status:c.value,value:e.data}}},{key:"gte",value:function(e,t){return this.setLimit("min",e,!0,Ba.toString(t))}},{key:"gt",value:function(e,t){return this.setLimit("min",e,!1,Ba.toString(t))}},{key:"lte",value:function(e,t){return this.setLimit("max",e,!0,Ba.toString(t))}},{key:"lt",value:function(e,t){return this.setLimit("max",e,!1,Ba.toString(t))}},{key:"setLimit",value:function(e,n,r,u){return new t(E(E({},this._def),{},{checks:[].concat(x(this._def.checks),[{kind:e,value:n,inclusive:r,message:Ba.toString(u)}])}))}},{key:"_addCheck",value:function(e){return new t(E(E({},this._def),{},{checks:[].concat(x(this._def.checks),[e])}))}},{key:"int",value:function(e){return this._addCheck({kind:"int",message:Ba.toString(e)})}},{key:"positive",value:function(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ba.toString(e)})}},{key:"negative",value:function(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ba.toString(e)})}},{key:"nonpositive",value:function(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ba.toString(e)})}},{key:"nonnegative",value:function(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ba.toString(e)})}},{key:"multipleOf",value:function(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Ba.toString(t)})}},{key:"finite",value:function(e){return this._addCheck({kind:"finite",message:Ba.toString(e)})}},{key:"safe",value:function(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ba.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ba.toString(e)})}},{key:"minValue",get:function(){var e,t=null,n=w(this._def.checks);try{for(n.s();!(e=n.n()).done;){var r=e.value;"min"===r.kind&&(null===t||r.value>t)&&(t=r.value)}}catch(u){n.e(u)}finally{n.f()}return t}},{key:"maxValue",get:function(){var e,t=null,n=w(this._def.checks);try{for(n.s();!(e=n.n()).done;){var r=e.value;"max"===r.kind&&(null===t||r.value<t)&&(t=r.value)}}catch(u){n.e(u)}finally{n.f()}return t}},{key:"isInt",get:function(){return!!this._def.checks.find((function(e){return"int"===e.kind||"multipleOf"===e.kind&&ga.isInteger(e.value)}))}},{key:"isFinite",get:function(){var e,t=null,n=null,r=w(this._def.checks);try{for(r.s();!(e=r.n()).done;){var u=e.value;if("finite"===u.kind||"int"===u.kind||"multipleOf"===u.kind)return!0;"min"===u.kind?(null===n||u.value>n)&&(n=u.value):"max"===u.kind&&(null===t||u.value<t)&&(t=u.value)}}catch(a){r.e(a)}finally{r.f()}return Number.isFinite(n)&&Number.isFinite(t)}}])}(Wa);si.create=function(e){return new si(E({checks:[],typeName:$i.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1},Ha(e)))};var ci=function(e){function t(){var e;return D(this,t),(e=o(this,t,arguments)).min=e.gte,e.max=e.lte,e}return f(t,e),y(t,[{key:"_parse",value:function(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==ba.bigint){var t=this._getOrReturnCtx(e);return ka(t,{code:Ca.invalid_type,expected:ba.bigint,received:t.parsedType}),Oa}var n,r=void 0,u=new Ta,a=w(this._def.checks);try{for(a.s();!(n=a.n()).done;){var i=n.value;if("min"===i.kind)(i.inclusive?e.data<i.value:e.data<=i.value)&&(ka(r=this._getOrReturnCtx(e,r),{code:Ca.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),u.dirty());else if("max"===i.kind){(i.inclusive?e.data>i.value:e.data>=i.value)&&(ka(r=this._getOrReturnCtx(e,r),{code:Ca.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),u.dirty())}else"multipleOf"===i.kind?e.data%i.value!==BigInt(0)&&(ka(r=this._getOrReturnCtx(e,r),{code:Ca.not_multiple_of,multipleOf:i.value,message:i.message}),u.dirty()):ga.assertNever(i)}}catch(o){a.e(o)}finally{a.f()}return{status:u.value,value:e.data}}},{key:"gte",value:function(e,t){return this.setLimit("min",e,!0,Ba.toString(t))}},{key:"gt",value:function(e,t){return this.setLimit("min",e,!1,Ba.toString(t))}},{key:"lte",value:function(e,t){return this.setLimit("max",e,!0,Ba.toString(t))}},{key:"lt",value:function(e,t){return this.setLimit("max",e,!1,Ba.toString(t))}},{key:"setLimit",value:function(e,n,r,u){return new t(E(E({},this._def),{},{checks:[].concat(x(this._def.checks),[{kind:e,value:n,inclusive:r,message:Ba.toString(u)}])}))}},{key:"_addCheck",value:function(e){return new t(E(E({},this._def),{},{checks:[].concat(x(this._def.checks),[e])}))}},{key:"positive",value:function(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ba.toString(e)})}},{key:"negative",value:function(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ba.toString(e)})}},{key:"nonpositive",value:function(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ba.toString(e)})}},{key:"nonnegative",value:function(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ba.toString(e)})}},{key:"multipleOf",value:function(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Ba.toString(t)})}},{key:"minValue",get:function(){var e,t=null,n=w(this._def.checks);try{for(n.s();!(e=n.n()).done;){var r=e.value;"min"===r.kind&&(null===t||r.value>t)&&(t=r.value)}}catch(u){n.e(u)}finally{n.f()}return t}},{key:"maxValue",get:function(){var e,t=null,n=w(this._def.checks);try{for(n.s();!(e=n.n()).done;){var r=e.value;"max"===r.kind&&(null===t||r.value<t)&&(t=r.value)}}catch(u){n.e(u)}finally{n.f()}return t}}])}(Wa);ci.create=function(e){var t;return new ci(E({checks:[],typeName:$i.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t},Ha(e)))};var li=function(e){function t(){return D(this,t),o(this,t,arguments)}return f(t,e),y(t,[{key:"_parse",value:function(e){if(this._def.coerce&&(e.data=Boolean(e.data)),this._getType(e)!==ba.boolean){var t=this._getOrReturnCtx(e);return ka(t,{code:Ca.invalid_type,expected:ba.boolean,received:t.parsedType}),Oa}return Ia(e.data)}}])}(Wa);li.create=function(e){return new li(E({typeName:$i.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1},Ha(e)))};var di=function(e){function t(){return D(this,t),o(this,t,arguments)}return f(t,e),y(t,[{key:"_parse",value:function(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ba.date){var t=this._getOrReturnCtx(e);return ka(t,{code:Ca.invalid_type,expected:ba.date,received:t.parsedType}),Oa}if(isNaN(e.data.getTime()))return ka(this._getOrReturnCtx(e),{code:Ca.invalid_date}),Oa;var n,r=new Ta,u=void 0,a=w(this._def.checks);try{for(a.s();!(n=a.n()).done;){var i=n.value;"min"===i.kind?e.data.getTime()<i.value&&(ka(u=this._getOrReturnCtx(e,u),{code:Ca.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):"max"===i.kind?e.data.getTime()>i.value&&(ka(u=this._getOrReturnCtx(e,u),{code:Ca.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):ga.assertNever(i)}}catch(o){a.e(o)}finally{a.f()}return{status:r.value,value:new Date(e.data.getTime())}}},{key:"_addCheck",value:function(e){return new t(E(E({},this._def),{},{checks:[].concat(x(this._def.checks),[e])}))}},{key:"min",value:function(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Ba.toString(t)})}},{key:"max",value:function(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Ba.toString(t)})}},{key:"minDate",get:function(){var e,t=null,n=w(this._def.checks);try{for(n.s();!(e=n.n()).done;){var r=e.value;"min"===r.kind&&(null===t||r.value>t)&&(t=r.value)}}catch(u){n.e(u)}finally{n.f()}return null!=t?new Date(t):null}},{key:"maxDate",get:function(){var e,t=null,n=w(this._def.checks);try{for(n.s();!(e=n.n()).done;){var r=e.value;"max"===r.kind&&(null===t||r.value<t)&&(t=r.value)}}catch(u){n.e(u)}finally{n.f()}return null!=t?new Date(t):null}}])}(Wa);di.create=function(e){return new di(E({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:$i.ZodDate},Ha(e)))};var fi=function(e){function t(){return D(this,t),o(this,t,arguments)}return f(t,e),y(t,[{key:"_parse",value:function(e){if(this._getType(e)!==ba.symbol){var t=this._getOrReturnCtx(e);return ka(t,{code:Ca.invalid_type,expected:ba.symbol,received:t.parsedType}),Oa}return Ia(e.data)}}])}(Wa);fi.create=function(e){return new fi(E({typeName:$i.ZodSymbol},Ha(e)))};var pi=function(e){function t(){return D(this,t),o(this,t,arguments)}return f(t,e),y(t,[{key:"_parse",value:function(e){if(this._getType(e)!==ba.undefined){var t=this._getOrReturnCtx(e);return ka(t,{code:Ca.invalid_type,expected:ba.undefined,received:t.parsedType}),Oa}return Ia(e.data)}}])}(Wa);pi.create=function(e){return new pi(E({typeName:$i.ZodUndefined},Ha(e)))};var vi=function(e){function t(){return D(this,t),o(this,t,arguments)}return f(t,e),y(t,[{key:"_parse",value:function(e){if(this._getType(e)!==ba.null){var t=this._getOrReturnCtx(e);return ka(t,{code:Ca.invalid_type,expected:ba.null,received:t.parsedType}),Oa}return Ia(e.data)}}])}(Wa);vi.create=function(e){return new vi(E({typeName:$i.ZodNull},Ha(e)))};var hi=function(e){function t(){var e;return D(this,t),(e=o(this,t,arguments))._any=!0,e}return f(t,e),y(t,[{key:"_parse",value:function(e){return Ia(e.data)}}])}(Wa);hi.create=function(e){return new hi(E({typeName:$i.ZodAny},Ha(e)))};var mi=function(e){function t(){var e;return D(this,t),(e=o(this,t,arguments))._unknown=!0,e}return f(t,e),y(t,[{key:"_parse",value:function(e){return Ia(e.data)}}])}(Wa);mi.create=function(e){return new mi(E({typeName:$i.ZodUnknown},Ha(e)))};var gi=function(e){function t(){return D(this,t),o(this,t,arguments)}return f(t,e),y(t,[{key:"_parse",value:function(e){var t=this._getOrReturnCtx(e);return ka(t,{code:Ca.invalid_type,expected:ba.never,received:t.parsedType}),Oa}}])}(Wa);gi.create=function(e){return new gi(E({typeName:$i.ZodNever},Ha(e)))};var _i=function(e){function t(){return D(this,t),o(this,t,arguments)}return f(t,e),y(t,[{key:"_parse",value:function(e){if(this._getType(e)!==ba.undefined){var t=this._getOrReturnCtx(e);return ka(t,{code:Ca.invalid_type,expected:ba.void,received:t.parsedType}),Oa}return Ia(e.data)}}])}(Wa);_i.create=function(e){return new _i(E({typeName:$i.ZodVoid},Ha(e)))};var Di=function(e){function t(){return D(this,t),o(this,t,arguments)}return f(t,e),y(t,[{key:"_parse",value:function(e){var t=this._processInputParams(e),n=t.ctx,r=t.status,u=this._def;if(n.parsedType!==ba.array)return ka(n,{code:Ca.invalid_type,expected:ba.array,received:n.parsedType}),Oa;if(null!==u.exactLength){var a=n.data.length>u.exactLength.value,i=n.data.length<u.exactLength.value;(a||i)&&(ka(n,{code:a?Ca.too_big:Ca.too_small,minimum:i?u.exactLength.value:void 0,maximum:a?u.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:u.exactLength.message}),r.dirty())}if(null!==u.minLength&&n.data.length<u.minLength.value&&(ka(n,{code:Ca.too_small,minimum:u.minLength.value,type:"array",inclusive:!0,exact:!1,message:u.minLength.message}),r.dirty()),null!==u.maxLength&&n.data.length>u.maxLength.value&&(ka(n,{code:Ca.too_big,maximum:u.maxLength.value,type:"array",inclusive:!0,exact:!1,message:u.maxLength.message}),r.dirty()),n.common.async)return Promise.all(x(n.data).map((function(e,t){return u.type._parseAsync(new Ua(n,e,n.path,t))}))).then((function(e){return Ta.mergeArray(r,e)}));var o=x(n.data).map((function(e,t){return u.type._parseSync(new Ua(n,e,n.path,t))}));return Ta.mergeArray(r,o)}},{key:"element",get:function(){return this._def.type}},{key:"min",value:function(e,n){return new t(E(E({},this._def),{},{minLength:{value:e,message:Ba.toString(n)}}))}},{key:"max",value:function(e,n){return new t(E(E({},this._def),{},{maxLength:{value:e,message:Ba.toString(n)}}))}},{key:"length",value:function(e,n){return new t(E(E({},this._def),{},{exactLength:{value:e,message:Ba.toString(n)}}))}},{key:"nonempty",value:function(e){return this.min(1,e)}}])}(Wa);function bi(e){if(e instanceof yi){var t={};for(var n in e.shape){var r=e.shape[n];t[n]=Ri.create(bi(r))}return new yi(E(E({},e._def),{},{shape:function(){return t}}))}return e instanceof Di?new Di(E(E({},e._def),{},{type:bi(e.element)})):e instanceof Ri?Ri.create(bi(e.unwrap())):e instanceof zi?zi.create(bi(e.unwrap())):e instanceof wi?wi.create(e.items.map((function(e){return bi(e)}))):e}Di.create=function(e,t){return new Di(E({type:e,minLength:null,maxLength:null,exactLength:null,typeName:$i.ZodArray},Ha(t)))};var yi=function(e){function t(){var e;return D(this,t),(e=o(this,t,arguments))._cached=null,e.nonstrict=e.passthrough,e.augment=e.extend,e}return f(t,e),y(t,[{key:"_getCached",value:function(){if(null!==this._cached)return this._cached;var e=this._def.shape(),t=ga.objectKeys(e);return this._cached={shape:e,keys:t}}},{key:"_parse",value:function(e){if(this._getType(e)!==ba.object){var t=this._getOrReturnCtx(e);return ka(t,{code:Ca.invalid_type,expected:ba.object,received:t.parsedType}),Oa}var n=this._processInputParams(e),r=n.status,u=n.ctx,a=this._getCached(),i=a.shape,o=a.keys,s=[];if(!(this._def.catchall instanceof gi&&"strip"===this._def.unknownKeys))for(var c in u.data)o.includes(c)||s.push(c);var l,d=[],f=w(o);try{for(f.s();!(l=f.n()).done;){var p=l.value,v=i[p],h=u.data[p];d.push({key:{status:"valid",value:p},value:v._parse(new Ua(u,h,u.path,p)),alwaysSet:p in u.data})}}catch(k){f.e(k)}finally{f.f()}if(this._def.catchall instanceof gi){var g=this._def.unknownKeys;if("passthrough"===g){var D,b=w(s);try{for(b.s();!(D=b.n()).done;){var y=D.value;d.push({key:{status:"valid",value:y},value:{status:"valid",value:u.data[y]}})}}catch(k){b.e(k)}finally{b.f()}}else if("strict"===g)s.length>0&&(ka(u,{code:Ca.unrecognized_keys,keys:s}),r.dirty());else if("strip"!==g)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{var C,E=this._def.catchall,A=w(s);try{for(A.s();!(C=A.n()).done;){var F=C.value,x=u.data[F];d.push({key:{status:"valid",value:F},value:E._parse(new Ua(u,x,u.path,F)),alwaysSet:F in u.data})}}catch(k){A.e(k)}finally{A.f()}}return u.common.async?Promise.resolve().then(_(m().mark((function e(){var t,n,r,u,a,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=w(d),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=15;break}return u=r.value,e.next=8,u.key;case 8:return a=e.sent,e.next=11,u.value;case 11:i=e.sent,t.push({key:a,value:i,alwaysSet:u.alwaysSet});case 13:e.next=4;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(2),n.e(e.t0);case 20:return e.prev=20,n.f(),e.finish(20);case 23:return e.abrupt("return",t);case 24:case"end":return e.stop()}}),e,null,[[2,17,20,23]])})))).then((function(e){return Ta.mergeObjectSync(r,e)})):Ta.mergeObjectSync(r,d)}},{key:"shape",get:function(){return this._def.shape()}},{key:"strict",value:function(e){var n=this;return Ba.errToObj,new t(E(E({},this._def),{},{unknownKeys:"strict"},void 0!==e?{errorMap:function(t,r){var u,a,i,o,s=null!==(i=null===(a=(u=n._def).errorMap)||void 0===a?void 0:a.call(u,t,r).message)&&void 0!==i?i:r.defaultError;return"unrecognized_keys"===t.code?{message:null!==(o=Ba.errToObj(e).message)&&void 0!==o?o:s}:{message:s}}}:{}))}},{key:"strip",value:function(){return new t(E(E({},this._def),{},{unknownKeys:"strip"}))}},{key:"passthrough",value:function(){return new t(E(E({},this._def),{},{unknownKeys:"passthrough"}))}},{key:"extend",value:function(e){var n=this;return new t(E(E({},this._def),{},{shape:function(){return E(E({},n._def.shape()),e)}}))}},{key:"merge",value:function(e){var n=this;return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:function(){return E(E({},n._def.shape()),e._def.shape())},typeName:$i.ZodObject})}},{key:"setKey",value:function(e,t){return this.augment(A({},e,t))}},{key:"catchall",value:function(e){return new t(E(E({},this._def),{},{catchall:e}))}},{key:"pick",value:function(e){var n=this,r={};return ga.objectKeys(e).forEach((function(t){e[t]&&n.shape[t]&&(r[t]=n.shape[t])})),new t(E(E({},this._def),{},{shape:function(){return r}}))}},{key:"omit",value:function(e){var n=this,r={};return ga.objectKeys(this.shape).forEach((function(t){e[t]||(r[t]=n.shape[t])})),new t(E(E({},this._def),{},{shape:function(){return r}}))}},{key:"deepPartial",value:function(){return bi(this)}},{key:"partial",value:function(e){var n=this,r={};return ga.objectKeys(this.shape).forEach((function(t){var u=n.shape[t];e&&!e[t]?r[t]=u:r[t]=u.optional()})),new t(E(E({},this._def),{},{shape:function(){return r}}))}},{key:"required",value:function(e){var n=this,r={};return ga.objectKeys(this.shape).forEach((function(t){if(e&&!e[t])r[t]=n.shape[t];else{for(var u=n.shape[t];u instanceof Ri;)u=u._def.innerType;r[t]=u}})),new t(E(E({},this._def),{},{shape:function(){return r}}))}},{key:"keyof",value:function(){return Ni(ga.objectKeys(this.shape))}}])}(Wa);yi.create=function(e,t){return new yi(E({shape:function(){return e},unknownKeys:"strip",catchall:gi.create(),typeName:$i.ZodObject},Ha(t)))},yi.strictCreate=function(e,t){return new yi(E({shape:function(){return e},unknownKeys:"strict",catchall:gi.create(),typeName:$i.ZodObject},Ha(t)))},yi.lazycreate=function(e,t){return new yi(E({shape:e,unknownKeys:"strip",catchall:gi.create(),typeName:$i.ZodObject},Ha(t)))};var Ci=function(e){function t(){return D(this,t),o(this,t,arguments)}return f(t,e),y(t,[{key:"_parse",value:function(e){var t=this._processInputParams(e).ctx,n=this._def.options;if(t.common.async)return Promise.all(n.map(function(){var e=_(m().mark((function e(n){var r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=E(E({},t),{},{common:E(E({},t.common),{},{issues:[]}),parent:null}),e.next=3,n._parseAsync({data:t.data,path:t.path,parent:r});case 3:return e.t0=e.sent,e.t1=r,e.abrupt("return",{result:e.t0,ctx:e.t1});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(e){var n,r=w(e);try{for(r.s();!(n=r.n()).done;){var u=n.value;if("valid"===u.result.status)return u.result}}catch(l){r.e(l)}finally{r.f()}var a,i=w(e);try{for(i.s();!(a=i.n()).done;){var o,s=a.value;if("dirty"===s.result.status)return(o=t.common.issues).push.apply(o,x(s.ctx.common.issues)),s.result}}catch(l){i.e(l)}finally{i.f()}var c=e.map((function(e){return new Ea(e.ctx.common.issues)}));return ka(t,{code:Ca.invalid_union,unionErrors:c}),Oa}));var r,u,a=void 0,i=[],o=w(n);try{for(o.s();!(r=o.n()).done;){var s=r.value,c=E(E({},t),{},{common:E(E({},t.common),{},{issues:[]}),parent:null}),l=s._parseSync({data:t.data,path:t.path,parent:c});if("valid"===l.status)return l;"dirty"!==l.status||a||(a={result:l,ctx:c}),c.common.issues.length&&i.push(c.common.issues)}}catch(f){o.e(f)}finally{o.f()}if(a)return(u=t.common.issues).push.apply(u,x(a.ctx.common.issues)),a.result;var d=i.map((function(e){return new Ea(e)}));return ka(t,{code:Ca.invalid_union,unionErrors:d}),Oa}},{key:"options",get:function(){return this._def.options}}])}(Wa);Ci.create=function(e,t){return new Ci(E({options:e,typeName:$i.ZodUnion},Ha(t)))};var Ei=function(e){return e instanceof Ti?Ei(e.schema):e instanceof Mi?Ei(e.innerType()):e instanceof Oi?[e.value]:e instanceof Ii?e.options:e instanceof Li?ga.objectValues(e.enum):e instanceof Zi?Ei(e._def.innerType):e instanceof pi?[void 0]:e instanceof vi?[null]:e instanceof Ri?[void 0].concat(x(Ei(e.unwrap()))):e instanceof zi?[null].concat(x(Ei(e.unwrap()))):e instanceof qi||e instanceof Yi?Ei(e.unwrap()):e instanceof Ui?Ei(e._def.innerType):[]},Ai=function(e){function t(){return D(this,t),o(this,t,arguments)}return f(t,e),y(t,[{key:"_parse",value:function(e){var t=this._processInputParams(e).ctx;if(t.parsedType!==ba.object)return ka(t,{code:Ca.invalid_type,expected:ba.object,received:t.parsedType}),Oa;var n=this.discriminator,r=t.data[n],u=this.optionsMap.get(r);return u?t.common.async?u._parseAsync({data:t.data,path:t.path,parent:t}):u._parseSync({data:t.data,path:t.path,parent:t}):(ka(t,{code:Ca.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Oa)}},{key:"discriminator",get:function(){return this._def.discriminator}},{key:"options",get:function(){return this._def.options}},{key:"optionsMap",get:function(){return this._def.optionsMap}}],[{key:"create",value:function(e,n,r){var u,a=new Map,i=w(n);try{for(i.s();!(u=i.n()).done;){var o=u.value,s=Ei(o.shape[e]);if(!s.length)throw new Error("A discriminator value for key `".concat(e,"` could not be extracted from all schema options"));var c,l=w(s);try{for(l.s();!(c=l.n()).done;){var d=c.value;if(a.has(d))throw new Error("Discriminator property ".concat(String(e)," has duplicate value ").concat(String(d)));a.set(d,o)}}catch(f){l.e(f)}finally{l.f()}}}catch(f){i.e(f)}finally{i.f()}return new t(E({typeName:$i.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:a},Ha(r)))}}])}(Wa);function Fi(e,t){var n=ya(e),r=ya(t);if(e===t)return{valid:!0,data:e};if(n===ba.object&&r===ba.object){var u,a=ga.objectKeys(t),i=ga.objectKeys(e).filter((function(e){return-1!==a.indexOf(e)})),o=E(E({},e),t),s=w(i);try{for(s.s();!(u=s.n()).done;){var c=u.value,l=Fi(e[c],t[c]);if(!l.valid)return{valid:!1};o[c]=l.data}}catch(v){s.e(v)}finally{s.f()}return{valid:!0,data:o}}if(n===ba.array&&r===ba.array){if(e.length!==t.length)return{valid:!1};for(var d=[],f=0;f<e.length;f++){var p=Fi(e[f],t[f]);if(!p.valid)return{valid:!1};d.push(p.data)}return{valid:!0,data:d}}return n===ba.date&&r===ba.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}var xi=function(e){function t(){return D(this,t),o(this,t,arguments)}return f(t,e),y(t,[{key:"_parse",value:function(e){var t=this._processInputParams(e),n=t.status,r=t.ctx,u=function(e,t){if(La(e)||La(t))return Oa;var u=Fi(e.value,t.value);return u.valid?((Pa(e)||Pa(t))&&n.dirty(),{status:n.value,value:u.data}):(ka(r,{code:Ca.invalid_intersection_types}),Oa)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then((function(e){var t=h(e,2),n=t[0],r=t[1];return u(n,r)})):u(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}])}(Wa);xi.create=function(e,t,n){return new xi(E({left:e,right:t,typeName:$i.ZodIntersection},Ha(n)))};var wi=function(e){function t(){return D(this,t),o(this,t,arguments)}return f(t,e),y(t,[{key:"_parse",value:function(e){var t=this,n=this._processInputParams(e),r=n.status,u=n.ctx;if(u.parsedType!==ba.array)return ka(u,{code:Ca.invalid_type,expected:ba.array,received:u.parsedType}),Oa;if(u.data.length<this._def.items.length)return ka(u,{code:Ca.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Oa;!this._def.rest&&u.data.length>this._def.items.length&&(ka(u,{code:Ca.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());var a=x(u.data).map((function(e,n){var r=t._def.items[n]||t._def.rest;return r?r._parse(new Ua(u,e,u.path,n)):null})).filter((function(e){return!!e}));return u.common.async?Promise.all(a).then((function(e){return Ta.mergeArray(r,e)})):Ta.mergeArray(r,a)}},{key:"items",get:function(){return this._def.items}},{key:"rest",value:function(e){return new t(E(E({},this._def),{},{rest:e}))}}])}(Wa);wi.create=function(e,t){if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new wi(E({items:e,typeName:$i.ZodTuple,rest:null},Ha(t)))};var ki=function(e){function t(){return D(this,t),o(this,t,arguments)}return f(t,e),y(t,[{key:"keySchema",get:function(){return this._def.keyType}},{key:"valueSchema",get:function(){return this._def.valueType}},{key:"_parse",value:function(e){var t=this._processInputParams(e),n=t.status,r=t.ctx;if(r.parsedType!==ba.object)return ka(r,{code:Ca.invalid_type,expected:ba.object,received:r.parsedType}),Oa;var u=[],a=this._def.keyType,i=this._def.valueType;for(var o in r.data)u.push({key:a._parse(new Ua(r,o,r.path,o)),value:i._parse(new Ua(r,r.data[o],r.path,o)),alwaysSet:o in r.data});return r.common.async?Ta.mergeObjectAsync(n,u):Ta.mergeObjectSync(n,u)}},{key:"element",get:function(){return this._def.valueType}}],[{key:"create",value:function(e,n,r){return new t(n instanceof Wa?E({keyType:e,valueType:n,typeName:$i.ZodRecord},Ha(r)):E({keyType:oi.create(),valueType:e,typeName:$i.ZodRecord},Ha(n)))}}])}(Wa),Bi=function(e){function t(){return D(this,t),o(this,t,arguments)}return f(t,e),y(t,[{key:"keySchema",get:function(){return this._def.keyType}},{key:"valueSchema",get:function(){return this._def.valueType}},{key:"_parse",value:function(e){var t=this._processInputParams(e),n=t.status,r=t.ctx;if(r.parsedType!==ba.map)return ka(r,{code:Ca.invalid_type,expected:ba.map,received:r.parsedType}),Oa;var u=this._def.keyType,a=this._def.valueType,i=x(r.data.entries()).map((function(e,t){var n=h(e,2),i=n[0],o=n[1];return{key:u._parse(new Ua(r,i,r.path,[t,"key"])),value:a._parse(new Ua(r,o,r.path,[t,"value"]))}}));if(r.common.async){var o=new Map;return Promise.resolve().then(_(m().mark((function e(){var t,r,u,a,s;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=w(i),e.prev=1,t.s();case 3:if((r=t.n()).done){e.next=17;break}return u=r.value,e.next=7,u.key;case 7:return a=e.sent,e.next=10,u.value;case 10:if(s=e.sent,"aborted"!==a.status&&"aborted"!==s.status){e.next=13;break}return e.abrupt("return",Oa);case 13:"dirty"!==a.status&&"dirty"!==s.status||n.dirty(),o.set(a.value,s.value);case 15:e.next=3;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(1),t.e(e.t0);case 22:return e.prev=22,t.f(),e.finish(22);case 25:return e.abrupt("return",{status:n.value,value:o});case 26:case"end":return e.stop()}}),e,null,[[1,19,22,25]])}))))}var s,c=new Map,l=w(i);try{for(l.s();!(s=l.n()).done;){var d=s.value,f=d.key,p=d.value;if("aborted"===f.status||"aborted"===p.status)return Oa;"dirty"!==f.status&&"dirty"!==p.status||n.dirty(),c.set(f.value,p.value)}}catch(v){l.e(v)}finally{l.f()}return{status:n.value,value:c}}}])}(Wa);Bi.create=function(e,t,n){return new Bi(E({valueType:t,keyType:e,typeName:$i.ZodMap},Ha(n)))};var ji=function(e){function t(){return D(this,t),o(this,t,arguments)}return f(t,e),y(t,[{key:"_parse",value:function(e){var t=this._processInputParams(e),n=t.status,r=t.ctx;if(r.parsedType!==ba.set)return ka(r,{code:Ca.invalid_type,expected:ba.set,received:r.parsedType}),Oa;var u=this._def;null!==u.minSize&&r.data.size<u.minSize.value&&(ka(r,{code:Ca.too_small,minimum:u.minSize.value,type:"set",inclusive:!0,exact:!1,message:u.minSize.message}),n.dirty()),null!==u.maxSize&&r.data.size>u.maxSize.value&&(ka(r,{code:Ca.too_big,maximum:u.maxSize.value,type:"set",inclusive:!0,exact:!1,message:u.maxSize.message}),n.dirty());var a=this._def.valueType;function i(e){var t,r=new Set,u=w(e);try{for(u.s();!(t=u.n()).done;){var a=t.value;if("aborted"===a.status)return Oa;"dirty"===a.status&&n.dirty(),r.add(a.value)}}catch(i){u.e(i)}finally{u.f()}return{status:n.value,value:r}}var o=x(r.data.values()).map((function(e,t){return a._parse(new Ua(r,e,r.path,t))}));return r.common.async?Promise.all(o).then((function(e){return i(e)})):i(o)}},{key:"min",value:function(e,n){return new t(E(E({},this._def),{},{minSize:{value:e,message:Ba.toString(n)}}))}},{key:"max",value:function(e,n){return new t(E(E({},this._def),{},{maxSize:{value:e,message:Ba.toString(n)}}))}},{key:"size",value:function(e,t){return this.min(e,t).max(e,t)}},{key:"nonempty",value:function(e){return this.min(1,e)}}])}(Wa);ji.create=function(e,t){return new ji(E({valueType:e,minSize:null,maxSize:null,typeName:$i.ZodSet},Ha(t)))};var Si=function(e){function t(){var e;return D(this,t),(e=o(this,t,arguments)).validate=e.implement,e}return f(t,e),y(t,[{key:"_parse",value:function(e){var t=this._processInputParams(e).ctx;if(t.parsedType!==ba.function)return ka(t,{code:Ca.invalid_type,expected:ba.function,received:t.parsedType}),Oa;function n(e,n){return wa({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,xa(),Aa].filter((function(e){return!!e})),issueData:{code:Ca.invalid_arguments,argumentsError:n}})}function r(e,n){return wa({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,xa(),Aa].filter((function(e){return!!e})),issueData:{code:Ca.invalid_return_type,returnTypeError:n}})}var u={errorMap:t.common.contextualErrorMap},a=t.data;if(this._def.returns instanceof Pi){var i=this;return Ia(_(m().mark((function e(){var t,o,s,c,l,d,f,p=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=p.length,o=new Array(t),s=0;s<t;s++)o[s]=p[s];return c=new Ea([]),e.next=4,i._def.args.parseAsync(o,u).catch((function(e){throw c.addIssue(n(o,e)),c}));case 4:return l=e.sent,e.next=7,Reflect.apply(a,this,l);case 7:return d=e.sent,e.next=10,i._def.returns._def.type.parseAsync(d,u).catch((function(e){throw c.addIssue(r(d,e)),c}));case 10:return f=e.sent,e.abrupt("return",f);case 12:case"end":return e.stop()}}),e,this)}))))}var o=this;return Ia((function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var s=o._def.args.safeParse(t,u);if(!s.success)throw new Ea([n(t,s.error)]);var c=Reflect.apply(a,this,s.data),l=o._def.returns.safeParse(c,u);if(!l.success)throw new Ea([r(c,l.error)]);return l.data}))}},{key:"parameters",value:function(){return this._def.args}},{key:"returnType",value:function(){return this._def.returns}},{key:"args",value:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return new t(E(E({},this._def),{},{args:wi.create(n).rest(mi.create())}))}},{key:"returns",value:function(e){return new t(E(E({},this._def),{},{returns:e}))}},{key:"implement",value:function(e){return this.parse(e)}},{key:"strictImplement",value:function(e){return this.parse(e)}}],[{key:"create",value:function(e,n,r){return new t(E({args:e||wi.create([]).rest(mi.create()),returns:n||mi.create(),typeName:$i.ZodFunction},Ha(r)))}}])}(Wa),Ti=function(e){function t(){return D(this,t),o(this,t,arguments)}return f(t,e),y(t,[{key:"schema",get:function(){return this._def.getter()}},{key:"_parse",value:function(e){var t=this._processInputParams(e).ctx;return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}])}(Wa);Ti.create=function(e,t){return new Ti(E({getter:e,typeName:$i.ZodLazy},Ha(t)))};var Oi=function(e){function t(){return D(this,t),o(this,t,arguments)}return f(t,e),y(t,[{key:"_parse",value:function(e){if(e.data!==this._def.value){var t=this._getOrReturnCtx(e);return ka(t,{received:t.data,code:Ca.invalid_literal,expected:this._def.value}),Oa}return{status:"valid",value:e.data}}},{key:"value",get:function(){return this._def.value}}])}(Wa);function Ni(e,t){return new Ii(E({values:e,typeName:$i.ZodEnum},Ha(t)))}Oi.create=function(e,t){return new Oi(E({value:e,typeName:$i.ZodLiteral},Ha(t)))};var Ii=function(e){function t(){var e;return D(this,t),e=o(this,t,arguments),ja.set(e,void 0),e}return f(t,e),y(t,[{key:"_parse",value:function(e){if("string"!=typeof e.data){var t=this._getOrReturnCtx(e),n=this._def.values;return ka(t,{expected:ga.joinValues(n),received:t.parsedType,code:Ca.invalid_type}),Oa}if(za(this,ja)||Za(this,ja,new Set(this._def.values)),!za(this,ja).has(e.data)){var r=this._getOrReturnCtx(e),u=this._def.values;return ka(r,{received:r.data,code:Ca.invalid_enum_value,options:u}),Oa}return Ia(e.data)}},{key:"options",get:function(){return this._def.values}},{key:"enum",get:function(){var e,t={},n=w(this._def.values);try{for(n.s();!(e=n.n()).done;){var r=e.value;t[r]=r}}catch(u){n.e(u)}finally{n.f()}return t}},{key:"Values",get:function(){var e,t={},n=w(this._def.values);try{for(n.s();!(e=n.n()).done;){var r=e.value;t[r]=r}}catch(u){n.e(u)}finally{n.f()}return t}},{key:"Enum",get:function(){var e,t={},n=w(this._def.values);try{for(n.s();!(e=n.n()).done;){var r=e.value;t[r]=r}}catch(u){n.e(u)}finally{n.f()}return t}},{key:"extract",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return t.create(e,E(E({},this._def),n))}},{key:"exclude",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return t.create(this.options.filter((function(t){return!e.includes(t)})),E(E({},this._def),n))}}])}(Wa);ja=new WeakMap,Ii.create=Ni;var Li=function(e){function t(){var e;return D(this,t),e=o(this,t,arguments),Sa.set(e,void 0),e}return f(t,e),y(t,[{key:"_parse",value:function(e){var t=ga.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==ba.string&&n.parsedType!==ba.number){var r=ga.objectValues(t);return ka(n,{expected:ga.joinValues(r),received:n.parsedType,code:Ca.invalid_type}),Oa}if(za(this,Sa)||Za(this,Sa,new Set(ga.getValidEnumValues(this._def.values))),!za(this,Sa).has(e.data)){var u=ga.objectValues(t);return ka(n,{received:n.data,code:Ca.invalid_enum_value,options:u}),Oa}return Ia(e.data)}},{key:"enum",get:function(){return this._def.values}}])}(Wa);Sa=new WeakMap,Li.create=function(e,t){return new Li(E({values:e,typeName:$i.ZodNativeEnum},Ha(t)))};var Pi=function(e){function t(){return D(this,t),o(this,t,arguments)}return f(t,e),y(t,[{key:"unwrap",value:function(){return this._def.type}},{key:"_parse",value:function(e){var t=this,n=this._processInputParams(e).ctx;if(n.parsedType!==ba.promise&&!1===n.common.async)return ka(n,{code:Ca.invalid_type,expected:ba.promise,received:n.parsedType}),Oa;var r=n.parsedType===ba.promise?n.data:Promise.resolve(n.data);return Ia(r.then((function(e){return t._def.type.parseAsync(e,{path:n.path,errorMap:n.common.contextualErrorMap})})))}}])}(Wa);Pi.create=function(e,t){return new Pi(E({type:e,typeName:$i.ZodPromise},Ha(t)))};var Mi=function(e){function t(){return D(this,t),o(this,t,arguments)}return f(t,e),y(t,[{key:"innerType",value:function(){return this._def.schema}},{key:"sourceType",value:function(){return this._def.schema._def.typeName===$i.ZodEffects?this._def.schema.sourceType():this._def.schema}},{key:"_parse",value:function(e){var t=this,n=this._processInputParams(e),r=n.status,u=n.ctx,a=this._def.effect||null,i={addIssue:function(e){ka(u,e),e.fatal?r.abort():r.dirty()},get path(){return u.path}};if(i.addIssue=i.addIssue.bind(i),"preprocess"===a.type){var o=a.transform(u.data,i);if(u.common.async)return Promise.resolve(o).then(function(){var e=_(m().mark((function e(n){var a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("aborted"!==r.value){e.next=2;break}return e.abrupt("return",Oa);case 2:return e.next=4,t._def.schema._parseAsync({data:n,path:u.path,parent:u});case 4:if("aborted"!==(a=e.sent).status){e.next=7;break}return e.abrupt("return",Oa);case 7:if("dirty"!==a.status){e.next=9;break}return e.abrupt("return",Na(a.value));case 9:if("dirty"!==r.value){e.next=11;break}return e.abrupt("return",Na(a.value));case 11:return e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());if("aborted"===r.value)return Oa;var s=this._def.schema._parseSync({data:o,path:u.path,parent:u});return"aborted"===s.status?Oa:"dirty"===s.status||"dirty"===r.value?Na(s.value):s}if("refinement"===a.type){var c=function(e){var t=a.refinement(e,i);if(u.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===u.common.async){var l=this._def.schema._parseSync({data:u.data,path:u.path,parent:u});return"aborted"===l.status?Oa:("dirty"===l.status&&r.dirty(),c(l.value),{status:r.value,value:l.value})}return this._def.schema._parseAsync({data:u.data,path:u.path,parent:u}).then((function(e){return"aborted"===e.status?Oa:("dirty"===e.status&&r.dirty(),c(e.value).then((function(){return{status:r.value,value:e.value}})))}))}if("transform"===a.type){if(!1===u.common.async){var d=this._def.schema._parseSync({data:u.data,path:u.path,parent:u});if(!Ma(d))return d;var f=a.transform(d.value,i);if(f instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:f}}return this._def.schema._parseAsync({data:u.data,path:u.path,parent:u}).then((function(e){return Ma(e)?Promise.resolve(a.transform(e.value,i)).then((function(e){return{status:r.value,value:e}})):e}))}ga.assertNever(a)}}])}(Wa);Mi.create=function(e,t,n){return new Mi(E({schema:e,typeName:$i.ZodEffects,effect:t},Ha(n)))},Mi.createWithPreprocess=function(e,t,n){return new Mi(E({schema:t,effect:{type:"preprocess",transform:e},typeName:$i.ZodEffects},Ha(n)))};var Ri=function(e){function t(){return D(this,t),o(this,t,arguments)}return f(t,e),y(t,[{key:"_parse",value:function(e){return this._getType(e)===ba.undefined?Ia(void 0):this._def.innerType._parse(e)}},{key:"unwrap",value:function(){return this._def.innerType}}])}(Wa);Ri.create=function(e,t){return new Ri(E({innerType:e,typeName:$i.ZodOptional},Ha(t)))};var zi=function(e){function t(){return D(this,t),o(this,t,arguments)}return f(t,e),y(t,[{key:"_parse",value:function(e){return this._getType(e)===ba.null?Ia(null):this._def.innerType._parse(e)}},{key:"unwrap",value:function(){return this._def.innerType}}])}(Wa);zi.create=function(e,t){return new zi(E({innerType:e,typeName:$i.ZodNullable},Ha(t)))};var Zi=function(e){function t(){return D(this,t),o(this,t,arguments)}return f(t,e),y(t,[{key:"_parse",value:function(e){var t=this._processInputParams(e).ctx,n=t.data;return t.parsedType===ba.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}},{key:"removeDefault",value:function(){return this._def.innerType}}])}(Wa);Zi.create=function(e,t){return new Zi(E({innerType:e,typeName:$i.ZodDefault,defaultValue:"function"==typeof t.default?t.default:function(){return t.default}},Ha(t)))};var Ui=function(e){function t(){return D(this,t),o(this,t,arguments)}return f(t,e),y(t,[{key:"_parse",value:function(e){var t=this,n=this._processInputParams(e).ctx,r=E(E({},n),{},{common:E(E({},n.common),{},{issues:[]})}),u=this._def.innerType._parse({data:r.data,path:r.path,parent:E({},r)});return Ra(u)?u.then((function(e){return{status:"valid",value:"valid"===e.status?e.value:t._def.catchValue({get error(){return new Ea(r.common.issues)},input:r.data})}})):{status:"valid",value:"valid"===u.status?u.value:this._def.catchValue({get error(){return new Ea(r.common.issues)},input:r.data})}}},{key:"removeCatch",value:function(){return this._def.innerType}}])}(Wa);Ui.create=function(e,t){return new Ui(E({innerType:e,typeName:$i.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:function(){return t.catch}},Ha(t)))};var Vi=function(e){function t(){return D(this,t),o(this,t,arguments)}return f(t,e),y(t,[{key:"_parse",value:function(e){if(this._getType(e)!==ba.nan){var t=this._getOrReturnCtx(e);return ka(t,{code:Ca.invalid_type,expected:ba.nan,received:t.parsedType}),Oa}return{status:"valid",value:e.data}}}])}(Wa);Vi.create=function(e){return new Vi(E({typeName:$i.ZodNaN},Ha(e)))};var Hi=Symbol("zod_brand"),qi=function(e){function t(){return D(this,t),o(this,t,arguments)}return f(t,e),y(t,[{key:"_parse",value:function(e){var t=this._processInputParams(e).ctx,n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}},{key:"unwrap",value:function(){return this._def.type}}])}(Wa),Wi=function(e){function t(){return D(this,t),o(this,t,arguments)}return f(t,e),y(t,[{key:"_parse",value:function(e){var t=this,n=this._processInputParams(e),r=n.status,u=n.ctx;if(u.common.async){var a=function(){var e=_(m().mark((function e(){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._def.in._parseAsync({data:u.data,path:u.path,parent:u});case 2:if("aborted"!==(n=e.sent).status){e.next=5;break}return e.abrupt("return",Oa);case 5:if("dirty"!==n.status){e.next=10;break}return r.dirty(),e.abrupt("return",Na(n.value));case 10:return e.abrupt("return",t._def.out._parseAsync({data:n.value,path:u.path,parent:u}));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a()}var i=this._def.in._parseSync({data:u.data,path:u.path,parent:u});return"aborted"===i.status?Oa:"dirty"===i.status?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:u.path,parent:u})}}],[{key:"create",value:function(e,n){return new t({in:e,out:n,typeName:$i.ZodPipeline})}}])}(Wa),Yi=function(e){function t(){return D(this,t),o(this,t,arguments)}return f(t,e),y(t,[{key:"_parse",value:function(e){var t=this._def.innerType._parse(e),n=function(e){return Ma(e)&&(e.value=Object.freeze(e.value)),e};return Ra(t)?t.then((function(e){return n(e)})):n(t)}},{key:"unwrap",value:function(){return this._def.innerType}}])}(Wa);function Gi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return e?hi.create().superRefine((function(r,u){var a,i;if(!e(r)){var o="function"==typeof t?t(r):"string"==typeof t?{message:t}:t,s=null===(i=null!==(a=o.fatal)&&void 0!==a?a:n)||void 0===i||i,c="string"==typeof o?{message:o}:o;u.addIssue(E(E({code:"custom"},c),{},{fatal:s}))}})):hi.create()}Yi.create=function(e,t){return new Yi(E({innerType:e,typeName:$i.ZodReadonly},Ha(t)))};var $i,Ki={object:yi.lazycreate};!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}($i||($i={}));var Ji=oi.create,Qi=si.create,Xi=Vi.create,eo=ci.create,to=li.create,no=di.create,ro=fi.create,uo=pi.create,ao=vi.create,io=hi.create,oo=mi.create,so=gi.create,co=_i.create,lo=Di.create,fo=yi.create,po=yi.strictCreate,vo=Ci.create,ho=Ai.create,mo=xi.create,go=wi.create,_o=ki.create,Do=Bi.create,bo=ji.create,yo=Si.create,Co=Ti.create,Eo=Oi.create,Ao=Ii.create,Fo=Li.create,xo=Pi.create,wo=Mi.create,ko=Ri.create,Bo=zi.create,jo=Mi.createWithPreprocess,So=Wi.create,To={string:function(e){return oi.create(E(E({},e),{},{coerce:!0}))},number:function(e){return si.create(E(E({},e),{},{coerce:!0}))},boolean:function(e){return li.create(E(E({},e),{},{coerce:!0}))},bigint:function(e){return ci.create(E(E({},e),{},{coerce:!0}))},date:function(e){return di.create(E(E({},e),{},{coerce:!0}))}},Oo=Oa,No=Object.freeze({__proto__:null,defaultErrorMap:Aa,setErrorMap:function(e){Fa=e},getErrorMap:xa,makeIssue:wa,EMPTY_PATH:[],addIssueToContext:ka,ParseStatus:Ta,INVALID:Oa,DIRTY:Na,OK:Ia,isAborted:La,isDirty:Pa,isValid:Ma,isAsync:Ra,get util(){return ga},get objectUtil(){return _a},ZodParsedType:ba,getParsedType:ya,ZodType:Wa,datetimeRegex:ii,ZodString:oi,ZodNumber:si,ZodBigInt:ci,ZodBoolean:li,ZodDate:di,ZodSymbol:fi,ZodUndefined:pi,ZodNull:vi,ZodAny:hi,ZodUnknown:mi,ZodNever:gi,ZodVoid:_i,ZodArray:Di,ZodObject:yi,ZodUnion:Ci,ZodDiscriminatedUnion:Ai,ZodIntersection:xi,ZodTuple:wi,ZodRecord:ki,ZodMap:Bi,ZodSet:ji,ZodFunction:Si,ZodLazy:Ti,ZodLiteral:Oi,ZodEnum:Ii,ZodNativeEnum:Li,ZodPromise:Pi,ZodEffects:Mi,ZodTransformer:Mi,ZodOptional:Ri,ZodNullable:zi,ZodDefault:Zi,ZodCatch:Ui,ZodNaN:Vi,BRAND:Hi,ZodBranded:qi,ZodPipeline:Wi,ZodReadonly:Yi,custom:Gi,Schema:Wa,ZodSchema:Wa,late:Ki,get ZodFirstPartyTypeKind(){return $i},coerce:To,any:io,array:lo,bigint:eo,boolean:to,date:no,discriminatedUnion:ho,effect:wo,enum:Ao,function:yo,instanceof:function(e){return Gi((function(t){return t instanceof e}),arguments.length>1&&void 0!==arguments[1]?arguments[1]:{message:"Input not instance of ".concat(e.name)})},intersection:mo,lazy:Co,literal:Eo,map:Do,nan:Xi,nativeEnum:Fo,never:so,null:ao,nullable:Bo,number:Qi,object:fo,oboolean:function(){return to().optional()},onumber:function(){return Qi().optional()},optional:ko,ostring:function(){return Ji().optional()},pipeline:So,preprocess:jo,promise:xo,record:_o,set:bo,strictObject:po,string:Ji,symbol:ro,transformer:wo,tuple:go,undefined:uo,union:vo,unknown:oo,void:co,NEVER:Oo,ZodIssueCode:Ca,quotelessJson:function(e){return JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:")},ZodError:Ea});function Io(e,t){return"".concat(e," field of type '").concat(t,"' must be a non-empty array")}var Lo,Po,Mo={Text:"text",CustomText:"customtext",HTMLContent:"htmlcontent",Media:"media",Carousel:"carousel",QuickReplies:"quickreplies",Buttons:"buttons",MultiContent:"multicontent"},Ro=No.object({type:No.enum(["payload","link","call"]),payload:No.string().optional(),display_text:No.string(),phone_number:No.string().optional(),country_code:No.string().optional(),target:No.string().optional(),id:No.string().optional(),url:No.string().optional()}),zo=No.enum([Mo.Text,Mo.CustomText,Mo.HTMLContent,Mo.Media,Mo.Carousel,Mo.QuickReplies,Mo.Buttons,Mo.MultiContent]),Zo=No.object({media_type:zo}),Uo=No.object({media_type:No.literal(Mo.Text)}),Vo=No.object({media_type:No.literal(Mo.CustomText),text_response:No.string()}),Ho=No.object({media_type:No.literal(Mo.HTMLContent),content:No.array(No.string({invalid_type_error:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"string";return"'".concat(e,"' field of type '").concat(t,"' must be a ").concat(n)}("content",Mo.HTMLContent)}),{required_error:(Lo="content",Po=Mo.HTMLContent,"".concat(Lo," field of type '").concat(Po,"' is required"))}).nonempty({message:Io("content",Mo.HTMLContent)})}),qo=No.object({media_type:No.literal(Mo.Media),media:No.object({media_type:No.enum(["image","audio","video","file"]),url:No.string(),ignore_valid:No.boolean().optional(),provider:No.literal("twilio").optional(),getContentTemporaryUrl:No.function().returns(No.promise(No.string())).optional()})}),Wo=No.object({media_type:No.literal(Mo.Carousel),carousel:No.object({elements:No.array(No.object({title:No.string(),text:No.string().optional(),image_url:No.string().optional(),buttons:No.array(Ro).nonempty({message:Io("carousel.elements.buttons",Mo.Carousel)})})).nonempty({message:Io("carousel.elements",Mo.Carousel)})})}),Yo=No.object({media_type:No.literal(Mo.QuickReplies),text_response:No.string().optional(),quick_actions:No.object({elements:No.array(Ro).nonempty({message:Io("quick_actions.elements",Mo.QuickReplies)})})}),Go=No.object({media_type:No.literal(Mo.Buttons),text_response:No.string().optional(),quick_actions:No.object({elements:No.array(Ro).nonempty({message:Io("quick_actions.elements",Mo.Buttons)})})}),$o=No.object({media_type:No.literal(Mo.MultiContent),content:No.array(No.union([Vo,qo,Wo,Yo,Go,Ho])).nonempty({message:Io("content",Mo.MultiContent)})}),Ko=No.object({alt_text:No.string(),responses:No.array(No.string()),payloads:No.array(Zo)}),Jo=No.object({alt_text:No.string(),responses:No.array(No.string()),payloads:No.array(No.never().or(Uo))}),Qo=No.object({alt_text:No.string(),responses:No.array(No.string()),payloads:No.array(Vo)}),Xo=No.object({alt_text:No.string(),responses:No.array(No.string()),payloads:No.array(qo)}),es=No.object({alt_text:No.string(),responses:No.array(No.string()),payloads:No.array(Ho)}),ts=No.object({alt_text:No.string(),responses:No.array(No.string()),payloads:No.array(Wo)}),ns=No.object({alt_text:No.string(),responses:No.array(No.string()),payloads:No.array(Yo)}),rs=No.object({alt_text:No.string(),responses:No.array(No.string()),payloads:No.array(Go)}),us=No.object({alt_text:No.string(),responses:No.array(No.string()),payloads:No.array($o)});function as(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{var t=h(e.split("/"),2);return{prefix:t[0],suffix:t[1]}}catch($l){return{prefix:"",suffix:""}}}var is=["audio/mpeg","audio/mp3","image/jpeg","image/png","video/mp4","video/quicktime","application/pdf"],os=is.join(",");function ss(e){return e.map((function(e){return{type:"text",text:e}}))}function cs(e){return e.map((function(e){var t,n=e.type,r=e.payload,u=e.display_text,a=e.phone_number,i=e.url;switch(n){case"payload":return{type:"reply",payload:null!=r?r:"",text:u};case"call":return{type:"call",payload:"tel:".concat(null!=r?r:a),text:u};case"link":return{type:"link",payload:null!==(t=null!=r?r:i)&&void 0!==t?t:"",text:u,target:"_blank"};default:console.error("Invalid button type: ",n)}})).filter(Boolean)}function ls(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return 0===e.length?{lastMessage:t,previousMessages:[]}:1===e.length?{lastMessage:e[0],previousMessages:[]}:{lastMessage:e[e.length-1],previousMessages:e.slice(0,-1)}}var ds=Ot.getSubLogger({name:"receiver"});function fs(e,t){var n=e.author,r=void 0===n?"":n,u=e.sid,a=e.index,i=function(e){var t,n=e.type,r=e.body,u="media"===n,a=r?[r]:[],i={media_type:"text"},o=e.attachedMedia;if(u&&o){var s=o[0],c=as(s.contentType).prefix,l=function(){return s.getContentTemporaryUrl()};i={media_type:"media",media:{media_type:["video","image","audio"].indexOf(c)>-1?c:"file",ignore_valid:!0,provider:"twilio",getContentTemporaryUrl:l}}}var d,f=e.attributes;if(null!=f&&f.is_virtual_agent&&r)try{var p=function(e){var t=Da(e,10),n=Jo.safeParse(t);if(n.success)return n.data;var r=Ko.safeParse(t);if(!r.success)throw r.error;var u=r.data.payloads[0].media_type;switch(u){case Mo.Text:return Jo.parse(t);case Mo.CustomText:return Qo.parse(t);case Mo.HTMLContent:return es.parse(t);case Mo.Media:return Xo.parse(t);case Mo.Carousel:return ts.parse(t);case Mo.QuickReplies:return ns.parse(t);case Mo.Buttons:return rs.parse(t);case Mo.MultiContent:return us.parse(t);default:throw new Error("Unsupported type: "+u)}}(JSON.parse(r));a=p.responses,i=p.payloads[0]||i}catch(h){ds.warn("Failed to parse virtual agent message=".concat("string"==typeof h?h:null==h?void 0:h.message),h);var v=function(e){var t;return e instanceof Ea?(e.issues.forEach((function(e){Ot.error("".concat(e.message,": ").concat(e.path.map((function(e){return"number"==typeof e?"[".concat(e,"]"):e})).join(".")))})),t=e.issues.map((function(e){return e.message})).join("\n")):e instanceof Error?(t=e.message,Ot.error(e)):t="Unknown error",t}(h);return{responses:[],payload:{media_type:"error",error_message:v}}}return"digital_interaction_assigned"===(null==f||null===(t=f.action)||void 0===t?void 0:t.name)?{responses:[],payload:{media_type:"system",action_type:"assign",smart_text:{key:"assignMessage",options:{name:null===(d=f.action.metadata)||void 0===d?void 0:d.cur_display_name}}}}:{responses:a,payload:i}}(e),o=i.responses,s=i.payload,c=r===t?"sent":"received",l=new Date(e.dateCreated||Date.now()).getTime(),d=l?Cr(l):"",f=Gu(e),p=Yu(e),v=Ku(p),h=Xu(e);return{index:a,sid:u,tid:"",rid:f,status:"success",alignment:c,timestamp:l,formattedTime:d,items:ps(o,s),role:p,avatar:v,participantName:h}}function ps(e,t){var n=[];switch(t.media_type){case"text":default:n=ss(e);break;case"customtext":n=function(e){return[{type:"text",text:e.text_response}]}(t);break;case"htmlcontent":n=function(e){return e.content.map((function(e){return{type:"rich_text",html:e}}))}(t);break;case"carousel":n=function(e,t){var n=t.carousel.elements.slice(0,ve.CAROUSEL_CARDS).map((function(e){return{title:e.title,description:e.text,imageUrl:e.image_url,buttons:cs(e.buttons.slice(0,ve.CAROUSEL_BUTTONS))}}));return[].concat(x(ss(e.filter((function(e){return""!==e})))),[{type:"carousel",cards:n}])}(e,t);break;case"media":n=function(e,t){var n=t.media,r=n.media_type,u=n.url,a=n.ignore_valid,i=n.provider,o=n.getContentTemporaryUrl;return[].concat(x(ss(e.filter((function(e){return""!==e})))),[{type:r,url:u,ignoreValid:a,provider:i,getContentTemporaryUrl:o,smart_text:{key:"download"}}])}(e,t);break;case"buttons":n=function(e,t){var n=t.quick_actions,r=t.text_response,u=ls(r?[r]:e,""),a=u.lastMessage,i=u.previousMessages;return[].concat(x(ss(i)),[{type:"buttons",text:a,buttons:cs(n.elements.slice(0,ve.BUTTONS))}])}(e,t);break;case"quickreplies":n=function(e,t){var n=t.quick_actions,r=t.text_response,u=ls(r?[r]:e,d.t("yourOptions")),a=u.lastMessage,i=u.previousMessages;return[].concat(x(ss(i)),[{type:"quick_replies",text:a,replies:cs(n.elements.slice(0,ve.BUTTONS))}])}(e,t);break;case"system":n=function(e){return[{type:"system",action_type:e.action_type,smart_text:e.smart_text}]}(t);break;case"multicontent":n=t.content.map((function(e){return ps([],e)})).flat();break;case"error":n=[{type:t.media_type,error_message:t.error_message}]}return n}var vs="close_conversation_by_participant";function hs(e,t){return Se(_(m().mark((function t(){var n,r,u,a;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wr.getState().getCredentials(e);case 2:if(null==(n=t.sent)||!n.error){t.next=5;break}return t.abrupt("return",Promise.reject(new Error("Failed to fetch TwilioCredentials reason=".concat(n.error," payload=").concat(xe(e)))));case 5:if(null!=n&&n.data){t.next=7;break}return t.abrupt("return",Promise.reject(new Error("Failed to fetch TwilioCredentials reason=response empty payload=".concat(xe(e)))));case 7:if(e.bootstrap_type!==ie.getAccessToken){t.next=9;break}return t.abrupt("return",{accessToken:(null===(r=n.data)||void 0===r?void 0:r.accessToken)||"",region:(null===(u=n.data)||void 0===u?void 0:u.region)||""});case 9:if(e.bootstrap_type!==ie.getConversationAndParticipant){t.next=11;break}return t.abrupt("return",{roomId:(null===(a=n.data)||void 0===a?void 0:a.roomId)||""});case 11:return t.abrupt("return",n.data);case 12:case"end":return t.stop()}}),t)}))),{defaultRetry:t})}function ms(e){return!e||Date.now()-e>=ae}function gs(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=null===(e=Mr.getState().config)||void 0===e?void 0:e.appProps,r=Object.values(_e).indexOf(t||"")>-1?t:_e.US1,u={region:r};if(null!=n&&n.proxyHost){var a="https:"===location.protocol?"wss":"ws";u.Twilsock={uri:"".concat(a,"://").concat(n.proxyHost).concat(r===_e.US1?De.twilioUs1:De.twilioIe1)}}return u}function _s(e,t,n){return Ds.apply(this,arguments)}function Ds(){return Ds=_(m().mark((function e(t,n,r){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Se(_(m().mark((function e(){var r,u;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pe(_(m().mark((function e(){var t,n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.import("./browser-legacy-DDIPNzmE.js").then((function(e){return e.b}));case 2:return t=e.sent,n=t.Client,e.abrupt("return",{Client:n});case 5:case"end":return e.stop()}}),e)}))),void 0,l.meta.url);case 3:return r=e.sent,u=r.Client,e.abrupt("return",new Promise((function(e,r){var a=new u(t,n);a.once("initFailed",(function(e){var t;a.removeAllListeners(),a.shutdown(),r(new Error("Failed to create twilio client reason=".concat((null==e||null===(t=e.error)||void 0===t?void 0:t.message)||"unknown error")))})),a.once("stateChanged",(function(t){"initialized"===t&&e(a)}))})));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject("Failed to create twilio client reason=".concat(Ee(e.t0))));case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),{defaultRetry:r}));case 1:case"end":return e.stop()}}),e)}))),Ds.apply(this,arguments)}function bs(e){return ys.apply(this,arguments)}function ys(){return(ys=_(m().mark((function e(t){var n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Gr.getState().createIdentity(),e.next=3,hs({identity:n,bootstrap_type:ie.getAccessToken},t);case 3:if((r=e.sent).accessToken){e.next=6;break}return e.abrupt("return",Promise.reject(new Error("Failed to fetch twilio access token reason=access token empty")));case 6:return Gr.getState().setCredentials({region:r.region,accessToken:r.accessToken,createAccessTokenAt:Date.now()}),e.abrupt("return",Gr.getState().credentials);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cs(e){return Es.apply(this,arguments)}function Es(){return Es=_(m().mark((function e(t){var n,r,u,a,i,o,s,c,l,d,f,p,v;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Gr.getState().credentials,u=r.roomId,a=r.accessToken,i=r.createAccessTokenAt,o=!1,!u){e.next=4;break}return e.abrupt("return",Gr.getState().credentials);case 4:return e.next=6,wr.getState().conversationStart();case 6:return e.next=8,wr.getState().getAllConfig();case 8:return s=e.sent,c=null==s||null===(n=s.data)||void 0===n?void 0:n.context,l=E(E({},c),Gr.getState().formData),d=Gr.getState().createIdentity(),f={identity:d,custom_fields:l},o=ms(i),a&&!o&&(f.bootstrap_type=ie.getConversationAndParticipant),e.next=17,hs(f,t);case 17:if(null!=(p=e.sent)&&p.roomId){e.next=20;break}return e.abrupt("return",Promise.reject(new Error("Failed to fetch twilio room id reason=no found roomId")));case 20:if(a||null!=p&&p.accessToken){e.next=22;break}return e.abrupt("return",Promise.reject(new Error("Failed to fetch twilio room id reason=no found accessToken")));case 22:return a?Gr.getState().setCredentials(o?{roomId:p.roomId,accessToken:p.accessToken,createAccessTokenAt:Date.now()}:{roomId:p.roomId}):Gr.getState().setCredentials(p),v=Gr.getState().credentials,Ur.getState().emit(le.conversationCreated,{identity:Gr.getState().identity,credentials:v}),e.abrupt("return",v);case 26:case"end":return e.stop()}}),e)}))),Es.apply(this,arguments)}function As(e){var t,n=e.attributes;if(null==n||!n.isReachabilityMessage){if("digital_interaction_assigned"===(null==n||null===(t=n.action)||void 0===t?void 0:t.name))if(Qu(e),ia(e))return;if(null!=n&&n.tid&&""!==(null==n?void 0:n.tid)){var r=Js.getState().update(n.tid,function(e){var t=e.sid;return{index:e.index,sid:t,rid:Gu(e),role:Yu(e),participantName:Xu(e),status:"success"}}(e));if(r)return}return fs(e,Gr.getState().identity)}}function Fs(e){return xs.apply(this,arguments)}function xs(){return xs=_(m().mark((function e(t){var n,r,u,a=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]?a[1]:100,e.prev=1,t){e.next=4;break}return e.abrupt("return",Promise.reject(new Error("Failed to fetch all twilio messages reason=no found conversation")));case 4:return e.next=6,t.getMessages(n);case 6:if(null==(r=e.sent)||!r.items){e.next=11;break}return u=r.items.map((function(e){return As(e)})).filter(Boolean),Js.getState().set(u),e.abrupt("return",u);case 11:return e.abrupt("return",Promise.reject(new Error("Failed to fetch all twilio messages sid=".concat(t.sid," reason=empty response"))));case 14:return e.prev=14,e.t0=e.catch(1),e.abrupt("return",Promise.reject(new Error("Failed to fetch all twilio messages sid=".concat(null==t?void 0:t.sid," reason=").concat(Ee(e.t0)))));case 17:case"end":return e.stop()}}),e,null,[[1,14]])}))),xs.apply(this,arguments)}function ws(e){return ks.apply(this,arguments)}function ks(){return ks=_(m().mark((function e(t){var n,r,u;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Gr.getState().identity,e.prev=1,e.next=4,t.getParticipants();case 4:if(r=e.sent,u=r.find((function(e){return e.identity===n})),!u){e.next=8;break}return e.abrupt("return",u);case 8:return e.abrupt("return",Promise.reject(new Error("Failed to fetch contact person for twilio conversation participant sid=".concat(t.sid," identity=").concat(n," reason=contact person no found"))));case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",Promise.reject(new Error("Failed to fetch contact person for conversation participant sid=".concat(t.sid," identity=").concat(n," reason=").concat(Ee(e.t0)))));case 14:case"end":return e.stop()}}),e,null,[[1,11]])}))),ks.apply(this,arguments)}function Bs(e){return e&&(null!==(t=e)&&!Array.isArray(t)&&"object"===v(t)&&t.constructor===Object)?e:null;var t}function js(e){var t=Bs(null==e?void 0:e.attributes),n=(null==t?void 0:t.original_interaction_id)||"",r=(null==t?void 0:t.interaction_stage)||"",u=(null==t?void 0:t.feedback_link)||"",a=!1;return t?(u=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=null===(e=Mr.getState().config)||void 0===e||null===(e=e.appProps)||void 0===e?void 0:e.proxyHost,u=null===(t=Mr.getState().config)||void 0===t||null===(t=t.appConfig)||void 0===t?void 0:t.languageCode,a=Gr.getState().layoutDirection,i="https:"===location.protocol,o=Rr(),s=n;if(s){var c=["ui_version=2","layout_direction=".concat(a),u?"lang=".concat(u):"",o?"touchpoint_id=".concat(o):""];r&&[["https://api.talkdeskstg.com","".concat(r).concat(De.tdGatewayUs)],["undefined","".concat(r).concat(De.tdGatewayEu)],["undefined","".concat(r).concat(De.tdGatewayCa)],["undefined","".concat(r).concat(De.tdGatewayUsFed)]].forEach((function(e){var t=h(e,2),n=t[0],r=t[1];if(s.indexOf(n)>-1){var u="".concat(i?"https":"http","://").concat(r);s=s.replace(n,u),c.push("proxy_host=".concat(encodeURIComponent(u)))}})),s=s.indexOf("?")>-1?"".concat(s,"&").concat(c.filter(Boolean).join("&")):"".concat(s,"?").concat(c.filter(Boolean).join("&"))}return s}(u),!r&&u&&(a=!0),"END"===r&&u&&(a=!0),{interactionId:n,feedbackLink:u,interactionStage:r,shouldLoadFeedback:a}):{interactionId:n,feedbackLink:u,interactionStage:r,shouldLoadFeedback:a}}function Ss(e){var t=e.instance,n=e.selfClosed,r=e.shouldLoadFeedback;return Boolean(!function(e){var t;return"active"===(null===(t=e.state)||void 0===t?void 0:t.current)}(t)||n||r)}function Ts(e){return Se(_(m().mark((function t(){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.updateAttributes(Object.assign(Bs(null==e?void 0:e.attributes)||{},{bootstrapped:!0}));case 3:return t.abrupt("return",!0);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",Promise.reject(new Error("Failed to trigger flow for twilio participant sid=".concat(e.sid," reason=").concat(Ee(t.t0)))));case 9:case"end":return t.stop()}}),t,null,[[0,6]])}))),{defaultRetry:3})}function Os(e){return Ns.apply(this,arguments)}function Ns(){return Ns=_(m().mark((function e(t){var n,r,u,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ws(t);case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return",Promise.reject(new Error("Failed to fetch contact person participant reason=no found")));case 5:return e.next=7,n.getUser();case 7:if(r=e.sent){e.next=10;break}return e.abrupt("return",Promise.reject(new Error("Failed to fetch contact person user reason=no found")));case 10:return u=Bs(null==n?void 0:n.attributes)||{},a=Bs(null==r?void 0:r.attributes)||{},e.next=14,Promise.all([n.updateAttributes(E(E({},u),{},{update_reasons:vs})),r.updateAttributes(E(E({},a),{},{update_reasons:vs}))]);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e)}))),Ns.apply(this,arguments)}function Is(e,t){var n;Js.getState().update(t,{status:"failure",resend:(n=_(m().mark((function n(){return m().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!Gr.getState().isNot("conversation")){n.next=2;break}return n.abrupt("return");case 2:return Js.getState().remove(t),n.next=5,Gs.sendMessage(e);case 5:case"end":return n.stop()}}),n)}))),function(){return n.apply(this,arguments)})})}function Ls(e){return Ps.apply(this,arguments)}function Ps(){return(Ps=_(m().mark((function e(t){var n,r,u,a,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=Date.now(),u=Date.now(),!t.shouldFetchAccessToken){e.next=8;break}return e.next=6,bs(0);case 6:r=Date.now()-r,Ur.getState().emit(le.preloadClient,{identity:Gr.getState().identity,credentials:Gr.getState().credentials});case 8:return e.next=10,_s(Gr.getState().credentials.accessToken,gs(Gr.getState().credentials.region),0);case 10:return a=e.sent,u=Date.now()-u,null==t||null===(n=t.onResolve)||void 0===n||n.call(t,{fetchAccessTokenDuration:r,connectClientDuration:u}),e.abrupt("return",{client:a});case 16:return e.prev=16,e.t0=e.catch(0),null==t||null===(i=t.onReject)||void 0===i||i.call(t,e.t0),e.abrupt("return",{error:e.t0});case 20:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function Ms(e,t){return Rs.apply(this,arguments)}function Rs(){return(Rs=_(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.peekConversationBySid(n);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",Promise.reject(new Error("Failed to fetch twilio conversation sid=".concat(n," reason=").concat(Ee(e.t0)))));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}var zs=Ot.getSubLogger({name:"TwilioClient"}),Zs=function(){return y((function e(t){D(this,e),A(this,"_retryConfiguration",{fetchProviderRoomId:2,createProviderClient:3,connectProviderClient:0}),A(this,"_preloadClientPromise",null),A(this,"_providerClient",null),A(this,"_bindEventsHandlers",null),A(this,"_preloadClientData",null),this.parent=t}),[{key:"handleOnStateChanged",value:function(e){zs.info("client changed state=".concat(e," conversationEnded=").concat(this.parent.conversation.isEnd)),this.parent.conversation.isEnd||("connected"===e?(this.parent.status="activated",Gr.getState().emit("reconnect"),Fs(this.parent.conversation.current).catch((function(e){return zs.warn("Failed to fetch messages after reconnect error=".concat(Ee(e)))}))):(this.parent.status="deactivated",Gr.getState().emit("disconnect")))}},{key:"handleOnTokenExpired",value:function(){zs.warn("client token expired"),Gr.getState().isNot(ce.Error)&&(Gr.getState().go(ce.Error),this.parent.destroy())}},{key:"listenerEvents",value:function(){var e=this;if(this._providerClient&&!this._bindEventsHandlers){var t=this.handleOnStateChanged.bind(this),n=this.handleOnTokenExpired.bind(this);this._bindEventsHandlers=function(){var r,u;null===(r=e._providerClient)||void 0===r||r.off("connectionStateChanged",t),null===(u=e._providerClient)||void 0===u||u.off("tokenExpired",n)},this._providerClient.on("connectionStateChanged",t),this._providerClient.on("tokenExpired",n)}}},{key:"preload",value:(t=_(m().mark((function e(t){var n,r=this;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Gr.getState().credentials.roomId){e.next=2;break}return e.abrupt("return");case 2:if(!this._preloadClientPromise||"tabEvent"!==t){e.next=11;break}return e.next=5,this._preloadClientPromise;case 5:if(null==(n=e.sent)||!n.client){e.next=11;break}return e.next=9,n.client.updateToken(Gr.getState().credentials.accessToken);case 9:return zs.debug("Success update twilio token for preload client scene=".concat(t)),e.abrupt("return");case 11:return this._preloadClientPromise||(this._preloadClientPromise=Ls({shouldFetchAccessToken:"tabEvent"!==t,onResolve:function(e){r._preloadClientData=e}})),e.next=14,this._preloadClientPromise;case 14:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"bootstrap",value:(e=_(m().mark((function e(t,n){var r,u,a,i,o,s,c,l,d,f;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=zs.startChildSpan("Bootstrap",n),e.prev=1,!this._preloadClientPromise){e.next=8;break}return e.next=5,this._preloadClientPromise;case 5:null!=(i=e.sent)&&i.client&&(this._providerClient=i.client),null==r||r.setAttributes({preloadFetchAccessTokenDuration:(null===(u=this._preloadClientData)||void 0===u?void 0:u.fetchAccessTokenDuration)||0,preloadConnectClientDuration:(null===(a=this._preloadClientData)||void 0===a?void 0:a.connectClientDuration)||0,preloadProviderConnectClientError:Ee(null==i?void 0:i.error)});case 8:return o=Date.now(),e.next=11,Cs(this._retryConfiguration.fetchProviderRoomId);case 11:if(s=e.sent,c=s.accessToken,l=s.region,null==r||r.setAttributes({fetchTwilioRoomIdDuration:Date.now()-o}),this._providerClient){e.next=24;break}return d=Date.now(),f="pageLoaded"===t?this._retryConfiguration.connectProviderClient:this._retryConfiguration.createProviderClient,e.next=20,_s(c,gs(l),f);case 20:this._providerClient=e.sent,null==r||r.setAttributes({connectProviderClientDuration:Date.now()-d}),e.next=27;break;case 24:return e.next=26,this._providerClient.updateToken(c);case 26:zs.debug("Success update twilio client token for connect client");case 27:return this.listenerEvents(),null==r||r.setStatus({code:1}),null==r||r.end(),e.abrupt("return",this._providerClient);case 33:throw e.prev=33,e.t0=e.catch(1),null==r||r.recordException(e.t0),null==r||r.setStatus({code:2,message:Ee(e.t0)}),null==r||r.end(),e.t0;case 39:case"end":return e.stop()}}),e,this,[[1,33]])}))),function(t,n){return e.apply(this,arguments)})},{key:"destroy",value:function(){var e,t,n;null===(e=this._bindEventsHandlers)||void 0===e||e.call(this),this._bindEventsHandlers=null,null===(t=this._providerClient)||void 0===t||t.removeAllListeners(),null===(n=this._providerClient)||void 0===n||n.shutdown(),this._providerClient=null,this._preloadClientPromise=null,this._preloadClientData=null}},{key:"current",get:function(){return this._providerClient}}]);var e,t}(),Us=Ot.getSubLogger({name:"TwilioConversation"}),Vs=function(){return y((function e(t){D(this,e),A(this,"_providerConversation",null),A(this,"_contactPersonParticipant",null),A(this,"_bindEventsHandlers",null),A(this,"_isEnd",!1),this.parent=t}),[{key:"handleOnUpdated",value:function(e){var t=e.conversation,n=e.updateReasons,r=js(t),u=r.interactionId,a=r.feedbackLink,i=r.shouldLoadFeedback,o={};!Gr.getState().interactionId&&u&&(o.interactionId=u),!Gr.getState().shouldLoadFeedback&&i&&(o.shouldLoadFeedback=i),!Gr.getState().feedbackLink&&a&&(o.feedbackLink=a),Object.keys(o).length>0&&Gr.setState(o),i&&Gr.getState().isNot(ce.End)&&Gr.getState().go(ce.End),Us.info("Received updated sid=".concat(t.sid," updateReasons=").concat(xe(n)," attrs=").concat(xe(null==t?void 0:t.attributes)," updatedAppState=").concat(xe(o)))}},{key:"handleOnMessageAdded",value:function(e){var t,n,r;Us.info("Received message added. sid=".concat(null===(t=this._providerConversation)||void 0===t?void 0:t.sid," m_sid=").concat(e.sid," p_sid=").concat(e.participantSid," index=").concat(e.index," type=").concat(e.type," author=").concat(e.author," attr=").concat(xe(Bs(null==e?void 0:e.attributes)?Zn(Bs(null==e?void 0:e.attributes),["raw_message","rawMessage","attachments"]):"")," create_at=").concat(null===(n=e.dateCreated)||void 0===n?void 0:n.toISOString()," update_at=").concat(null===(r=e.dateUpdated)||void 0===r?void 0:r.toISOString()));var u=As(e);if(u){Js.getState().add(u);var a,i,o,s,c=u.alignment;if(c)if(Gr.getState().hiddenScreenLoading(),null!==(a=this.parent)&&void 0!==a&&a.receivedFirstMessageSpan)this.parent.receivedFirstMessageSpan.setAttributes({roomId:null===(i=this._providerConversation)||void 0===i?void 0:i.sid,m_sid:null==e?void 0:e.sid,p_sid:(null==e?void 0:e.participantSid)||"",index:null==e?void 0:e.index,type:null==e?void 0:e.type,author:(null==e?void 0:e.author)||"",attributes:xe(null==e?void 0:e.attributes),create_at:null===(o=e.dateCreated)||void 0===o?void 0:o.toISOString(),update_at:null===(s=e.dateUpdated)||void 0===s?void 0:s.toISOString()}),this.parent.receivedFirstMessageSpan.setStatus({code:1}),this.parent.receivedFirstMessageSpan.end(),this.parent.receivedFirstMessageSpan=null;c&&!na(u.tid)&&Js.getState().hideTypingMessage()}}},{key:"handleOnTypingStarted",value:function(e){var t;Pr(Mr.getState()).showTypingIndicatorButton&&this._contactPersonParticipant&&(e.sid!==this._contactPersonParticipant.sid&&Js.getState().add(ra({role:"agent",agentName:null==e||null===(t=e.attributes)||void 0===t?void 0:t.participant_display_name})))}},{key:"handleOnTypingEnded",value:function(e){this._contactPersonParticipant&&e.sid!==this._contactPersonParticipant.sid&&Js.getState().hideTypingMessage()}},{key:"handleOnRemoved",value:function(e){Us.info("Received conversation removed sid=".concat(e.sid)),Gr.getState().isNot(ce.End)&&Gr.getState().go(ce.End)}},{key:"listenerEvents",value:function(){var e=this;if(this._providerConversation&&!this._bindEventsHandlers){var t=this.handleOnUpdated.bind(this),n=this.handleOnMessageAdded.bind(this),r=this.handleOnTypingStarted.bind(this),u=this.handleOnTypingEnded.bind(this),a=this.handleOnRemoved.bind(this);this._bindEventsHandlers=function(){var i,o,s,c,l;null===(i=e._providerConversation)||void 0===i||i.off("updated",t),null===(o=e._providerConversation)||void 0===o||o.off("messageAdded",n),null===(s=e._providerConversation)||void 0===s||s.off("typingStarted",r),null===(c=e._providerConversation)||void 0===c||c.off("typingEnded",u),null===(l=e._providerConversation)||void 0===l||l.off("removed",a)},this._providerConversation.on("updated",t),this._providerConversation.on("messageAdded",n),this._providerConversation.on("typingStarted",r),this._providerConversation.on("typingEnded",u),this._providerConversation.on("removed",a)}}},{key:"bootstrap",value:(n=_(m().mark((function e(t,n){var r,u,a,i,o,s,c,l,d,f,p,v,h,g,_,D;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.parent.client.current,u=Gr.getState().credentials.roomId,a=["pageLoaded","sendMessage","submitInitialScreen"].indexOf(t)>-1,r&&u){e.next=5;break}throw new Error("No found twilio client or conversation sid");case 5:return i=Us.startChildSpan("Bootstrap",n),e.prev=6,o=Date.now(),e.next=10,Ms(r,u);case 10:return this._providerConversation=e.sent,this.listenerEvents(),null==i||i.setAttributes({fetchTwilioConversationDuration:Date.now()-o}),s=Date.now(),e.next=16,ws(this._providerConversation);case 16:if(this._contactPersonParticipant=e.sent,null==i||i.setAttributes({fetchContactPersonTwilioParticipantDuration:Date.now()-s}),c=js(this._providerConversation),l=c.interactionId,d=c.feedbackLink,f=c.shouldLoadFeedback,m=this._contactPersonParticipant,b=void 0,b=Bs(null==m?void 0:m.attributes),p=b?{selfClosed:(null==b?void 0:b.update_reasons)===vs,bootstrapped:!(null==b||!b.bootstrapped)}:{selfClosed:!1,bootstrapped:!1},v=p.selfClosed,h=p.bootstrapped,Gr.setState({interactionId:l,feedbackLink:d,shouldLoadFeedback:f}),this._isEnd=Ss({instance:this._providerConversation,selfClosed:v,shouldLoadFeedback:f}),this._isEnd||h||!a){e.next=28;break}return g=Date.now(),e.next=26,Ts(this._contactPersonParticipant);case 26:null==i||i.setAttributes({updateContactPersonParticipantDuration:Date.now()-g}),Us.debug("Success trigger flow for update contact person attr");case 28:return _=this._isEnd?ce.End:ce.Conversation,D=Date.now(),e.next=32,Fs(this._providerConversation);case 32:return null==i||i.setAttributes({fetchTwilioAllMessagesDuration:Date.now()-D}),Gr.getState().isNot(_)&&Gr.getState().go(_),null==i||i.setStatus({code:1}),null==i||i.end(),e.abrupt("return",!0);case 39:throw e.prev=39,e.t0=e.catch(6),null==i||i.recordException(e.t0),null==i||i.setStatus({code:2,message:Ee(e.t0)}),null==i||i.end(),e.t0;case 45:case"end":return e.stop()}var m,b}),e,this,[[6,39]])}))),function(e,t){return n.apply(this,arguments)})},{key:"typing",value:function(){return this._providerConversation?this._providerConversation.typing():Promise.resolve()}},{key:"end",value:(t=_(m().mark((function e(){var t,n,r,u;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Us.startSpan("End"),this._providerConversation){e.next=8;break}return n="Failed to end conversation no found conversation",null==t||t.recordException(new Error(n)),null==t||t.setStatus({code:2,message:n}),null==t||t.end(),Us.debug(n),e.abrupt("return",!1);case 8:return e.prev=8,e.next=11,Os(this._providerConversation);case 11:if(this._isEnd=!0,Ur.getState().emit(le.conversationEnded),Gr.getState().enableLoadFeedback(),null==t||t.setStatus({code:1}),null==t||t.end(),null===(r=Mr.getState().config)||void 0===r||!r.feedbackFlowId){e.next=19;break}return e.next=19,Be(1500);case 19:return e.abrupt("return",!0);case 22:return e.prev=22,e.t0=e.catch(8),u="Failed to end conversation sid=".concat(this._providerConversation.sid," error=").concat(Ee(e.t0)),null==t||t.recordException(e.t0),null==t||t.setStatus({code:2,message:u}),null==t||t.end(),Us.debug(u),e.abrupt("return",!1);case 30:case"end":return e.stop()}}),e,this,[[8,22]])}))),function(){return t.apply(this,arguments)})},{key:"send",value:(e=_(m().mark((function e(t,n){var r,u,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._providerConversation){e.next=2;break}return e.abrupt("return",Promise.reject(new Error("No found conversation")));case 2:return r=t.payload,u=t.data,a=r?{tid:n,payload:r,payload_type:"payload"}:{tid:n},e.next=6,this._providerConversation.sendMessage(u,a);case 6:case"end":return e.stop()}}),e,this)}))),function(t,n){return e.apply(this,arguments)})},{key:"destroy",value:function(){var e,t;null===(e=this._bindEventsHandlers)||void 0===e||e.call(this),this._bindEventsHandlers=null,null===(t=this._providerConversation)||void 0===t||t.removeAllListeners(),this._providerConversation=null,this._contactPersonParticipant=null,this._isEnd=!1}},{key:"current",get:function(){return this._providerConversation}},{key:"isEnd",get:function(){return this._isEnd}}]);var e,t,n}(),Hs=Ot.getSubLogger({name:"TwilioConnection"}),qs=function(){return y((function e(){D(this,e),A(this,"_client",void 0),A(this,"_conversation",void 0),A(this,"_status","deactivated"),A(this,"_bootstrapPromise",null),A(this,"_receivedFirstMessageSpan",null),this._client=new Zs(this),this._conversation=new Vs(this)}),[{key:"handlerOnBootstrapError",value:function(e,t){var n=Ee(e),r="Failed to bootstrap twilio connection sid=".concat(Gr.getState().credentials.roomId," error=").concat(n);Gr.getState().hiddenScreenLoading(),null==t||t.recordException(e),null==t||t.setStatus({code:2,message:r}),null==t||t.end(),Hs.debug(r);var u=/Twilsock: request timeout/gi.test(n);return Gr.getState().is(Gr.getState().getInitialPage())&&u||Gr.getState().isNot(ce.Error)&&(Gr.getState().go(ce.Error),Ur.getState().emit(le.conversationEndedByError)),!1}},{key:"linkReceivedFirstMessageSpanToBootstrap",value:function(e,t){if(["sendMessage","submitInitialScreen"].indexOf(e)>-1){var n;this.receivedFirstMessageSpan=Hs.startSpan("Received first message for ".concat(e));var r,u=null==t?void 0:t.spanContext(),a=null===(n=this.receivedFirstMessageSpan)||void 0===n?void 0:n.spanContext();if(u)null===(r=this.receivedFirstMessageSpan)||void 0===r||r.addLink({context:u});a&&(null==t||t.addLink({context:a}))}}},{key:"bootstrap",value:(r=_(m().mark((function e(t){var n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Hs.startSpan("Bootstrap for ".concat(t)),this.linkReceivedFirstMessageSpanToBootstrap(t,n),e.prev=2,e.next=5,this._client.bootstrap(t,n);case 5:return e.next=7,this._conversation.bootstrap(t,n);case 7:return Gr.setState({hasInitialized:!0}),this.status="activated",null==n||n.setAttributes({roomId:null===(r=this._conversation.current)||void 0===r?void 0:r.sid}),null==n||n.setStatus({code:1}),null==n||n.end(),Be(1e3).then((function(){return Gr.getState().emit(se.need_scroll_to_bottom)})),e.abrupt("return",!0);case 16:return e.prev=16,e.t0=e.catch(2),e.abrupt("return",this.handlerOnBootstrapError(e.t0,n));case 19:case"end":return e.stop()}}),e,this,[[2,16]])}))),function(e){return r.apply(this,arguments)})},{key:"preloadClient",value:function(e){return this._client.preload(e)}},{key:"init",value:(n=_(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Gr.getState().credentials.roomId||"pageLoaded"!==t){e.next=5;break}return n=Gr.getState().getInitialPage(),Gr.getState().isNot(n)&&Gr.getState().go(n),e.abrupt("return",!1);case 5:return this._bootstrapPromise||(this._bootstrapPromise=this.bootstrap(t)),e.next=8,this._bootstrapPromise;case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"send",value:(t=_(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this._bootstrapPromise){e.next=5;break}return Hs.debug("Failed to send message error=no start connection bootstrap"),Is(t,n),e.abrupt("return",!1);case 5:return e.next=7,this._bootstrapPromise;case 7:if(e.sent){e.next=12;break}return Hs.debug("Failed to send message error=connection bootstrap failed"),Is(t,n),e.abrupt("return",!1);case 12:return e.next=14,this._conversation.send(t,n);case 14:return Js.getState().showTypingMessage(),Gr.getState().emit("send_success"),e.abrupt("return",!0);case 19:return e.prev=19,e.t0=e.catch(0),Hs.warn("Failed to send message error=".concat(Ee(e.t0))),Gr.getState().emit("send_failure",e.t0),Is(t,n),e.abrupt("return",!1);case 25:case"end":return e.stop()}}),e,this,[[0,19]])}))),function(e,n){return t.apply(this,arguments)})},{key:"typing",value:function(){return this._conversation.typing()}},{key:"end",value:(e=_(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._conversation.end());case 1:case"end":return e.stop()}}),e,this)}))),function(){return e.apply(this,arguments)})},{key:"destroy",value:function(){this._conversation.destroy(),this._client.destroy(),this._bootstrapPromise=null,this._status="deactivated",this.receivedFirstMessageSpan=null,Js.getState().clear(),Gr.getState().reset(["hasInitialized","credentials","identity","shouldLoadFeedback","feedbackLink","feedbackStatus","formData","interactionId","chatContentScroll","initialScreenScroll"])}},{key:"status",get:function(){return this._status},set:function(e){this._status!==e&&(this._status=e)}},{key:"client",get:function(){return this._client}},{key:"conversation",get:function(){return this._conversation}},{key:"receivedFirstMessageSpan",get:function(){return this._receivedFirstMessageSpan},set:function(e){this._receivedFirstMessageSpan=e}}]);var e,t,n,r}(),Ws=new qs,Ys=function(){return y((function e(){D(this,e),A(this,"_current",null),A(this,"_providerImps",A({},oe,Ws)),this._current=oe,this.listenerPageEvents(),this.listenerTabEvents()}),[{key:"listenerPageEvents",value:function(){var e=this;Gr.getState().on("leave_conversation",(function(){Gr.getState().reset(["unreadMessageCount"])})),Gr.getState().on("enter_error",(function(){e.clear()}))}},{key:"listenerTabEvents",value:function(){var e=this;Ur.getState().on(le.preloadClient,(function(t){var n=t.credentials,r=t.identity;Gr.getState().setCredentials({accessToken:n.accessToken,region:n.region,createAccessTokenAt:n.createAccessTokenAt}),Gr.getState().createIdentity(!0,r),e.preloadClient("tabEvent")})),Ur.getState().on(le.conversationCreated,(function(t){var n=t.credentials,r=t.identity;Gr.getState().setCredentials(n),Gr.getState().createIdentity(!0,r),Gr.getState().isNot(ce.Conversation)&&Gr.getState().go(ce.Conversation),e.init("tabEvent")})),Ur.getState().on(le.conversationEnded,(function(){Gr.getState().enableLoadFeedback(),Gr.getState().isNot(ce.End)&&Gr.getState().go(ce.End)})),Ur.getState().on(le.conversationEndedByError,(function(){Gr.getState().isNot(ce.Error)&&Gr.getState().go(ce.Error)})),Ur.getState().on(le.resetFrame,(function(){var t=Gr.getState().getInitialPage();Gr.getState().isNot(t)&&(Gr.getState().go(t),e.clear())})),Ur.getState().on(le.enableScreenLoading,(function(e){Gr.getState().enableScreenLoading(e,!1)}))}},{key:"preloadClient",value:function(e){var t;if(null!==(t=Mr.getState().config)&&void 0!==t&&t.enableSplitTwilioBootstrap&&this.connection)return this.connection.preloadClient(e)}},{key:"init",value:(n=_(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.connection){e.next=2;break}return e.abrupt("return",this.connection.init(t));case 2:return e.abrupt("return",!1);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"clear",value:function(){if(this.connection)return this.connection.destroy()}},{key:"sendMessage",value:(t=_(m().mark((function e(t){var n,r,u,a,i,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.connection){e.next=10;break}if(!Gr.getState().isNot("conversation")){e.next=3;break}return e.abrupt("return",!1);case 3:return Gr.getState().hasInitialized||this.init("sendMessage"),n=t.data,r=t.type,u=n instanceof FormData,a=ue(),i=u&&Object.values(Ie).indexOf(r)>-1,u&&!i||(o=u?ua(a,n,r,{role:"contact"}):aa(a,n,{role:"contact"}),Js.getState().add(o)),e.abrupt("return",this.connection.send(t,a));case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"typing",value:function(){if(this.connection)return this.connection.typing()}},{key:"end",value:(e=_(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.connection){e.next=2;break}return e.abrupt("return",this.connection.end());case 2:return e.abrupt("return",!1);case 3:case"end":return e.stop()}}),e,this)}))),function(){return e.apply(this,arguments)})},{key:"status",get:function(){return this.connection?this.connection.status:"deactivated"}},{key:"connection",get:function(){return this._current?this._providerImps[this._current]:null}}]);var e,t,n}(),Gs=s("i",new Ys),$s=null,Ks="td-message-".concat(Rr()||"unknown-touchpoint-id"),Js=F()(B(j((function(e,t){return{lastReadIndexByConversationSid:{},assigneeNamesByConversationSid:{},messages:[],add:function(n){var r=t(),u=r.messages,a=r.lastReadIndexByConversationSid,i=Gr.getState().credentials.roomId,o=n.sid,s=n.tid,c=n.alignment,l=n.index;if(!(""!==o&&u.find((function(e){return e.sid===o}))||""!==s&&u.find((function(e){return e.tid===s})))){var d={lastReadIndexByConversationSid:a,messages:u},f="received"===c,p=Gr.getState().isFrameOpened;i&&void 0!==l&&f&&p&&(d.lastReadIndexByConversationSid[i]=l,Gr.getState().updateUnreadMessageCount(1)),d.messages=[].concat(x(u),[n]),e(d)}},set:function(n){var r=t(),u=r.messages,a=r.lastReadIndexByConversationSid,i=Gr.getState().credentials.roomId;if(i){var o=-1,s=n.map((function(e){var t=e.sid,n=e.tid,r=e.alignment,a=e.index;if(!(""!==t&&u.find((function(e){return e.sid===t}))||""!==n&&u.find((function(e){return e.tid===n}))))return i&&void 0!==a&&"received"===r&&Gr.getState().isFrameOpened&&(o=a),e})).filter(Boolean),c={lastReadIndexByConversationSid:a,messages:u};o>-1&&(c.lastReadIndexByConversationSid[i]=o),s.length&&(c.messages=[].concat(x(u),x(s))),e(c)}},clear:function(){var n=t(),r=n.lastReadIndexByConversationSid,u=n.assigneeNamesByConversationSid,a=Gr.getState().credentials.roomId;e({messages:[],lastReadIndexByConversationSid:Zn(r,a),assigneeNamesByConversationSid:Zn(u,a)})},update:function(n,r){if(""===n)return!1;var u=x(t().messages),a=u.findIndex((function(e){return e.tid===n}));return a>-1&&(u[a]=Object.assign(E({},u[a]),r),e({messages:u}),!0)},batchUpdate:function(n,r){var u=t().messages.map((function(e){return n(e)?Object.assign(e,r):e}));e({messages:u})},remove:function(n){if(""===n)return!1;var r=x(t().messages),u=r.findIndex((function(e){return e.tid===n}));return u>-1&&(r.splice(u,1),e({messages:r}),!0)},send:(u=_(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gs.sendMessage(t);case 2:case"end":return e.stop()}}),e)}))),function(e){return u.apply(this,arguments)}),end:(r=_(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gs.end();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)}),updateLastReadIndex:function(){var n=t(),r=n.messages,u=n.lastReadIndexByConversationSid,a=Gr.getState().credentials.roomId;if(a){var i=r.filter((function(e){return"received"===e.alignment})).flatMap((function(e){return e.items.map((function(t){return E(E({},t),{},{index:e.index})}))})),o=i[i.length-1]||{index:-1};void 0!==(null==o?void 0:o.index)&&e({lastReadIndexByConversationSid:E(E({},u),{},A({},a,o.index))})}},typing:(n=_(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gs.typing();case 2:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)}),showTypingMessage:function(){if(Pr(Mr.getState()).showTypingIndicatorButton){var e=t(),n=e.messages,r=e.add,u=e.hideTypingMessage,a=Gr.getState().typingMode,i=n.find((function(e){return na(e.tid)}));if("va"===a)return $s&&clearTimeout($s),i&&u(),r(ra({role:"va"})),void($s=setTimeout((function(){u(),$s=null}),5e3));"agent"===a&&i&&(u(),r(ra({role:"agent"})))}},hideTypingMessage:function(){var e,n=t().remove;null==(e=function(e){return n(e)})||e(ea)},setAssigneeName:function(n,r){if(!n)return"";var u=Gr.getState().credentials.roomId,a=t().assigneeNamesByConversationSid;u&&(a[u]||(a[u]={}),a[u][n]=r,e({assigneeNamesByConversationSid:a}))},getAssigneeName:function(e){var n;return e&&(null===(n=t().assigneeNamesByConversationSid[Gr.getState().credentials.roomId])||void 0===n?void 0:n[e])||""}};var n,r,u}),{name:Ks,partialize:function(e){return{assigneeNamesByConversationSid:e.assigneeNamesByConversationSid,lastReadIndexByConversationSid:e.lastReadIndexByConversationSid}}}))),Qs=function(e){return e.messages},Xs=function(e){return{set:e.set,add:e.add,send:e.send,clear:e.clear,update:e.update,remove:e.remove,batchUpdate:e.batchUpdate,end:e.end,updateLastReadIndex:e.updateLastReadIndex,typing:e.typing,showTypingMessage:e.showTypingMessage,hideTypingMessage:e.hideTypingMessage,getAssigneeName:e.getAssigneeName,setAssigneeName:e.setAssigneeName}},ec=function(e){return e.messages.find((function(e){return na(e.tid)}))||null},tc=(s("t",(function(){return Js(k(Qs))})),s("A",(function(){return Js(k(Xs))})));Js.subscribe((function(e){var t=e.messages,n=e.lastReadIndexByConversationSid[Gr.getState().credentials.roomId]||-1,r=t.filter((function(e){return"received"===e.alignment})).flatMap((function(e){return e.items.map((function(t){return E(E({},t),{},{index:e.index})}))})),u=r[r.length-1],a=null!=u&&u.index?u.index:-1;if(n>=a)return 0;var i=function(e,t){for(var n=e.length-1;n>=0;n--)if(t(e[n],n,e))return n;return-1}(r,(function(e){return e.index===n}));return r.length-1-i}),function(){var e=_(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wr.getState().setBadge(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Js.subscribe((function(e){var t=e.messages;if(!t.length)return"agent";var n=t.reduce((function(e,t){return"received"!==t.alignment||na(t.tid)?e:t}),{});return"va"!==n.role?"agent":"va"}),function(){var e=_(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Gr.setState({typingMode:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var nc=function(e){return{go:e.go,on:e.on,off:e.off,getInitialPage:e.getInitialPage,emit:e.emit,reset:e.reset,is:e.is,isNot:e.isNot,focusUserInputArea:e.focusUserInputArea,setIsFrameOpened:e.setIsFrameOpened,setCredentials:e.setCredentials,hasProviderCredentials:e.hasProviderCredentials,createIdentity:e.createIdentity,setFormData:e.setFormData,setLayoutDirection:e.setLayoutDirection,enableScreenLoading:e.enableScreenLoading,hiddenScreenLoading:e.hiddenScreenLoading,updateFeedbackStatus:e.updateFeedbackStatus,updateChatContentScroll:e.updateChatContentScroll,updateInitialScreenScroll:e.updateInitialScreenScroll,updateInitialScreenHeight:e.updateInitialScreenHeight,enableLoadFeedback:e.enableLoadFeedback,updateUnreadMessageCount:e.updateUnreadMessageCount}},rc=function(e){return e.page},uc=function(e){return e.hasInitialized&&"conversation"===e.page},ac=function(e){return(e.hasInitialized&&"conversation"===e.page||"end"===e.page)&&!!e.interactionId},ic=function(e){return e.shouldLoadFeedback},oc=function(e){return e.feedbackLink},sc=function(e){var t=e.feedbackStatus.status;return E(E({},e.feedbackStatus),{},{active:"SURVEY_UNSUBMITTED"===t,hidden:"SURVEY_NOT_AVAILABLE"===t,pending:"init"===t,showMessage:-1===["init","SURVEY_UNSUBMITTED"].indexOf(t)})},cc=function(e){return e.isFrameOpened},lc=function(e){return e.layoutDirection===fe},dc=function(e){return e.showScreenLoading},fc=function(e){var t=e.chatContentScroll,n=0!==t.scrollOver;return E(E({},t),{},{enableScroll:n,showScrollToBottom:n&&t.scrollPercent<96})},pc=function(e){return e.initialScreenScroll},vc=function(e){return e.unreadMessageCount},hc=s("B",(function(){return Gr(k(nc))})),mc=(s("g",(function(){return Gr(rc)})),s("v",(function(){return Gr(ic)})),s("m",(function(){return Gr(oc)})),s("o",(function(){return Gr(sc)}))),gc=s("f",(function(){return Gr(cc)})),_c=s("x",(function(){return Gr(lc)})),Dc=(s("w",(function(){return Gr(dc)})),s("q",(function(){return Gr(fc)})));s("z",(function(){return Gr(vc)}));Gr.subscribe(cc,(function(e){e&&Js.getState().updateLastReadIndex()})),Gr.subscribe(lc,(function(e){var t=document.documentElement;e?t.setAttribute("data-layout-direction",fe):t.removeAttribute("data-layout-direction")}));var bc=function(e){return e.LEFT="left",e.RIGHT="right",e}(bc||{}),yc=S.createContext({open:!1,align:"left"}),Cc=yc.Provider,Ec=function(){return S.useContext(yc)},Ac=function(e){var t=e.handler,n=e.isExecuted,r=e.nodes;S.useEffect((function(){if(null!=r&&r[0]&&n){var e=function(e){var n=e.target;n instanceof Node&&function(e){return r.some((function(t){return t===e||(null==t?void 0:t.contains(e))}))}(n)||null==t||t()};return document.addEventListener("click",e),window.addEventListener("blur",e),function(){document.removeEventListener("click",e),window.removeEventListener("blur",e)}}}),[n,r,t])};function Fc(e){return T.jsx(S.Suspense,{children:e.children})}var xc=N.lazy((function(){return Pe((function(){return l.import("./Arrow-legacy-CK8rhoHj.js")}),void 0,l.meta.url)})),wc=N.lazy((function(){return Pe((function(){return l.import("./Attachment-legacy-HE9wQe87.js")}),void 0,l.meta.url)})),kc=N.lazy((function(){return Pe((function(){return l.import("./Close-legacy-BCcSL2s6.js")}),void 0,l.meta.url)})),Bc=N.lazy((function(){return Pe((function(){return l.import("./Clear-legacy-DqyIBrgC.js")}),void 0,l.meta.url)})),jc=N.lazy((function(){return Pe((function(){return l.import("./Confirm-legacy-Chas00te.js")}),void 0,l.meta.url)})),Sc=N.lazy((function(){return Pe((function(){return l.import("./Emoji-legacy-Cncm7eGd.js")}),void 0,l.meta.url)})),Tc=N.lazy((function(){return Pe((function(){return l.import("./Minimize-legacy-CD0960cX.js")}),void 0,l.meta.url)})),Oc=N.lazy((function(){return Pe((function(){return l.import("./MoreVert-legacy-BxdwqCs_.js")}),void 0,l.meta.url)})),Nc=N.lazy((function(){return Pe((function(){return l.import("./Retry-legacy-BvY5MsT1.js")}),void 0,l.meta.url)})),Ic=N.lazy((function(){return Pe((function(){return l.import("./Send-legacy-CxzypqNE.js")}),void 0,l.meta.url)})),Lc=N.lazy((function(){return Pe((function(){return l.import("./Warning-legacy-DXAmJqWP.js")}),void 0,l.meta.url)})),Pc=N.lazy((function(){return Pe((function(){return l.import("./Logo-legacy-l5TT371E.js")}),void 0,l.meta.url)})),Mc=N.lazy((function(){return Pe((function(){return l.import("./Download-legacy-B9vG5YiS.js")}),void 0,l.meta.url)})),Rc=N.lazy((function(){return Pe((function(){return l.import("./Terminate-legacy-DONTBuMq.js")}),void 0,l.meta.url)})),zc=N.lazy((function(){return Pe((function(){return l.import("./Refresh-legacy-CXUDSubn.js")}),void 0,l.meta.url)})),Zc=function(e){return T.jsx(Fc,{children:T.jsx(xc,E({},e))})},Uc=function(){return T.jsx(Fc,{children:T.jsx(wc,{})})},Vc=function(){return T.jsx(Fc,{children:T.jsx(kc,{})})},Hc=function(){return T.jsx(Fc,{children:T.jsx(Bc,{})})},qc=function(){return T.jsx(Fc,{children:T.jsx(jc,{})})},Wc=function(){return T.jsx(Fc,{children:T.jsx(Sc,{})})},Yc=function(){return T.jsx(Fc,{children:T.jsx(Tc,{})})},Gc=function(){return T.jsx(Fc,{children:T.jsx(Oc,{})})},$c=function(){return T.jsx(Fc,{children:T.jsx(Nc,{})})},Kc=function(){return T.jsx(Fc,{children:T.jsx(Ic,{})})},Jc=function(){return T.jsx(Fc,{children:T.jsx(Rc,{})})},Qc=s("R",(function(){return T.jsx(Fc,{children:T.jsx(zc,{})})})),Xc=function(e){return T.jsx(Fc,{children:T.jsx(Pc,E({},e))})},el=Object.freeze(Object.defineProperty({__proto__:null,Arrow:Zc,Attachment:Uc,Clear:Hc,Close:Vc,Confirm:qc,Download:function(){return T.jsx(Fc,{children:T.jsx(Mc,{})})},Emoji:Wc,Logo:Xc,Minimize:Yc,MoreVert:Gc,Refresh:Qc,Retry:$c,Send:Kc,Terminate:Jc,Warning:function(){return T.jsx(Fc,{children:T.jsx(Lc,{})})}},Symbol.toStringTag,{value:"Module"})),tl="_dropdown-wrapper_rc6w0_19",nl="_dropdown-input_rc6w0_24",rl="_dropdown-input-placeholder_rc6w0_54",ul="_dropdown-input-arrow_rc6w0_57",al="_dropdown-popup_rc6w0_65",il="_dropdown-popup-visible_rc6w0_78",ol="_dropdown-content_rc6w0_84",sl="_dropdown-content-item_rc6w0_99",cl=function(e){var t=e.active,n=e.options,r=e.onClickOption,u=h(I(),1)[0];return T.jsx("ul",{className:ol,children:null==n?void 0:n.map((function(e,n){var a,i;return T.jsx("li",{className:sl,"data-disabled":!!e.disabled,"data-active":e.value===t,title:u(e.label),"aria-label":u(e.label),children:T.jsxs("button",{disabled:e.disabled,"aria-disabled":e.disabled,onClick:function(){return function(e){null==r||r(e)}(e)},children:[null===(a=Object.entries(el).find((function(t){return h(t,1)[0].toLowerCase()===e.icon})))||void 0===a||null===(i=a[1])||void 0===i?void 0:i.call(a,{}),u(e.label)]})},n)}))})},ll=function(e){var t=e.forwardedRef,n=e.placeholder,r=void 0===n?"Please input...":n,u=e.disabled,a=e.onClick,i=e.children,o=Ec().open;return T.jsxs("button",{ref:t,className:nl,"data-focus":o,disabled:u,"aria-disabled":u,onClick:a,children:[i||T.jsx("span",{className:rl,children:r}),T.jsx(Zc,{className:ul})]})};function dl(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"===v(e))if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=dl(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function fl(){for(var e,t,n=0,r="";n<arguments.length;){var u;(e=(u=n++)<0||arguments.length<=u?void 0:arguments[u])&&(t=dl(e))&&(r&&(r+=" "),r+=t)}return r}var pl=function(e){var t=e.forwardedRef,n=e.visible,r=e.children,u=Ec(),a=u.align,i=u.top,o=S.useMemo((function(){return fl(al,A({},il,!!n))}),[n]),s=S.useMemo((function(){return{top:"".concat(null!=i?i:0,"px"),left:"".concat(a===bc.LEFT?0:"auto"),right:"".concat(a===bc.RIGHT?0:"auto")}}),[i,a]);return T.jsx("div",{ref:t,className:o,style:s,children:r})},vl=function(e){var t=e.children;return T.jsx("div",{className:tl,children:t})},hl=function(e){var t=e.option,n=e.options,r=e.align,u=void 0===r?bc.LEFT:r,a=e.placeholder,i=void 0===a?"Please select...":a,o=e.customInput,s=e.children,c=e.onChange,l=S.useRef(null),d=S.useRef(null),f=h(S.useState(!1),2),p=f[0],v=f[1],m=l.current,g=d.current,_=S.useMemo((function(){var e;return null!==(e=null==m?void 0:m.clientHeight)&&void 0!==e?e:0}),[m]);Ac({isExecuted:p,nodes:[m,g],handler:function(){return v(!1)}});var D=function(e){e.stopPropagation(),e.preventDefault(),v((function(e){return!e}))},b=function(e){v(!1),null==c||c(e)};return T.jsx(Cc,{value:{open:p,align:u,top:_},children:T.jsxs(vl,{children:[o?N.cloneElement(o,A(A({},"function"==typeof o.type?"forwardedRef":"ref",l),"onClick",D)):T.jsx(ll,{placeholder:i,forwardedRef:l,onClick:D,children:null==t?void 0:t.label}),T.jsx(pl,{visible:p,forwardedRef:d,children:"function"==typeof s?s({onClick:b}):T.jsx(cl,{active:null==t?void 0:t.value,options:n,onClickOption:b})})]})})};hl.whyDidYouRender=!0;var ml="_logo_3ajxb_19",gl="_customizedLogo_3ajxb_29",_l="_defaultLogo_3ajxb_37",Dl=function(){var e=Mr(Nr).chatTitleIcon;return T.jsx("div",{className:ml,"data-testid":"logo",children:e?T.jsx("div",{className:gl,style:{backgroundImage:"url(".concat(e,")")}}):T.jsx(Xc,{className:_l})})},bl="_mask_15l67_106",yl="_start_15l67_117";function Cl(e){var t=e.className,n=e.children,r=e.backgroundColor,u=e.align,a=void 0===u?"center":u;return T.jsx("div",{style:{backgroundColor:r},className:fl(bl,A({},yl,"start"===a),t),children:n})}var El={wrapper:"_wrapper_18ki2_106","slide-in":"_slide-in_18ki2_113","slide-out":"_slide-out_18ki2_117",dialog:"_dialog_18ki2_121",close:"_close_18ki2_126",header:"_header_18ki2_146",icon:"_icon_18ki2_151",content:"_content_18ki2_158",title:"_title_18ki2_172",description:"_description_18ki2_175",footer:"_footer_18ki2_179",confirm:"_confirm_18ki2_184",circle:"_circle_18ki2_1",loading:"_loading_18ki2_1","move-x":"_move-x_18ki2_1","slide-down":"_slide-down_18ki2_1","fade-in":"_fade-in_18ki2_1","fade-out":"_fade-out_18ki2_1"},Al=function(e){var t=e.visible,n=e.icon,r=e.title,u=e.description,a=e.confirmText,i=e.cancelText,o=e.isLoading,s=void 0!==o&&o,c=e.onConfirm,l=e.onCancel,d=S.useRef(null),f=h(S.useState(!1),2),p=f[0],v=f[1];return S.useEffect((function(){if(!t){var e=setTimeout((function(){return v(!1)}),200);return function(){return clearTimeout(e)}}var n;null===(n=d.current)||void 0===n||n.focus(),v(!0)}),[t]),p?T.jsx(qu,{children:T.jsx(Cl,{className:El["".concat(t?"fade-in":"fade-out")],align:"start",children:T.jsx("div",{className:fl(El.wrapper,El["".concat(t?"slide-in":"slide-out")]),children:T.jsxs("div",{className:El.dialog,children:[T.jsx("button",{className:El.close,"aria-label":i,onClick:l,children:T.jsx(Vc,{})}),T.jsx("div",{className:El.header,children:T.jsx("div",{className:El.icon,children:n})}),T.jsxs("div",{className:El.content,children:[T.jsx("p",{className:El.title,children:r}),T.jsx("p",{className:El.description,children:u})]}),T.jsx("div",{className:El.footer,children:T.jsxs("button",{ref:d,className:El.confirm,onClick:c,disabled:s,"aria-disabled":s,"aria-label":a,children:[s?T.jsx(fu,{size:"tiny"}):null,T.jsx("span",{children:a})]})})]})})})}):null},Fl=function(e){var t=e.visible,n=e.isLoading,r=void 0!==n&&n,u=e.onConfirm,a=e.onCancel,i=h(I(),1)[0],o=Mr(Nr),s=o.chatDialogBoxEndChat,c=o.chatConfirmButtonEndChat,l=o.chatCancelButtonEndChat,d=S.useMemo((function(){return{chatDialogBoxEndChatTitle:i("chatConfirmButtonEndChat"),chatDialogBoxEndChatDescription:s||i("chatDialogBoxEndChat"),chatConfirmButtonEndChat:c||i("chatConfirmButtonEndChat"),chatCancelButtonEndChat:l||i("chatCancelButtonEndChat")}}),[i,s,c,l]);return T.jsx(Al,{visible:t,title:d.chatDialogBoxEndChatTitle,description:d.chatDialogBoxEndChatDescription,isLoading:r,onConfirm:u,onCancel:a,confirmText:d.chatConfirmButtonEndChat,cancelText:d.chatCancelButtonEndChat,icon:T.jsx(qc,{})})},xl="_button_1rhpj_19",wl=function(e){var t=e.forwardedRef,n=e.children,u=e.onClick,a=e.disabled,o=e.className,s=i(e,r);return T.jsx("button",E(E({ref:t,onClick:function(e){a||null==u||u(e)},disabled:a,"aria-disabled":a,className:fl(xl,o)},s),{},{children:n}))},kl="_header_bv5to_19",Bl="_withBoxShadow_bv5to_26",jl="_withSeparator_bv5to_29",Sl="_left_bv5to_33",Tl="_desc_bv5to_47",Ol="_title_bv5to_52",Nl="_subtitle_bv5to_62",Il="_icon_bv5to_78",Ll=function(e){var t=e.disabled,n=e.onClick;return T.jsx(wl,{onClick:n,disabled:t,"aria-label":"end chat conversation",children:T.jsx("div",{className:Il,children:T.jsx(Jc,{})})})},Pl=function(e){var t=e.onClick;return T.jsx(wl,{onClick:t,"aria-label":"minimize chat widget",children:T.jsx("div",{className:Il,children:T.jsx(Yc,{})})})},Ml=function(e){var t=e.forwardedRef,n=e.onClick;return T.jsx(wl,{forwardedRef:t,onClick:n,"aria-label":"more operations",children:T.jsx("div",{className:Il,children:T.jsx(Gc,{})})})},Rl=function(e){var t=e.visible,n=e.isLoading,r=void 0!==n&&n,u=e.onConfirm,a=e.onCancel,i=h(I(),1)[0],o=Mr(Nr),s=o.chatDialogBoxRetryEndChat,c=o.chatConfirmButtonRetryEndChat,l=o.chatCancelButtonRetryEndChat,d=S.useMemo((function(){return{chatDialogBoxRetryEndChatTitle:i("chatConfirmButtonRetryEndChat"),chatDialogBoxRetryEndChatDescription:s||i("chatDialogBoxRetryEndChat"),chatConfirmButtonRetryEndChat:c||i("chatConfirmButtonRetryEndChat"),chatCancelButtonRetryEndChat:l||i("chatCancelButtonRetryEndChat")}}),[i,s,c,l]);return T.jsx(Al,{visible:t,title:d.chatDialogBoxRetryEndChatTitle,description:d.chatDialogBoxRetryEndChatDescription,isLoading:r,onConfirm:u,onCancel:a,confirmText:d.chatConfirmButtonRetryEndChat,cancelText:d.chatCancelButtonRetryEndChat,icon:T.jsx($c,{})})},zl=function(){var e=!Gr(ac),t=function(){var e=_(m().mark((function e(){var t,n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Gr.getState(),n=t.interactionId,e.next=3,wr.getState().downloadTranscript(n);case 3:null!=(r=e.sent)&&r.error&&Ot.error("Failed to download transcript for interactionId=".concat(n," error=").concat(r.error));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{disableDownloadTranscript:e,downloadTranscript:t}},Zl=[{label:"headerDownloadTranscriptButton",value:"headerDownloadTranscriptButton",icon:"download",disabled:!1},{label:"headerEndChatButton",value:"headerEndChatButton",icon:"terminate",disabled:!1}];function Ul(){var e=h(S.useState(!0),2),t=e[0],n=e[1],r=hc(),u=r.on,a=r.off;return S.useEffect((function(){var e=function(){n(!1)},t=function(){n(!0)};return u("disconnect",e),u("reconnect",t),u("leave_end",t),u("leave_error",t),function(){a("disconnect",e),a("reconnect",t),a("leave_end",t),a("leave_error",t)}}),[u,a]),t}var Vl=function(e){var t=e.endChat,n=e.endApp,r=h(S.useState(!1),2),u=r[0],a=r[1],i=h(S.useState(!1),2),o=i[0],s=i[1],c=h(S.useState(!1),2),l=c[0],d=c[1],f=Gr(uc),p=Ul(),v=!f||u||o||!p,g=function(){var e=_(m().mark((function e(){var r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,t();case 3:r=e.sent,a(!1),d(!1),r?null==n||n():s(!0);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=_(m().mark((function e(){var r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,t();case 3:r=e.sent,d(!1),r&&(s(!1),null==n||n());case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{isEndingChat:l,showConfirmEndChat:function(){v||a(!0)},confirmEndVisible:u,retryEndVisible:o,enableEndChat:f,disableEndChat:v,onEndChat:g,onRetryEndChat:D,onCancelRetryEndChat:function(){return s(!1)},onCancelConfirmEndChat:function(){return a(!1)}}};s("J",(function(e){var t=e.chatSubtitle,n=e.chatTitle,r=e.showCloseConversationButton,u=e.showDownloadTranscriptButton,a=h(I(),1)[0],i=tc().end,o=hc(),s=o.go,c=o.is,l=o.isNot,d=o.focusUserInputArea,f=_c(),p=Gr(pc).headerVisible,v=Dc().footerVisible,m=Vl({endChat:i,endApp:function(){return s("end")}}),g=m.isEndingChat,_=m.confirmEndVisible,D=m.retryEndVisible,b=m.disableEndChat,y=m.onEndChat,C=m.onRetryEndChat,F=m.onCancelRetryEndChat,x=m.onCancelConfirmEndChat,w=m.showConfirmEndChat,B=Js(k(ec)),j=zl(),O=function(e){var t=e.showEndChatButton,n=e.disableEndChat,r=e.disableDownloadTranscript,u=e.onDownloadTranscript,a=e.onEndChat;return{options:S.useMemo((function(){return Zl.reduce((function(e,u){switch(u.value){case"headerDownloadTranscriptButton":e.push(E(E({},u),{},{label:u.label,disabled:r}));break;case"headerEndChatButton":t&&e.push(E(E({},u),{},{label:u.label,disabled:n}))}return e}),[])}),[t,n,r]),onOptionItemChange:function(e){switch(e.value){case"headerDownloadTranscriptButton":null==u||u();break;case"headerEndChatButton":null==a||a()}}}}({showEndChatButton:r,disableDownloadTranscript:j.disableDownloadTranscript,disableEndChat:b,onDownloadTranscript:j.downloadTranscript,onEndChat:w}),N=O.options,L=O.onOptionItemChange,P=S.useMemo((function(){if(!v&&c(ce.Conversation)&&B){var e=null==B?void 0:B.role,n=null==B?void 0:B.participantName;return e&&"va"===e?a("isThinking",{name:a(n||"")}):n?a("isTyping",{name:a(n||"")}):a("isTypingWithoutName")}return t||a("poweredByTalkdesk")}),[v,t,c,a,B]);return S.useEffect((function(){_||d&&d()}),[_,d]),T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:fl(kl,A(A({},Bl,l(ce.InitialScreen)),jl,c(ce.InitialScreen)&&!p)),children:[T.jsxs("div",{className:Sl,children:[T.jsx(Dl,{}),T.jsxs("div",{className:Tl,children:[T.jsx("p",{className:Ol,title:n||ye.chatTitle,children:n||ye.chatTitle}),T.jsx("p",{className:Nl,title:P,children:P})]})]}),T.jsxs("div",{children:[T.jsx(Pl,{onClick:function(){wr.getState().minimize()}}),u?T.jsx(hl,{align:f?bc.LEFT:bc.RIGHT,options:N,onChange:L,customInput:T.jsx(Ml,{})}):r?T.jsx(Ll,{onClick:w,disabled:b}):null]})]}),T.jsx(Fl,{visible:_,onCancel:x,onConfirm:y,isLoading:g}),T.jsx(Rl,{visible:D,onCancel:F,onConfirm:C,isLoading:g})]})}));var Hl=s("C",{page:function(e){var t=e.disable,n=void 0!==t&&t,r=e.children,u=e.className,a=void 0===u?"":u,i=L({from:{opacity:0},to:{opacity:1},config:M.gentle,immediate:n});return T.jsx(P.div,{style:i,className:a,children:r})},message:function(e){var t=e.immediate,n=e.className,r=e.children,u=L({from:{opacity:0,transform:"translateY(12px)"},to:{opacity:1,transform:"translateY(0)"},config:M.gentle,immediate:t});return T.jsx(P.div,{className:n,style:u,children:r})}}),ql=function(e,t){var n,r=e.o,u=e.i,a=e.u,i=r,o=function(e,t){var r=i,o=e,s=t||(u?!u(r,o):r!==o);return(s||a)&&(i=o,n=r),[i,s,n]};return[t?function(e){return o(t(i,n),e)}:o,function(e){return[i,!!e,n]}]},Wl="undefined"!=typeof window&&"undefined"!=typeof HTMLElement&&!!window.document?window:{},Yl=Math.max,Gl=Math.min,$l=Math.round,Kl=Math.abs,Jl=Math.sign,Ql=Wl.cancelAnimationFrame,Xl=Wl.requestAnimationFrame,ed=Wl.setTimeout,td=Wl.clearTimeout,nd=function(e){return void 0!==Wl[e]?Wl[e]:void 0},rd=nd("MutationObserver"),ud=nd("IntersectionObserver"),ad=nd("ResizeObserver"),id=nd("ScrollTimeline"),od=function(e){return void 0===e},sd=function(e){return null===e},cd=function(e){return"number"==typeof e},ld=function(e){return"string"==typeof e},dd=function(e){return"boolean"==typeof e},fd=function(e){return"function"==typeof e},pd=function(e){return Array.isArray(e)},vd=function(e){return"object"===v(e)&&!pd(e)&&!sd(e)},hd=function(e){var t=!!e&&e.length,n=cd(t)&&t>-1&&t%1==0;return!!(pd(e)||!fd(e)&&n)&&(!(t>0&&vd(e))||t-1 in e)},md=function(e){return!!e&&e.constructor===Object},gd=function(e){return e instanceof HTMLElement},_d=function(e){return e instanceof Element};
/*!
       * OverlayScrollbars
       * Version: 2.10.0
       *
       * Copyright (c) Rene Haas | KingSora.
       * https://github.com/KingSora
       *
       * Released under the MIT license.
       */function Dd(e,t){if(hd(e))for(var n=0;n<e.length&&!1!==t(e[n],n,e);n++);else e&&Dd(Object.keys(e),(function(n){return t(e[n],n,e)}));return e}var bd=function(e,t){return e.indexOf(t)>=0},yd=function(e,t){return e.concat(t)},Cd=function(e,t,n){return!ld(t)&&hd(t)?Array.prototype.push.apply(e,t):e.push(t),e},Ed=function(e){return Array.from(e||[])},Ad=function(e){return pd(e)?e:!ld(e)&&hd(e)?Ed(e):[e]},Fd=function(e){return!!e&&!e.length},xd=function(e){return Ed(new Set(e))},wd=function(e,t,n){Dd(e,(function(e){return!e||e.apply(void 0,t||[])})),!n&&(e.length=0)},kd="paddingTop",Bd="paddingRight",jd="paddingLeft",Sd="paddingBottom",Td="marginLeft",Od="marginRight",Nd="marginBottom",Id="overflowX",Ld="overflowY",Pd="width",Md="height",Rd="visible",zd="hidden",Zd="scroll",Ud=function(e,t,n,r){if(e&&t){var u=!0;return Dd(n,(function(n){e[n]!==t[n]&&(u=!1)})),u}return!1},Vd=function(e,t){return Ud(e,t,["w","h"])},Hd=function(e,t){return Ud(e,t,["x","y"])},qd=function(e,t){return Ud(e,t,["t","r","b","l"])},Wd=function(){},Yd=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.bind.apply(e,[0].concat(n))},Gd=function(e){var t,n=e?ed:Xl,r=e?td:Ql;return[function(u){r(t),t=n((function(){return u()}),fd(e)?e():e)},function(){return r(t)}]},$d=function(e,t){var n,r,u,a,i=t||{},o=i._,s=i.v,c=i.p,l=i.S,d=Wd,f=function(t){d(),td(n),a=n=r=void 0,d=Wd,e.apply(this,t)},p=function(e){return l&&r?l(r,e):e},v=function(){d!==Wd&&f(p(u)||u)},h=function(){var e=Ed(arguments),t=fd(o)?o():o;if(cd(t)&&t>=0){var i,l=fd(s)?s():s,h=cd(l)&&l>=0,m=t>0?ed:Xl,g=t>0?td:Ql,_=p(e)||e,D=f.bind(0,_);d(),c&&!a?(D(),a=!0,i=m((function(){return a=void 0}),t)):(i=m(D,t),h&&!n&&(n=ed(v,l))),d=function(){return g(i)},r=u=_}else f(e)};return h.m=v,h},Kd=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Jd=function(e){return e?Object.keys(e):[]},Qd=function(e,t,n,r,u,a,i){var o=[t,n,r,u,a,i];return"object"===v(e)&&!sd(e)||fd(e)||(e={}),Dd(o,(function(t){Dd(t,(function(n,r){var u=t[r];if(e===u)return!0;var a=pd(u);if(u&&md(u)){var i=e[r],o=i;a&&!pd(i)?o=[]:a||md(i)||(o={}),e[r]=Qd(o,u)}else e[r]=a?u.slice():u}))})),e},Xd=function(e,t){return Dd(Qd({},e),(function(e,t,n){void 0===e?delete n[t]:e&&md(e)&&(n[t]=Xd(e))}))},ef=function(e){return!Jd(e).length},tf=function(e,t,n){return Yl(e,Gl(t,n))},nf=function(e){return xd((pd(e)?e:(e||"").split(" ")).filter((function(e){return e})))},rf=function(e,t){return e&&e.getAttribute(t)},uf=function(e,t){return e&&e.hasAttribute(t)},af=function(e,t,n){Dd(nf(t),(function(t){e&&e.setAttribute(t,String(n||""))}))},of=function(e,t){Dd(nf(t),(function(t){return e&&e.removeAttribute(t)}))},sf=function(e,t){var n=nf(rf(e,t)),r=Yd(af,e,t),u=function(e,t){var r=new Set(n);return Dd(nf(e),(function(e){r[t](e)})),Ed(r).join(" ")};return{O:function(e){return r(u(e,"delete"))},$:function(e){return r(u(e,"add"))},C:function(e){var t=nf(e);return t.reduce((function(e,t){return e&&n.includes(t)}),t.length>0)}}},cf=function(e,t,n){return sf(e,t).O(n),Yd(lf,e,t,n)},lf=function(e,t,n){return sf(e,t).$(n),Yd(cf,e,t,n)},df=function(e,t,n,r){return(r?lf:cf)(e,t,n)},ff=function(e,t,n){return sf(e,t).C(n)},pf=function(e){return sf(e,"class")},vf=function(e,t){pf(e).O(t)},hf=function(e,t){return pf(e).$(t),Yd(vf,e,t)},mf=function(e,t){var n=t?_d(t)&&t:document;return n?Ed(n.querySelectorAll(e)):[]},gf=function(e,t){return _d(e)&&e.matches(t)},_f=function(e){return gf(e,"body")},Df=function(e){return e?Ed(e.childNodes):[]},bf=function(e){return e&&e.parentElement},yf=function(e,t){return _d(e)&&e.closest(t)},Cf=function(e){return document.activeElement},Ef=function(e,t,n){var r=yf(e,t),u=e&&function(e,t){var n=t?_d(t)&&t:document;return n&&n.querySelector(e)}(n,r),a=yf(u,t)===r;return!(!r||!u)&&(r===e||u===e||a&&yf(yf(e,n),t)!==r)},Af=function(e){Dd(Ad(e),(function(e){var t=bf(e);e&&t&&t.removeChild(e)}))},Ff=function(e,t){return Yd(Af,e&&t&&Dd(Ad(t),(function(t){t&&e.appendChild(t)})))},xf=function(e){var t=document.createElement("div");return af(t,"class",e),t},wf=function(e){var t=xf();return t.innerHTML=e.trim(),Dd(Df(t),(function(e){return Af(e)}))},kf=function(e,t){return e.getPropertyValue(t)||e[t]||""},Bf=function(e){var t=e||0;return isFinite(t)?t:0},jf=function(e){return Bf(parseFloat(e||""))},Sf=function(e){return Math.round(1e4*e)/1e4},Tf=function(e){return"".concat(Sf(Bf(e)),"px")};function Of(e,t){e&&t&&Dd(t,(function(t,n){try{var r=e.style,u=sd(t)||dd(t)?"":cd(t)?Tf(t):t;0===n.indexOf("--")?r.setProperty(n,u):r[n]=u}catch(Gl){}}))}function Nf(e,t,n){var r=ld(t),u=r?"":{};if(e){var a=Wl.getComputedStyle(e,n)||e.style;u=r?kf(a,t):Ed(t).reduce((function(e,t){return e[t]=kf(a,t),e}),u)}return u}var If,Lf,Pf=function(e,t,n){var r=t?"".concat(t,"-"):"",u=n?"-".concat(n):"",a="".concat(r,"top").concat(u),i="".concat(r,"right").concat(u),o="".concat(r,"bottom").concat(u),s="".concat(r,"left").concat(u),c=Nf(e,[a,i,o,s]);return{t:jf(c[a]),r:jf(c[i]),b:jf(c[o]),l:jf(c[s])}},Mf=function(e,t){return"translate".concat(vd(e)?"(".concat(e.x,",").concat(e.y,")"):"Y".concat("(",e,")"))},Rf={w:0,h:0},zf=function(e,t){return t?{w:t["".concat(e,"Width")],h:t["".concat(e,"Height")]}:Rf},Zf=function(e){return zf("inner",e||Wl)},Uf=Yd(zf,"offset"),Vf=Yd(zf,"client"),Hf=Yd(zf,"scroll"),qf=function(e){var t=parseFloat(Nf(e,Pd))||0,n=parseFloat(Nf(e,Md))||0;return{w:t-$l(t),h:n-$l(n)}},Wf=function(e){return e.getBoundingClientRect()},Yf=function(e){return!(!e||!e[Md]&&!e[Pd])},Gf=function(e,t){var n=Yf(e);return!Yf(t)&&n},$f=function(e,t,n,r){Dd(nf(t),(function(t){e&&e.removeEventListener(t,n,r)}))},Kf=function(e,t,n,r){var u,a=null==(u=r&&r.H)||u,i=r&&r.I||!1,o=r&&r.A||!1,s={passive:a,capture:i};return Yd(wd,nf(t).map((function(t){var r=o?function(u){$f(e,t,r,i),n&&n(u)}:n;return e&&e.addEventListener(t,r,s),Yd($f,e,t,r,i)})))},Jf=function(e){return e.stopPropagation()},Qf=function(e){return e.preventDefault()},Xf=function(e){return Jf(e)||Qf(e)},ep=function(e,t){var n=cd(t)?{x:t,y:t}:t||{},r=n.x,u=n.y;cd(r)&&(e.scrollLeft=r),cd(u)&&(e.scrollTop=u)},tp=function(e){return{x:e.scrollLeft,y:e.scrollTop}},np=function(e,t){var n=e.D,r=e.M,u=t.w,a=t.h,i=function(e,t,n){var r=Jl(e)*n,u=Jl(t)*n;if(r===u){var a=Kl(e),i=Kl(t);u=a>i?0:u,r=a<i?0:r}return[(r=r===u?0:r)+0,u+0]},o=h(i(n.x,r.x,u),2),s=o[0],c=o[1],l=h(i(n.y,r.y,a),2);return{D:{x:s,y:l[0]},M:{x:c,y:l[1]}}},rp=function(e){var t=e.D,n=e.M,r=function(e,t){return 0===e&&e<=t};return{x:r(t.x,n.x),y:r(t.y,n.y)}},up=function(e,t){var n=e.D,r=e.M,u=function(e,t,n){return tf(0,1,(e-n)/(e-t)||0)};return{x:u(n.x,r.x,t.x),y:u(n.y,r.y,t.y)}},ap=function(e){e&&e.focus&&e.focus({preventScroll:!0})},ip=function(e,t){Dd(Ad(t),e)},op=function(e){var t=new Map,n=function(e,n){if(e){var r=t.get(e);ip((function(e){r&&r[e?"delete":"clear"](e)}),n)}else t.forEach((function(e){e.clear()})),t.clear()},r=function(e,u){if(ld(e)){var a=t.get(e)||new Set;return t.set(e,a),ip((function(e){fd(e)&&a.add(e)}),u),Yd(n,e,u)}dd(u)&&u&&n();var i=Jd(e),o=[];return Dd(i,(function(t){var n=e[t];n&&Cd(o,r(t,n))})),Yd(wd,o)};return r(e||{}),[r,n,function(e,n){Dd(Ed(t.get(e)),(function(e){n&&!Fd(n)?e.apply(0,n):e()}))}]},sp=function(e){return JSON.stringify(e,(function(e,t){if(fd(t))throw 0;return t}))},cp=function(e,t){return e?"".concat(t).split(".").reduce((function(e,t){return e&&Kd(e,t)?e[t]:void 0}),e):void 0},lp={paddingAbsolute:!1,showNativeOverlaidScrollbars:!1,update:{elementEvents:[["img","load"]],debounce:[0,33],attributes:null,ignoreMutation:null},overflow:{x:"scroll",y:"scroll"},scrollbars:{theme:"os-theme-dark",visibility:"auto",autoHide:"never",autoHideDelay:1300,autoHideSuspend:!1,dragScroll:!0,clickScroll:!1,pointers:["mouse","touch","pen"]}},dp=function(e,t){var n={};return Dd(yd(Jd(t),Jd(e)),(function(r){var u=e[r],a=t[r];if(vd(u)&&vd(a))Qd(n[r]={},dp(u,a)),ef(n[r])&&delete n[r];else if(Kd(t,r)&&a!==u){var i=!0;if(pd(u)||pd(a))try{sp(u)===sp(a)&&(i=!1)}catch(Jl){}i&&(n[r]=a)}})),n},fp=function(e,t,n){return function(r){return[cp(e,r),n||void 0!==cp(t,r)]}},pp="data-overlayscrollbars",vp="os-environment",hp="".concat(vp,"-scrollbar-hidden"),mp="".concat(pp,"-initialize"),gp="noClipping",_p="".concat(pp,"-body"),Dp=pp,bp="".concat(pp,"-viewport"),yp=Id,Cp=Ld,Ep="measuring",Ap="scrollbarHidden",Fp="".concat(pp,"-padding"),xp="".concat(pp,"-content"),wp="os-size-observer",kp="".concat(wp,"-appear"),Bp="".concat(wp,"-listener"),jp="os-scrollbar",Sp="".concat(jp,"-rtl"),Tp="".concat(jp,"-horizontal"),Op="".concat(jp,"-vertical"),Np="".concat(jp,"-track"),Ip="".concat(jp,"-handle"),Lp="".concat(jp,"-visible"),Pp="".concat(jp,"-cornerless"),Mp="".concat(jp,"-interaction"),Rp="".concat(jp,"-unusable"),zp="".concat(jp,"-auto-hide"),Zp="".concat(zp,"-hidden"),Up="".concat(jp,"-wheel"),Vp="".concat(Np,"-interactive"),Hp="".concat(Ip,"-interactive"),qp=function(){var e=function(e,t,n){Ff(document.body,e),Ff(document.body,e);var r=Vf(e),u=Uf(e),a=qf(t);return n&&Af(e),{x:u.h-r.h+a.h,y:u.w-r.w+a.w}},t=".".concat(vp,"{scroll-behavior:auto!important;position:fixed;opacity:0;visibility:hidden;overflow:scroll;height:200px;width:200px;z-index:-1}.").concat(vp," div{width:200%;height:200%;margin:10px 0}.").concat(hp,"{scrollbar-width:none!important}.").concat(hp,"::-webkit-scrollbar,.").concat(hp,"::-webkit-scrollbar-corner{appearance:none!important;display:none!important;width:0!important;height:0!important}"),n=wf('<div class="'.concat(vp,'"><div></div><style>').concat(t,"</style></div>"))[0],r=n.firstChild,u=n.lastChild,a=If;a&&(u.nonce=a);var i=h(op(),3),o=i[0],s=i[2],c=h(ql({o:e(n,r),i:Hd},Yd(e,n,r,!0)),2),l=c[0],d=h((0,c[1])(),1)[0],f=function(e){var t=!1,r=hf(e,hp);try{t="none"===Nf(e,"scrollbar-width")||"none"===Nf(e,"display","::-webkit-scrollbar")}catch(n){}return r(),t}(n),p={x:0===d.x,y:0===d.y},v={elements:{host:null,padding:!f,viewport:function(e){return f&&_f(e)&&e},content:!1},scrollbars:{slot:!0},cancel:{nativeScrollbarsOverlaid:!1,body:null}},m=Qd({},lp),g=Yd(Qd,{},m),_=Yd(Qd,{},v),D={T:d,k:p,R:f,V:!!id,L:Yd(o,"r"),U:_,P:function(e){return Qd(v,e)&&_()},N:g,q:function(e){return Qd(m,e)&&g()},B:Qd({},v),F:Qd({},m)};if(of(n,"style"),Af(n),Kf(Wl,"resize",(function(){s("r",[])})),fd(Wl.matchMedia)&&!f&&(!p.x||!p.y)){var b=function(e){var t=Wl.matchMedia("(resolution: ".concat(Wl.devicePixelRatio,"dppx)"));Kf(t,"change",(function(){e(),b(e)}),{A:!0})};b((function(){var e=h(l(),2),t=e[0],n=e[1];Qd(D.T,t),s("r",[n])}))}return D},Wp=function(){return Lf||(Lf=qp()),Lf},Yp=function(e,t){return fd(t)?t.apply(0,e):t},Gp=function(e,t,n,r){var u=od(r)?n:r;return Yp(e,u)||t.apply(0,e)},$p=function(e,t,n,r){var u=od(r)?n:r,a=Yp(e,u);return!!a&&(gd(a)?a:t.apply(0,e))},Kp=new WeakMap,Jp=function(e){return Kp.get(e)},Qp=function(e,t,n,r){var u=!1,a=r||{},i=a.j,o=a.X,s=a.Y,c=a.W,l=a.J,d=a.G,f=$d((function(){return u&&n(!0)}),{_:33,v:99}),p=function(e,t,n){var r=!1,u=!!n&&new WeakMap,a=function(a){if(u&&n){var i=n.map((function(t){var n=h(t||[],2),r=n[0],u=n[1];return[u&&r?(a||mf)(r,e):[],u]}));Dd(i,(function(n){return Dd(n[0],(function(a){var i=n[1],o=u.get(a)||[];if(e.contains(a)&&i){var s=Kf(a,i,(function(e){r?(s(),u.delete(a)):t(e)}));u.set(a,Cd(o,s))}else wd(o),u.delete(a)}))}))}};return a(),[function(){r=!0},a]}(e,f,s),v=h(p,2),m=v[0],g=v[1],_=o||[],D=yd(i||[],_),b=function(u,a){if(!Fd(a)){var i=l||Wd,o=d||Wd,s=[],f=[],p=!1,v=!1;if(Dd(a,(function(n){var u=n.attributeName,a=n.target,l=n.type,d=n.oldValue,h=n.addedNodes,m=n.removedNodes,g="attributes"===l,D="childList"===l,b=e===a,y=g&&u,C=y&&rf(a,u||""),E=ld(C)?C:null,A=y&&d!==E,F=bd(_,u)&&A;if(t&&(D||!b)){var x=g&&A,w=x&&c&&gf(a,c),k=(w?!i(a,u,d,E):!g||x)&&!o(n,!!w,e,r);Dd(h,(function(e){return Cd(s,e)})),Dd(m,(function(e){return Cd(s,e)})),v=v||k}!t&&b&&A&&!i(a,u,d,E)&&(Cd(f,u),p=p||F)})),g((function(e){return xd(s).reduce((function(t,n){return Cd(t,mf(e,n)),gf(n,e)?Cd(t,n):t}),[])})),t)return!u&&v&&n(!1),[!1];if(!Fd(f)||p){var h=[xd(f),p];return!u&&n.apply(0,h),h}}},y=new rd(Yd(b,!1));return[function(){return y.observe(e,{attributes:!0,attributeOldValue:!0,attributeFilter:D,subtree:t,childList:t,characterData:t}),u=!0,function(){u&&(m(),y.disconnect(),u=!1)}},function(){if(u)return f.m(),b(!0,y.takeRecords())}]},Xp={},ev={},tv=function(e,t,n){return Jd(e).map((function(r){var u=e[r],a=u.static,i=u.instance,o=h(n||[],3),s=o[0],c=o[1],l=o[2],d=n?i:a;if(d){var f=n?d(s,c,t):d(t);return(l||ev)[r]=f}}))},nv=function(e){return ev[e]},rv=function(e){return 0===e.indexOf(Rd)},uv=function(e,t){var n=function(e,t,n,r){var u=e===Rd?zd:e.replace("".concat(Rd,"-"),""),a=rv(e),i=rv(n);return t||r?a&&i?Rd:a?t&&r?u:t?Rd:zd:t?u:i&&r?Rd:zd:zd},r={x:n(t.x,e.x,t.y,e.y),y:n(t.y,e.y,t.x,e.x)};return{K:r,Z:{x:r.x===Zd,y:r.y===Zd}}},av="__osScrollbarsHidingPlugin",iv=function(e,t,n){var r=(n||{}).dt,u=nv("__osSizeObserverPlugin"),a=h(ql({o:!1,u:!0}),1)[0];return function(){var n=[],i=wf('<div class="'.concat(wp,'"><div class="').concat(Bp,'"></div></div>'))[0],o=i.firstChild,s=function(e){var n=!1,r=!1;if(e instanceof ResizeObserverEntry){var u=h(a(e.contentRect),3),i=u[0],o=u[2],s=Yf(i);n=!(r=Gf(i,o))&&!s}else r=!0===e;n||t({ft:!0,dt:r})};if(ad){var c=new ad((function(e){return s(e.pop())}));c.observe(o),Cd(n,(function(){c.disconnect()}))}else{if(!u)return Wd;var l=h(u(o,s,r),2),d=l[0],f=l[1];Cd(n,yd([hf(i,kp),Kf(i,"animationstart",d)],f))}return Yd(wd,Cd(n,Ff(e,i)))}},ov=function(e,t){var n,r=xf("os-trinsic-observer"),u=h(ql({o:!1}),1)[0],a=function(e,n){if(e){var r=u(function(e){return 0===e.h||e.isIntersecting||e.intersectionRatio>0}(e));return h(r,2)[1]&&!n&&t(r)&&[r]}},i=function(e,t){return a(t.pop(),e)};return[function(){var t=[];if(ud)(n=new ud(Yd(i,!1),{root:e})).observe(r),Cd(t,(function(){n.disconnect()}));else{var u=function(){var e=Uf(r);a(e)};Cd(t,iv(r,u)()),u()}return Yd(wd,Cd(t,Ff(e,r)))},function(){return n&&i(!0,n.takeRecords())}]},sv=function(e,t,n,r){var u,a,i,o,s,c,l="[".concat(Dp,"]"),d="[".concat(bp,"]"),f=["id","class","style","open","wrap","cols","rows"],p=e.vt,v=e.ht,m=e.ot,g=e.gt,_=e.bt,D=e.nt,b=e.wt,y=e.yt,C=e.St,E=e.Ot,A=function(e){return"rtl"===Nf(e,"direction")},F={$t:!1,ct:A(p)},x=Wp(),w=nv(av),k=ql({i:Vd,o:{w:0,h:0}},(function(){var r=w&&w.tt(e,t,F,x,n).ut,u=!(b&&D)&&ff(v,Dp,gp),a=!D&&y("arrange"),i=a&&tp(g),o=i&&E(),s=C(Ep,u),c=a&&r&&r()[0],l=Hf(m),d=qf(m);return c&&c(),ep(g,i),o&&o(),u&&s(),{w:l.w+d.w,h:l.h+d.h}})),B=h(k,1)[0],j=$d(r,{_:function(){return u},v:function(){return a},S:function(e,t){var n=h(e,1)[0],r=h(t,1)[0];return[yd(Jd(n),Jd(r)).reduce((function(e,t){return e[t]=n[t]||r[t],e}),{})]}}),S=function(e){var t=A(p);Qd(e,{Ct:c!==t}),Qd(F,{ct:t}),c=t},T=function(e,t){var n=h(e,2),u=n[0],a={xt:n[1]};return Qd(F,{$t:u}),!t&&r(a),a},O=function(e){var t=e.ft,n=e.dt,u=!(t&&!n)&&x.R?j:r,a={ft:t||n,dt:n};S(a),u(a)},N=function(e,t){var n=h(B(),2)[1],u={Ht:n};return S(u),n&&!t&&(e?r:j)(u),u},I=function(e,t,n){var r={Et:t};return S(r),t&&!n&&j(r),r},L=h(_?ov(v,T):[],2),P=L[0],M=L[1],R=!D&&iv(v,O,{dt:!0}),z=h(Qp(v,!1,I,{X:f,j:f}),2),Z=z[0],U=z[1],V=D&&ad&&new ad((function(e){var t=e[e.length-1].contentRect;O({ft:!0,dt:Gf(t,s)}),s=t})),H=$d((function(){var e=h(B(),2)[1];r({Ht:e})}),{_:222,p:!0});return[function(){V&&V.observe(v);var e=R&&R(),t=P&&P(),n=Z(),r=x.L((function(e){e?j({zt:e}):H()}));return function(){V&&V.disconnect(),e&&e(),t&&t(),o&&o(),n(),r()}},function(e){var t=e.It,n=e.At,r=e.Dt,s={},c=h(t("update.ignoreMutation"),1)[0],p=h(t("update.attributes"),2),v=p[0],g=p[1],b=h(t("update.elementEvents"),2),y=b[0],C=b[1],E=h(t("update.debounce"),2),A=E[0],F=E[1],x=n||r;if(C||g){i&&i(),o&&o();var w=Qp(_||m,!0,N,{j:yd(f,v||[]),Y:y,W:l,G:function(e,t){var n=e.target,r=e.attributeName;return!(t||!r||D)&&Ef(n,l,d)||!!yf(n,".".concat(jp))||!!function(e){return fd(c)&&c(e)}(e)}}),k=h(w,2),B=k[0],O=k[1];o=B(),i=O}if(F)if(j.m(),pd(A)){var L=A[0],P=A[1];u=cd(L)&&L,a=cd(P)&&P}else cd(A)?(u=A,a=!1):(u=!1,a=!1);if(x){var R=U(),z=M&&M(),Z=i&&i();R&&Qd(s,I(R[0],R[1],x)),z&&Qd(s,T(z[0],x)),Z&&Qd(s,N(Z[0],x))}return S(s),s},F]},cv=function(e,t,n,r){var u="--os-scroll-percent",a=(0,Wp().U)().scrollbars.slot,i=t.vt,o=t.ht,s=t.ot,c=t.Mt,l=t.gt,d=t.wt,f=t.nt,p=((c?{}:e).scrollbars||{}).slot,v=[],m=[],g=[],_=$p([i,o,s],(function(){return f&&d?i:o}),a,p),D=function(e){if(id){var t=new id({source:l,axis:e});return{kt:function(e){var n=e.Tt.animate(A({clear:["left"]},u,[0,1]),{timeline:t});return function(){return n.cancel()}}}}},b={x:D("x"),y:D("y")},y=function(e,t,n){var r=n?hf:vf;Dd(e,(function(e){r(e.Tt,t)}))},C=function(e,t){Dd(e,(function(e){var n=h(t(e),2);Of(n[0],n[1])}))},E=function(e,t,n){var r=dd(n),u=!r||!n;(!r||n)&&y(m,e,t),u&&y(g,e,t)},F=function(e){var t=e?"x":"y",n=e?Tp:Op,u=xf("".concat(jp," ").concat(n)),a=xf(Np),i=xf(Ip),o={Tt:u,Ut:a,Pt:i},s=b[t];return Cd(e?m:g,o),Cd(v,[Ff(u,a),Ff(a,i),Yd(Af,u),s&&s.kt(o),r(o,E,e)]),o},x=Yd(F,!0),w=Yd(F,!1);return x(),w(),[{Nt:function(){var e=function(){var e=n.Rt,t=n.Vt,r=function(e,t){return tf(0,1,e/(e+t)||0)};return{x:r(t.x,e.x),y:r(t.y,e.y)}}(),t=function(e){return function(t){return[t.Tt,A({},"--os-viewport-percent",Sf(e)+"")]}};C(m,t(e.x)),C(g,t(e.y))},qt:function(){if(!id){var e=n.Lt,t=up(e,tp(l)),r=function(e){return function(t){return[t.Tt,A({},u,Sf(e)+"")]}};C(m,r(t.x)),C(g,r(t.y))}},Bt:function(){var e=n.Lt,t=rp(e),r=function(e){return function(t){return[t.Tt,A({},"--os-scroll-direction",e?"0":"1")]}};C(m,r(t.x)),C(g,r(t.y))},Ft:function(){if(f&&!d){var e=n.Rt,t=n.Lt,r=rp(t),u=up(t,tp(l)),a=function(t){var n=t.Tt,a=bf(n)===s&&n,i=function(e,t,n){var r=t*e;return Tf(n?r:-r)};return[a,a&&{transform:Mf({x:i(u.x,e.x,r.x),y:i(u.y,e.y,r.y)})}]};C(m,a),C(g,a)}},jt:E,Xt:{Yt:m,Wt:x,Jt:Yd(C,m)},Gt:{Yt:g,Wt:w,Jt:Yd(C,g)}},function(){return Ff(_,m[0].Tt),Ff(_,g[0].Tt),Yd(wd,v)}]},lv=function(e,t,n,r){return function(u,a,i){var o=t.ht,s=t.ot,c=t.nt,l=t.gt,d=t.Kt,f=t.Ot,p=u.Tt,v=u.Ut,m=u.Pt,g=h(Gd(333),2),_=g[0],D=g[1],b=h(Gd(444),2),y=b[0],C=b[1],E=function(e){fd(l.scrollBy)&&l.scrollBy({behavior:"smooth",left:e.x,top:e.y})},F=!0;return Yd(wd,[Kf(m,"pointermove pointerleave",r),Kf(p,"pointerenter",(function(){a(Mp,!0)})),Kf(p,"pointerleave pointercancel",(function(){a(Mp,!1)})),!c&&Kf(p,"mousedown",(function(){var e=Cf();(uf(e,bp)||uf(e,Dp)||e===document.body)&&ed(Yd(ap,s),25)})),Kf(p,"wheel",(function(e){var t=e.deltaX,n=e.deltaY,r=e.deltaMode;F&&0===r&&bf(p)===o&&E({x:t,y:n}),F=!1,a(Up,!0),_((function(){F=!0,a(Up)})),Qf(e)}),{H:!1,I:!0}),Kf(p,"pointerdown",Yd(Kf,d,"click",Xf,{A:!0,I:!0,H:!1}),{I:!0}),function(){var t="pointerup pointercancel lostpointercapture",r="client".concat(i?"X":"Y"),u=i?Pd:Md,a=i?"left":"top",o=i?"w":"h",s=i?"x":"y",c=function(e,t){return function(r){var u=n.Rt,a=Uf(v)[o]-Uf(m)[o],i=t*r/a*u[s];ep(l,A({},s,e+i))}},p=[];return Kf(v,"pointerdown",(function(n){var i=yf(n.target,".".concat(Ip))===m,h=i?m:v,g=e.scrollbars,_=g[i?"dragScroll":"clickScroll"],D=n.button,b=n.isPrimary,A=n.pointerType,F=g.pointers;if(0===D&&b&&_&&(F||[]).includes(A)){wd(p),C();var x=!i&&(n.shiftKey||"instant"===_),w=Yd(Wf,m),k=Yd(Wf,v),B=$l(Wf(l)[u])/Uf(l)[o]||1,j=c(tp(l)[s],1/B),S=n[r],T=w(),O=k(),N=T[u],I=function(e,t){return(e||w())[a]-(t||k())[a]}(T,O)+N/2,L=S-O[a],P=i?0:L-I,M=function(e){wd(Z),h.releasePointerCapture(e.pointerId)},R=i||x,z=f(),Z=[Kf(d,t,M),Kf(d,"selectstart",(function(e){return Qf(e)}),{H:!1}),Kf(v,t,M),R&&Kf(v,"pointermove",(function(e){return j(P+(e[r]-S))})),R&&function(){var e=tp(l);z();var t=tp(l),n={x:t.x-e.x,y:t.y-e.y};(Kl(n.x)>3||Kl(n.y)>3)&&(f(),ep(l,e),E(n),y(z))}];if(h.setPointerCapture(n.pointerId),x)j(P);else if(!i){var U=nv("__osClickScrollPlugin");if(U){var V=U(j,P,N,(function(e){e?z():Cd(Z,z)}));Cd(Z,V),Cd(p,Yd(V,!0))}}}}))}(),D,C])}},dv=function(e){var t=Wp(),n=t.U,r=t.R,u=n().elements,a=u.padding,i=u.viewport,o=u.content,s=gd(e),c=s?{}:e,l=c.elements||{},d=l.padding,f=l.viewport,p=l.content,v=s?e:c.target,h=_f(v),m=v.ownerDocument,g=m.documentElement,_=function(){return m.defaultView||Wl},D=Yd(Gp,[v]),b=Yd($p,[v]),y=Yd(xf,""),C=Yd(D,y,i),E=Yd(b,y,o),A=C(f),F=A===v,x=F&&h,w=!F&&E(p),k=!F&&A===w,B=x?g:A,j=x?B:v,S=!F&&b(y,a,d),T=!k&&w,O=[T,B,S,j].map((function(e){return gd(e)&&!bf(e)&&e})),N=function(e){return e&&bd(O,e)},I=!N(B)&&function(e){var t=Uf(e),n=Hf(e),r=Nf(e,Id),u=Nf(e,Ld);return n.w-t.w>0&&!rv(r)||n.h-t.h>0&&!rv(u)}(B)?B:v,L=x?g:B,P={vt:v,ht:j,ot:B,ln:S,bt:T,gt:L,Qt:x?m:B,an:h?g:I,Kt:m,wt:h,Mt:s,nt:F,un:_,yt:function(e){return ff(B,bp,e)},St:function(e,t){return df(B,bp,e,t)},Ot:function(){return df(L,bp,"scrolling",!0)}},M=P.vt,R=P.ht,z=P.ln,Z=P.ot,U=P.bt,V=[function(){of(R,[Dp,mp]),of(M,mp),h&&of(g,[mp,Dp])}],H=Df([U,Z,z,R,M].find((function(e){return e&&!N(e)}))),q=x?M:U||Z,W=Yd(wd,V);return[P,function(){var e=_(),t=Cf(),n=function(e){Ff(bf(e),Df(e)),Af(e)},u=function(e){return Kf(e,"focusin focusout focus blur",Xf,{I:!0,H:!1})},a="tabindex",i=rf(Z,a),o=u(t);return af(R,Dp,F?"":"host"),af(z,Fp,""),af(Z,bp,""),af(U,xp,""),F||(af(Z,a,i||"-1"),h&&af(g,_p,"")),Ff(q,H),Ff(R,z),Ff(z||R,!F&&Z),Ff(Z,U),Cd(V,[o,function(){var e=Cf(),t=N(Z),r=t&&e===Z?M:e,o=u(r);of(z,Fp),of(U,xp),of(Z,bp),h&&of(g,_p),i?af(Z,a,i):of(Z,a),N(U)&&n(U),t&&n(Z),N(z)&&n(z),ap(r),o()}]),r&&!F&&(lf(Z,bp,Ap),Cd(V,Yd(of,Z,bp))),ap(!F&&h&&t===M&&e.top===e?Z:t),o(),H=0,W},W]},fv=function(e){var t=e.bt;return function(e){var n=e.Zt,r=e._n,u=e.Dt,a=(n||{}).xt,i=r.$t;t&&(a||u)&&Of(t,A({},Md,i&&"100%"))}},pv=function(e,t){var n=e.ht,r=e.ln,u=e.ot,a=e.nt,i=h(ql({i:qd,o:Pf()},Yd(Pf,n,"padding","")),2),o=i[0],s=i[1];return function(e){var n=e.It,i=e.Zt,c=e._n,l=e.Dt,d=h(s(l),2),f=d[0],p=d[1],v=Wp().R,m=i||{},g=m.ft,_=m.Ht,D=m.Ct,b=c.ct,y=h(n("paddingAbsolute"),2),C=y[0],E=y[1];if(g||p||(l||_)){var F=h(o(l),2);f=F[0],p=F[1]}var x=!a&&(E||D||p);if(x){var w=!C||!r&&!v,k=f.r+f.l,B=f.t+f.b,j=A(A(A(A(A(A(A({},Od,w&&!b?-k:0),Nd,w?-B:0),Td,w&&b?-k:0),"top",w?-f.t:0),"right",w?b?-f.r:"auto":0),"left",w?b?"auto":-f.l:0),Pd,w&&"calc(100% + ".concat(k,"px)")),S=A(A(A(A({},kd,w?f.t:0),Bd,w?f.r:0),Sd,w?f.b:0),jd,w?f.l:0);Of(r||u,j),Of(u,S),Qd(t,{ln:f,dn:!w,rt:r?S:Qd({},j,S)})}return{fn:x}}},vv=function(e,t){var n=Wp(),r=e.ht,u=e.ln,a=e.ot,i=e.nt,o=e.Qt,s=e.gt,c=e.wt,l=e.St,d=e.un,f=n.R,p=c&&i,v=Yd(Yl,0),m={display:function(){return!1},direction:function(e){return"ltr"!==e},flexDirection:function(e){return e.endsWith("-reverse")},writingMode:function(e){return"horizontal-tb"!==e}},g=Jd(m),_={i:Vd,o:{w:0,h:0}},D={i:Hd,o:{}},b=function(e){l(Ep,!p&&e)},y=function(e){var t=g.some((function(t){var n=e[t];return n&&m[t](n)}));if(!t)return{D:{x:0,y:0},M:{x:1,y:1}};b(!0);var n=tp(s),r=l("noContent",!0),u=Kf(o,Zd,(function(e){var t=tp(s);e.isTrusted&&t.x===n.x&&t.y===n.y&&Jf(e)}),{I:!0,A:!0});ep(s,{x:0,y:0}),r();var a=tp(s),i=Hf(s);ep(s,{x:i.w,y:i.h});var c=tp(s);ep(s,{x:c.x-a.x<1&&-i.w,y:c.y-a.y<1&&-i.h});var d=tp(s);return ep(s,n),Xl((function(){return u()})),{D:a,M:d}},C=function(e,t){var n=Wl.devicePixelRatio%1!=0?1:0,r={w:v(e.w-t.w),h:v(e.h-t.h)};return{w:r.w>n?r.w:0,h:r.h>n?r.h:0}},E=h(ql(_,Yd(qf,a)),2),A=E[0],F=E[1],x=h(ql(_,Yd(Hf,a)),2),w=x[0],k=x[1],B=h(ql(_),2),j=B[0],S=B[1],T=h(ql(D),1)[0],O=h(ql(_),2),N=O[0],I=O[1],L=h(ql(D),1)[0],P=ql({i:function(e,t){return Ud(e,t,g)},o:{}},(function(){return function(e){return!!e&&function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}(e)}(a)?Nf(a,g):{}})),M=h(P,1)[0],R=ql({i:function(e,t){return Hd(e.D,t.D)&&Hd(e.M,t.M)},o:{D:{x:0,y:0},M:{x:0,y:0}}}),z=h(R,2),Z=z[0],U=z[1],V=nv(av),H=function(e,t){return"".concat(t?yp:Cp).concat(function(e){var t=String(e||"");return t?t[0].toUpperCase()+t.slice(1):""}(e))},q=function(e){var t=function(e){return[Rd,zd,Zd].map((function(t){return H(t,e)}))},n=t(!0).concat(t()).join(" ");l(n),l(Jd(e).map((function(t){return H(e[t],"x"===t)})).join(" "),!0)};return function(i,o){var s=i.It,c=i.Zt,m=i._n,g=i.Dt,_=o.fn,D=c||{},E=(D.ft,D.Ht,D.Ct),x=D.dt,B=D.zt,O=V&&V.tt(e,t,m,n,s)||{},P=O.it,R=O.ut,z=O._t,H=function(e,t){var n=t.k,r=h(e("showNativeOverlaidScrollbars"),2),u=r[0],a=r[1];return[u&&n.x&&n.y,a]}(s,n),W=h(H,2),Y=W[0],G=W[1],$=h(s("overflow"),2),K=$[0],J=$[1],Q=rv(K.x),X=rv(K.y),ee=F(g),te=k(g),ne=S(g),re=I(g);G&&f&&l(Ap,!Y),ff(r,Dp,gp)&&b(!0);var ue=h(R?R():[],1)[0],ae=h(ee=A(g),1)[0],ie=h(te=w(g),1)[0],oe=Vf(a),se=p&&Zf(d()),ce={w:v(ie.w+ae.w),h:v(ie.h+ae.h)},le={w:v((se?se.w:oe.w+v(oe.w-ie.w))+ae.w),h:v((se?se.h:oe.h+v(oe.h-ie.h))+ae.h)};ue&&ue(),re=N(le),ne=j(C(ce,le),g);var de=h(re,2),fe=de[0],pe=de[1],ve=h(ne,2),he=ve[0],me=ve[1],ge=h(te,2),_e=ge[0],De=ge[1],be=h(ee,2),ye=be[0],Ce=be[1],Ee=h(T({x:he.w>0,y:he.h>0}),2),Ae=Ee[0],Fe=Ee[1],xe=Q&&X&&(Ae.x||Ae.y)||Q&&Ae.x&&!Ae.y||X&&Ae.y&&!Ae.x,we=_||E||B||Ce||De||pe||me||J||G||!0,ke=uv(Ae,K),Be=h(L(ke.K),2),je=Be[0],Se=Be[1],Te=h(M(g),2),Oe=Te[0],Ne=Te[1],Ie=E||x||Ne||Fe||g,Le=h(Ie?Z(y(Oe),g):U(),2),Pe=Le[0],Me=Le[1];return we&&(Se&&q(ke.K),z&&P&&Of(a,z(ke,m,P(ke,_e,ye)))),b(!1),df(r,Dp,gp,xe),df(u,Fp,gp,xe),Qd(t,{K:je,Vt:{x:fe.w,y:fe.h},Rt:{x:he.w,y:he.h},rn:Ae,Lt:np(Pe,he)}),{en:Se,nn:pe,sn:me,cn:Me||me,vn:Ie}}},hv=function(e){var t=h(dv(e),3),n=t[0],r=t[1],u=t[2],a={ln:{t:0,r:0,b:0,l:0},dn:!1,rt:A(A(A(A(A(A(A({},Od,0),Nd,0),Td,0),kd,0),Bd,0),Sd,0),jd,0),Vt:{x:0,y:0},Rt:{x:0,y:0},K:{x:zd,y:zd},rn:{x:!1,y:!1},Lt:{D:{x:0,y:0},M:{x:0,y:0}}},i=n.vt,o=n.gt,s=n.nt,c=n.Ot,l=Wp(),d=l.R,f=l.k,p=!d&&(f.x||f.y),v=[fv(n),pv(n,a),vv(n,a)];return[r,function(e){var t={},n=p&&tp(o),r=n&&c();return Dd(v,(function(n){Qd(t,n(e,t)||{})})),ep(o,n),r&&r(),!s&&ep(i,0),t},a,n,u]},mv=function(e,t,n,r,u){var a=!1,i=fp(t,{}),o=h(hv(e),5),s=o[0],c=o[1],l=o[2],d=o[3],f=o[4],p=sv(d,l,i,(function(e){F({},e)})),v=h(p,3),m=v[0],g=v[1],_=v[2],D=function(e,t,n,r,u,a){var i,o,s,c,l,d=Wd,f=0,p=function(e){return"mouse"===e.pointerType},v=h(Gd(),2),m=v[0],g=v[1],_=h(Gd(100),2),D=_[0],b=_[1],y=h(Gd(100),2),C=y[0],E=y[1],A=h(Gd((function(){return f})),2),F=A[0],x=A[1],w=cv(e,u,r,lv(t,u,r,(function(e){return p(e)&&z()}))),k=h(w,2),B=k[0],j=k[1],S=u.ht,T=u.Qt,O=u.wt,N=B.jt,I=B.Nt,L=B.qt,P=B.Bt,M=B.Ft,R=function(e,t){if(x(),e)N(Zp);else{var n=Yd(N,Zp,!0);f>0&&!t?F(n):n()}},z=function(){(s?i:c)||(R(!0),D((function(){R(!1)})))},Z=function(e){N(zp,e,!0),N(zp,e,!1)},U=function(e){p(e)&&(i=s,s&&R(!0))},V=[x,b,E,g,function(){return d()},Kf(S,"pointerover",U,{A:!0}),Kf(S,"pointerenter",U),Kf(S,"pointerleave",(function(e){p(e)&&(i=!1,s&&R(!1))})),Kf(S,"pointermove",(function(e){p(e)&&o&&z()})),Kf(T,"scroll",(function(e){m((function(){L(),z()})),a(e),M()}))];return[function(){return Yd(wd,Cd(V,j()))},function(e){var t=e.It,u=e.Dt,a=e.Zt,i=e.tn||{},p=i.nn,v=i.sn,m=i.en,g=i.cn,_=a||{},D=_.Ct,b=_.dt,y=n.ct,E=Wp().k,A=r.K,F=r.rn,x=h(t("showNativeOverlaidScrollbars"),2),w=x[0],k=x[1],B=h(t("scrollbars.theme"),2),j=B[0],S=B[1],z=h(t("scrollbars.visibility"),2),U=z[0],V=z[1],H=h(t("scrollbars.autoHide"),2),q=H[0],W=H[1],Y=h(t("scrollbars.autoHideSuspend"),2),G=Y[0],$=Y[1],K=h(t("scrollbars.autoHideDelay"),1)[0],J=h(t("scrollbars.dragScroll"),2),Q=J[0],X=J[1],ee=h(t("scrollbars.clickScroll"),2),te=ee[0],ne=ee[1],re=h(t("overflow"),2),ue=re[0],ae=re[1],ie=b&&!u,oe=F.x||F.y,se=p||v||g||D||u,ce=m||V||ae,le=w&&E.x&&E.y,de=function(e,t,n){var r=e.includes(Zd)&&(U===Rd||"auto"===U&&t===Zd);return N(Lp,r,n),r};if(f=K,ie&&(G&&oe?(Z(!1),d(),C((function(){d=Kf(T,"scroll",Yd(Z,!0),{A:!0})}))):Z(!0)),k&&N("os-theme-none",le),S&&(N(l),N(j,!0),l=j),$&&!G&&Z(!0),W&&(o="move"===q,s="leave"===q,R(c="never"===q,!0)),X&&N(Hp,Q),ne&&N(Vp,!!te),ce){var fe=de(ue.x,A.x,!0),pe=de(ue.y,A.y,!1);N(Pp,!(fe&&pe))}se&&(L(),I(),M(),g&&P(),N(Rp,!F.x,!0),N(Rp,!F.y,!1),N(Sp,y&&!O))},{},B]}(e,t,_,l,d,u),b=h(D,4),y=b[0],C=b[1],E=b[3],A=function(e){return Jd(e).some((function(t){return!!e[t]}))},F=function(e,u){if(n())return!1;var i=e.pn,o=e.Dt,s=e.At,l=e.hn,d=i||{},f=!!o||!a,p={It:fp(t,d,f),pn:d,Dt:f};if(l)return C(p),!1;var v=u||g(Qd({},p,{At:s})),h=c(Qd({},p,{_n:_,Zt:v}));C(Qd({},p,{Zt:v,tn:h}));var m=A(v),D=A(h),b=m||D||!ef(d)||f;return a=!0,b&&r(e,{Zt:v,tn:h}),b};return[function(){var e=d.an,t=d.gt,n=d.Ot,r=tp(e),u=[m(),s(),y()],a=n();return ep(t,r),a(),Yd(wd,u)},F,function(){return{gn:_,bn:l}},{wn:d,yn:E},f]},gv=function(e,t,n){var r=Wp().N,u=gd(e),a=u?e:e.target,i=Jp(a);if(t&&!i){var o=!1,s=[],c={},l=function(e){var t=Xd(e),n=nv("__osOptionsValidationPlugin");return n?n(t,!0):t},d=Qd({},r(),l(t)),f=h(op(),3),p=f[0],v=f[1],m=f[2],g=h(op(n),3),_=g[0],D=g[1],b=g[2],y=function(e,t){b(e,t),m(e,t)},C=mv(e,d,(function(){return o}),(function(e,t){var n=e.pn,r=e.Dt,u=t.Zt,a=t.tn,i=u.ft,o=u.Ct,s=u.xt,c=u.Ht,l=u.Et,d=u.dt,f=a.nn,p=a.sn,v=a.en,h=a.cn;y("updated",[j,{updateHints:{sizeChanged:!!i,directionChanged:!!o,heightIntrinsicChanged:!!s,overflowEdgeChanged:!!f,overflowAmountChanged:!!p,overflowStyleChanged:!!v,scrollCoordinatesChanged:!!h,contentMutation:!!c,hostMutation:!!l,appear:!!d},changedOptions:n||{},force:!!r}])}),(function(e){return y("scroll",[j,e])})),E=h(C,5),A=E[0],F=E[1],x=E[2],w=E[3],k=E[4],B=function(e){!function(e){Kp.delete(e)}(a),wd(s),o=!0,y("destroyed",[j,e]),v(),D()},j={options:function(e,t){if(e){var n=t?r():{},u=dp(d,Qd(n,l(e)));ef(u)||(Qd(d,u),F({pn:u}))}return Qd({},d)},on:_,off:function(e,t){e&&t&&D(e,t)},state:function(){var e=x(),t=e.gn,n=e.bn,r=t.ct,u=n.Vt,a=n.Rt,i=n.K,s=n.rn,c=n.ln,l=n.dn,d=n.Lt;return Qd({},{overflowEdge:u,overflowAmount:a,overflowStyle:i,hasOverflow:s,scrollCoordinates:{start:d.D,end:d.M},padding:c,paddingAbsolute:l,directionRTL:r,destroyed:o})},elements:function(){var e=w.wn,t=e.vt,n=e.ht,r=e.ln,u=e.ot,a=e.bt,i=e.gt,o=e.Qt,s=w.yn,c=s.Xt,l=s.Gt,d=function(e){var t=e.Pt,n=e.Ut;return{scrollbar:e.Tt,track:n,handle:t}},f=function(e){var t=e.Yt,n=e.Wt,r=d(t[0]);return Qd({},r,{clone:function(){var e=d(n());return F({hn:!0}),e}})};return Qd({},{target:t,host:n,padding:r||u,viewport:u,content:a||u,scrollOffsetElement:i,scrollEventElement:o,scrollbarHorizontal:f(c),scrollbarVertical:f(l)})},update:function(e){return F({Dt:e,At:!0})},destroy:Yd(B,!1),plugin:function(e){return c[Jd(e)[0]]}};return Cd(s,[k]),function(e,t){Kp.set(e,t)}(a,j),tv(Xp,gv,[j,p,c]),function(e,t){var n=t||{},r=n.nativeScrollbarsOverlaid,u=n.body,a=Wp(),i=a.k,o=a.R,s=(0,a.U)().cancel,c=s.nativeScrollbarsOverlaid,l=s.body,d=null!=r?r:c,f=od(u)?l:u,p=(i.x||i.y)&&d,v=e&&(sd(f)?!o:f);return!!p||!!v}(w.wn.wt,!u&&e.cancel)?(B(!0),j):(Cd(s,A()),y("initialized",[j]),j.update(),j)}return i};gv.plugin=function(e){var t=pd(e),n=t?e:[e],r=n.map((function(e){return tv(e,gv)[0]}));return function(e){Dd(e,(function(e){return Dd(e,(function(t,n){Xp[n]=e[n]}))}))}(n),t?r:r[0]},gv.valid=function(e){var t=e&&e.elements,n=fd(t)&&t();return md(n)&&!!Jp(n.target)},gv.env=function(){var e=Wp(),t=e.T,n=e.k,r=e.R,u=e.V,a=e.B,i=e.F,o=e.U,s=e.P,c=e.N,l=e.q;return Qd({},{scrollbarsSize:t,scrollbarsOverlaid:n,scrollbarsHiding:r,scrollTimeline:u,staticDefaultInitialization:a,staticDefaultOptions:i,getDefaultInitialization:o,setDefaultInitialization:s,getDefaultOptions:c,setDefaultOptions:l})},gv.nonce=function(e){If=e};var _v=function(){if(("undefined"==typeof window?"undefined":v(window))>"u"){var e=function(){};return[e,e]}var t,n,r=window,u="function"==typeof r.requestIdleCallback,a=r.requestAnimationFrame,i=r.cancelAnimationFrame,o=u?r.requestIdleCallback:a,s=u?r.cancelIdleCallback:i,c=function(){s(t),i(n)};return[function(e,r){c(),t=o(u?function(){c(),n=a(e)}:e,"object"==v(r)?r:{timeout:2233})},c]},Dv=S.forwardRef((function(e,t){var n=e.element,r=void 0===n?"div":n,a=e.options,o=e.events,s=e.defer,c=e.children,l=i(e,u),d=r,f=S.useRef(null),p=S.useRef(null),v=function(e){var t=e||{},n=t.options,r=t.events,u=t.defer,a=h(S.useMemo(_v,[]),2),i=a[0],o=a[1],s=S.useRef(null),c=S.useRef(u),l=S.useRef(n),d=S.useRef(r);return S.useEffect((function(){c.current=u}),[u]),S.useEffect((function(){var e=s.current;l.current=n,gv.valid(e)&&e.options(n||{},!0)}),[n]),S.useEffect((function(){var e=s.current;d.current=r,gv.valid(e)&&e.on(r||{},!0)}),[r]),S.useEffect((function(){return function(){var e;o(),null==(e=s.current)||e.destroy()}}),[]),S.useMemo((function(){return[function(e){var t=s.current;if(!gv.valid(t)){var n=c.current,r=l.current||{},u=d.current||{},a=function(){return s.current=gv(e,r,u)};n?i(a,n):a()}},function(){return s.current}]}),[])}({options:a,events:o,defer:s}),m=h(v,2),g=m[0],_=m[1];return S.useEffect((function(){var e=f.current,t=p.current;if(e){return g("body"===r?{target:e,cancel:{body:null}}:{target:e,elements:{viewport:t,content:t}}),function(){var e;return null==(e=_())?void 0:e.destroy()}}}),[g,r]),S.useImperativeHandle(t,(function(){return{osInstance:_,getElement:function(){return f.current}}}),[]),N.createElement(d,E({"data-overlayscrollbars-initialize":"",ref:f},l),"body"===r?c:N.createElement("div",{"data-overlayscrollbars-contents":"",ref:p},c))}));function bv(e,t,n){var r=new IntersectionObserver((function(e){var t=e[0].isIntersecting;null==n||n(t)}),t);return r.observe(e),r}var yv=function(){var e=S.useRef(null),t=S.useRef(null),n=S.useCallback((function(n){var r,u,a=e.current,i=t.current;return a&&(r=bv(a,n.options,(function(e){n.onHeader(e)}))),i&&(u=bv(i,n.options,(function(e){n.onFooter(e)}))),function(){var e,t;null===(e=r)||void 0===e||e.disconnect(),null===(t=u)||void 0===t||t.disconnect()}}),[]);return{headElRef:e,footerElRef:t,run:n}},Cv="_bottomFixedArea_12mgx_6",Ev="_paddingBottom_12mgx_15",Av=function(e){var t=e.page,n=Sr().enableUserInput;return t!==ce.Conversation?null:T.jsx(Dv,{className:fl(Cv,A({},Ev,!n)),options:{scrollbars:{autoHide:"scroll"}},children:T.jsx(nu,{})})};function Fv(e){return e.flatMap((function(e){return e.items.map((function(t){return E(E({},e),t)}))}))}var xv=Ot.getSubLogger({name:"ErrorBoundary"}),wv=Ot.getSubLogger({name:"GlobalErrorHandler"}),kv=Ot.getSubLogger({name:"MediaSourceErrorBoundary"});function Bv(e,t,n){n.error(e),t.componentStack&&n.error("Component stack: ".concat(t.componentStack))}function jv(e,t){Bv(e,t,xv)}function Sv(e){Bv(e,{},kv)}function Tv(e){return"system"===e.type}function Ov(e,t){return!!t&&(e.alignment===t.alignment&&e.formattedTime===t.formattedTime&&e.role===t.role&&e.rid===t.rid)}function Nv(e,t){return void 0===t||(!!Tv(t)||!Ov(e,t))}function Iv(e,t){return void 0===t||(!!Tv(t)||!Ov(e,t))}function Lv(){}function Pv(e){var t,n,r=e.message,u=e.messageArray,a=e.index,i=e.onButtonClick,o=Mr(Nr),s=o.linkProtocol,c=o.linkTarget,l=o.botIconVerticalAlign,d=r.type,f=r.alignment,p=r.formattedTime,v=r.participantName,m=void 0===v?"":v,g=r.avatar,_=r.resend,D=h(I(),1)[0],b=hc().emit,y=_c(),C={avatarVerticalAlign:l,linkProtocol:s,linkTarget:c,errorMessageText:D("invalidRichMedia"),onButtonClick:i,onMediaSourceError:Sv,onMessageError:jv},A="received"===f,F="sent"===f,x="typing"===d,w="system"===d,k="file"===d,B=["file","audio","video","image"].indexOf(d)>-1,j=w||k,O=a===u.length-1,N=Ov(r,u[a-1]),L=Nv(r,u[a-1]),P=Iv(r,u[a+1]),M=!w&&L&&A,R=!w&&P&&!!m,z=!w&&P&&!!p,Z=S.useMemo((function(){return z?p.replace(/AM/gi,D("AM")).replace(/PM/gi,D("PM")):""}),[D,z,p]);j&&null!=r&&null!==(t=r.smart_text)&&void 0!==t&&t.key&&(r.children=D(r.smart_text.key,(null===(n=r.smart_text)||void 0===n?void 0:n.options)||{}));return T.jsx(Hl.message,{immediate:B||w||x,isReceived:A,children:T.jsx(Zu,E(E(E({},r),C),{},{enableRTL:y,hasAvatar:M,hasName:R,hasTimestamp:z,formattedTime:Z,avatarUrl:null==g?void 0:g.url,avatarType:null==g?void 0:g.type,participantName:D(m),isInSeries:N,isLastMessage:O,onResend:_||Lv,onMediaLoadedData:function(){F&&b(se.need_scroll_to_bottom)}}))})}function Mv(e){var t=e.onButtonClick,n=S.useRef(Date.now()),r=Mr(Lr).messages,u=Mr(Nr),a=u.linkProtocol,i=u.linkTarget,o=u.botIcon,s={avatarVerticalAlign:u.botIconVerticalAlign,linkProtocol:a,linkTarget:i,errorMessageText:(0,h(I(),1)[0])("invalidRichMedia"),onButtonClick:t,onMediaSourceError:Sv,onMessageError:jv},c=S.useCallback((function(){return!1}),[]);return T.jsx(T.Fragment,{children:r.map((function(e,t){return S.createElement(Zu,E(E({},s),{},{key:e.key,sid:e.key,tid:e.key,avatarUrl:o,status:"success",alignment:"received",isInSeries:t>0,hasAvatar:0===t,onResend:c,timestamp:n.current,hasTimestamp:!1,formattedTime:Cr(n.current),type:"text",text:e.value}))}))})}var Rv=function(e){var t=e.messages,n=tc().send,r=Ul(),u=S.useCallback(function(){var e=_(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next="reply"===e.t0?3:"call"===e.t0||"link"===e.t0?7:9;break;case 3:if(!r){e.next=6;break}return e.next=6,n({data:t.text,type:t.type,payload:t.payload});case 6:return e.abrupt("break",9);case 7:return(u=t.payload)&&window.open(u,"_blank"),e.abrupt("break",9);case 9:case"end":return e.stop()}var u}),e)})));return function(t){return e.apply(this,arguments)}}(),[r,n]);return T.jsxs(T.Fragment,{children:[T.jsx(Mv,{onButtonClick:u}),Fv(t).map((function(e,t,n){return T.jsx(Pv,{message:e,index:t,messageArray:n,onButtonClick:u},"".concat(e.tid||e.sid,"-").concat(t))}))]})},zv="_text_1gk1d_6",Zv=function(){var e=Mr((function(e){return e.config.options.endedChatMessage})),t=h(I(),1)[0];return T.jsx("p",{className:zv,"data-qa":"chat ended",children:e||t("endedChatMessage")})},Uv="_feedbackMessage_1ke5d_6",Vv="_feedbackContainer_1ke5d_14",Hv="_iframe_1ke5d_34",qv="_hidden_1ke5d_49",Wv=function(e){var t=e.feedbackLink,n=h(I(),1)[0],r=S.useRef(null),u=S.useRef(null),a=S.useRef(null),i=mc(),o=i.showMessage,s=i.height,c=i.message,l=i.hidden,d=i.pending,f=hc(),p=f.updateFeedbackStatus,v=f.emit,m=S.useCallback((function(){a.current&&(clearTimeout(a.current),a.current=null)}),[]),g=S.useCallback((function(e){if(m(),e&&"string"==typeof e.status&&"string"==typeof e.message){var t=e.status,n=e.message,r=e.height;p({status:t,message:n,height:void 0===r?300:r}),"SURVEY_UNSUBMITTED"===t&&v(se.need_scroll_to_bottom)}else p({status:"error",message:"feedbackLoadFailed",height:0,reason:e})}),[m,p,v]),_=S.useCallback((function(){m(),a.current=setTimeout((function(){p({status:"error",message:"feedbackLoadFailed",height:0,reason:"timeout"})}),15e3)}),[m,p]),D=S.useCallback((function(){var e;if(u.current)return!1;var t=r.current;return!!t&&(u.current=new Dr({name:"Parent",sender:t.contentWindow,topic:"feedback"}),null===(e=u.current)||void 0===e||e.register("feedbackStatusChange",g),!0)}),[g]),b=S.useCallback((function(){var e,t;null===(e=u.current)||void 0===e||e.unregister("feedbackStatusChange"),null===(t=u.current)||void 0===t||t.destroy(),u.current=null}),[]);return S.useEffect((function(){return r.current&&(_(),D()),function(){m(),b()}}),[_,m,D,b]),S.useEffect((function(){(l||o)&&(m(),b())}),[l,o,m,b]),l?T.jsx("div",{"aria-hidden":"true",className:qv}):o?T.jsx("p",{className:Uv,"aria-label":n(c),children:n(c)}):T.jsx("div",{className:Vv,style:{height:d||l?0:s},"data-testid":"feedback-container","aria-hidden":d||l,"aria-label":"Feedback",children:T.jsx("iframe",{ref:r,src:t,className:Hv,onError:function(){p({status:"error",message:"feedbackLoadFailed",height:0,reason:"iframeLoadedError"})},title:"Feedback","data-testid":"feedback-iframe"})})},Yv="_hidden_xxytr_1",Gv=function(e){var t=e.message;return t?T.jsx("div",{className:Yv,role:"log","aria-atomic":"true","aria-live":"polite",children:t.items.map((function(e,t){return"text"===e.type?T.jsx("p",{children:e.text},t):null}))}):null},$v="_wrapper_ivzoz_14",Kv="_chatContent_ivzoz_22",Jv=(s("D",(function(e){var t=e.page,n=e.messages,r=e.feedbackLink,u=void 0===r?"":r,a=e.shouldLoadFeedback,i=tc().hideTypingMessage,o=function(){var e=S.useRef(null),t=S.useRef(null),n=S.useRef(null),r=S.useRef(!1),u=yv(),a=u.headElRef,i=u.footerElRef,o=u.run,s=gc(),c=hc(),l=c.on,d=c.off,f=c.updateChatContentScroll,p=c.updateUnreadMessageCount,v=S.useCallback((function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.current&&(clearTimeout(e.current),e.current=null),setTimeout((function(){var e;p(0);var r=null===(e=n.current)||void 0===e?void 0:e.osInstance();if(r){var u=r.elements().scrollOffsetElement,a=Math.ceil(u.scrollHeight);u.scrollTo({behavior:t?"smooth":"auto",top:a})}}),1e3/60)}),[p]),h=S.useCallback((function(){var e,r=null===(e=n.current)||void 0===e||null===(e=e.osInstance())||void 0===e||null===(e=e.elements())||void 0===e?void 0:e.scrollOffsetElement;if(r){var u=r.scrollTop,a=void 0===u?0:u,i=r.scrollHeight,o=void 0===i?0:i,s=r.offsetHeight,c=void 0===s?0:s,l=Math.floor(c),d=Math.floor(o),p=Math.floor(a),v=d-l,h=v<=0?{scrollTop:p,scrollOver:v,scrollPercent:0}:{scrollTop:p,scrollOver:v,scrollPercent:Math.ceil(p/(d-l)*100)};t.current&&(clearTimeout(t.current),t.current=null),t.current=setTimeout((function(){f(h)}),50)}}),[f]);return S.useEffect((function(){return l(se.need_scroll_to_bottom,v),l(se.send_success,v),l(se.send_failure,v),function(){d(se.need_scroll_to_bottom,v),d(se.send_success,v),d(se.send_failure,v)}}),[v,l,d]),S.useEffect((function(){var e,t=null===(e=n.current)||void 0===e?void 0:e.getElement();if(t)return o({options:{root:t},onHeader:function(e){f({headerVisible:e})},onFooter:function(e){f({footerVisible:e}),r.current=e}})}),[o,f]),S.useEffect((function(){var e,t=null===(e=n.current)||void 0===e?void 0:e.getElement();if(t){var u=new MutationObserver((function(){r.current&&v()}));return u.observe(t,{childList:!0,attributes:!0,subtree:!0,attributeFilter:[]}),function(){u.disconnect()}}}),[v]),S.useEffect((function(){s&&v()}),[s,v]),S.useEffect((function(){return function(){e.current&&(clearTimeout(e.current),e.current=null),t.current&&(clearTimeout(t.current),t.current)}}),[]),{osRef:n,headElRef:a,footerElRef:i,onScroll:h}}(),s=o.osRef,c=o.headElRef,l=o.footerElRef,d=o.onScroll,f=t===ce.End||t===ce.Error,p=a&&u;return S.useEffect((function(){f&&i()}),[f,i]),T.jsxs("div",{className:$v,children:[T.jsxs(Dv,{className:Kv,events:{scroll:d},options:{scrollbars:{autoHide:"scroll"},overflow:{x:"hidden"}},ref:s,children:[T.jsx("div",{ref:c,style:{width:"100%",height:1}}),T.jsx(Rv,{messages:n}),f&&T.jsx(Zv,{}),p&&T.jsx(Wv,{feedbackLink:u}),T.jsx("div",{ref:l,style:{width:"100%",height:1}})]}),T.jsx(Av,{page:t}),T.jsx(Gv,{message:n[n.length-1]||void 0})]})})),NaN),Qv="[object Symbol]",Xv=/^\s+|\s+$/g,eh=/^[-+]0x[0-9a-f]+$/i,th=/^0b[01]+$/i,nh=/^0o[0-7]+$/i,rh=parseInt,uh="object"==v(g)&&g&&g.Object===Object&&g,ah="object"==("undefined"==typeof self?"undefined":v(self))&&self&&self.Object===Object&&self,ih=uh||ah||Function("return this")(),oh=Object.prototype.toString,sh=Math.max,ch=Math.min,lh=function(){return ih.Date.now()};function dh(e){var t=v(e);return!!e&&("object"==t||"function"==t)}function fh(e){return"symbol"==v(e)||function(e){return!!e&&"object"==v(e)}(e)&&oh.call(e)==Qv}function ph(e){if("number"==typeof e)return e;if(fh(e))return Jv;if(dh(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=dh(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Xv,"");var n=th.test(e);return n||nh.test(e)?rh(e.slice(2),n?2:8):eh.test(e)?Jv:+e}var vh=function(e,t,n){var r,u,a,i,o,s,c=0,l=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=r,a=u;return r=u=void 0,c=t,i=e.apply(a,n)}function v(e){var n=e-s;return void 0===s||n>=t||n<0||d&&e-c>=a}function h(){var e=lh();if(v(e))return m(e);o=setTimeout(h,function(e){var n=t-(e-s);return d?ch(n,a-(e-c)):n}(e))}function m(e){return o=void 0,f&&r?p(e):(r=u=void 0,i)}function g(){var e=lh(),n=v(e);if(r=arguments,u=this,s=e,n){if(void 0===o)return function(e){return c=e,o=setTimeout(h,t),l?p(e):i}(s);if(d)return o=setTimeout(h,t),p(s)}return void 0===o&&(o=setTimeout(h,t)),i}return t=ph(t)||0,dh(n)&&(l=!!n.leading,a=(d="maxWait"in n)?sh(ph(n.maxWait)||0,t):a,f="trailing"in n?!!n.trailing:f),g.cancel=function(){void 0!==o&&clearTimeout(o),c=0,r=s=u=o=void 0},g.flush=function(){return void 0===o?i:m(lh())},g},hh=b(vh),mh="_hiddenInput_fp29e_6",gh=function(e){var t=e.disabled,n=e.onChange,r=S.useRef(null);return T.jsxs(wl,{onClick:function(){var e;null===(e=r.current)||void 0===e||e.click()},disabled:t,"aria-label":"upload attachment",children:[T.jsx("input",{type:"file","aria-hidden":!0,accept:os,onChange:function(e){var t=e.target.files;if(t){for(var u=0;u<t.length;u++){if(is.indexOf(t[u].type)<0)return;var a=new FormData;a.append("file",t[u]);var i=as(t[u].type).prefix;if("application/pdf"===t[u].type&&(i="file"),t[u].size>ve.FILE_SIZE)return;n(a,i)}r.current&&(r.current.value="")}},ref:r,tabIndex:-1,"data-testid":"file-input",className:mh}),T.jsx(Uc,{})]})},_h={"emoji-picker":"_emoji-picker_q90rg_19","emoji-picker-wrapper":"_emoji-picker-wrapper_q90rg_42","emoji-picker-rtl":"_emoji-picker-rtl_q90rg_96"},Dh=S.lazy((function(){return Pe((function(){return l.import("./emoji-picker-react.esm-legacy-OdR81PjM.js")}),void 0,l.meta.url)})),bh=function(e){var t=e.onEmojiClick,n=e.visible,r=e.onTogglePicker,u=e.enableRTL,a=void 0!==u&&u,i=e.bottom,o=h(I(),1)[0],s=S.useRef(null),c=S.useMemo((function(){return{searchPlaceholder:o("emojiSearchPlaceholder"),categories:[{name:o("emojiCategorySuggested"),category:"suggested"},{name:o("emojiCategorySmileysPeople"),category:"smileys_people"},{name:o("emojiCategoryAnimalsNature"),category:"animals_nature"},{name:o("emojiCategoryFoodDrink"),category:"food_drink"},{name:o("emojiCategoryTravelPlaces"),category:"travel_places"},{name:o("emojiCategoryActivities"),category:"activities"},{name:o("emojiCategoryObjects"),category:"objects"},{name:o("emojiCategorySymbols"),category:"symbols"},{name:o("emojiCategoryFlags"),category:"flags"}]}}),[o]);return S.useEffect((function(){function e(e){s.current&&!s.current.contains(e.target)&&n&&r()}return document.addEventListener("click",e,!1),function(){document.removeEventListener("click",e,!1)}}),[r,n]),T.jsx("div",{className:[_h["emoji-picker"],a?_h["emoji-picker-rtl"]:""].filter(Boolean).join(" "),"data-testid":"emoji-picker",ref:s,"aria-hidden":!n,"aria-label":"emoji",style:{bottom:i},children:n&&T.jsx(S.Suspense,{fallback:T.jsx(fu,{size:"medium"}),children:T.jsx(Dh,{width:"100%",height:"100%",className:_h["emoji-picker-wrapper"],previewConfig:{showPreview:!1},emojiStyle:"native",onEmojiClick:t,suggestedEmojisMode:"recent",lazyLoadEmojis:!0,autoFocusSearch:!0,searchPlaceholder:c.searchPlaceholder,categories:c.categories})})})},yh=function(e){var t=e.visible,n=e.setVisible,r=e.enableRTL,u=void 0!==r&&r,a=e.bottom,i=e.onSelect;return T.jsx(su,{fallback:T.jsx(T.Fragment,{}),onError:jv,children:T.jsx(bh,{visible:t,bottom:a,onTogglePicker:n,onEmojiClick:i,enableRTL:u})})},Ch=function(e){var t=e.disabled,n=e.onClick;return T.jsx(wl,{onClick:n,disabled:t,"aria-label":"add emoji",children:T.jsx(Wc,{})})},Eh=function(e){var t=e.disabled,n=e.onClick;return T.jsx(wl,{onClick:function(){t||n()},disabled:t,"aria-label":"send message",children:T.jsx(Kc,{})})},Ah="_user-input-area_rldhy_19",Fh="_withSeparator_rldhy_27",xh="_textarea-container_rldhy_31",wh="_action-buttons_rldhy_67",kh=(s("U",(function(e){var t=h(S.useState(!1),2),n=t[0],r=t[1],u=e.enableEmoji,a=e.enableAttachments,i=e.send,o=e.typing,s=e.connected,c=e.enableRTL,l=void 0!==c&&c,d=e.showScreenLoading,f=void 0!==d&&d,p=h(S.useState(""),2),v=p[0],g=p[1],D=Mr(Nr),b=D.chatPlaceholder,y=D.chatAriaLabel,C=h(I(),1)[0],E=h(S.useState(null),2),F=E[0],x=E[1],w=gc(),k=Dc(),B=k.footerVisible,j=k.enableScroll,O=S.useMemo((function(){return{chatPlaceholder:b||C("chatPlaceholder"),chatAriaLabel:y||C("chatAriaLabel")}}),[C,b,y]);S.useEffect((function(){return Gr.setState({userInputAreaRef:F}),w&&!f&&(null==F||F.focus()),function(){Gr.setState({userInputAreaRef:null})}}),[F,w,f]),S.useEffect((function(){v.length>0&&"va"!==Gr.getState().typingMode&&o()}),[v,o]);var N=function(){var e=_(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v.trim()){e.next=2;break}return e.abrupt("return");case 2:r(!1),null==F||F.focus(),i({data:v.trim(),type:"text"}),g("");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=S.useRef(hh((function(){r((function(e){return!e}))}),0)).current,P=function(){var e=_(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.nativeEvent.isComposing){e.next=2;break}return e.abrupt("return");case 2:if("Enter"!==t.key||t.shiftKey){e.next=6;break}return t.preventDefault(),e.next=6,N();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return T.jsx("div",{id:"user-input-area",className:fl(Ah,A({},Fh,!B&&j)),"data-testid":"user-input-area",children:T.jsxs("div",{className:xh,children:[T.jsx(R,{name:"text",ref:function(e){return x(e)},placeholder:O.chatPlaceholder,maxLength:1e3,wrap:"soft",maxRows:4,onChange:function(e){var t=e.target.value;g(t)},value:v,"aria-label":O.chatAriaLabel,onKeyDown:function(e){return P(e)},enterKeyHint:"send",disabled:!s}),T.jsxs("div",{className:wh,children:[a?T.jsx(gh,{disabled:!s,onChange:function(e,t){i({data:e,type:t}),null==F||F.focus()}}):null,u?T.jsx(Ch,{disabled:!s,onClick:L}):null,T.jsx(Eh,{disabled:!s||!v.trim(),onClick:N})]}),u&&T.jsx(yh,{bottom:(null==F?void 0:F.offsetHeight)||48,visible:n,setVisible:L,onSelect:function(e){g((function(t){return"".concat(t).concat(e.emoji)})),null==F||F.focus()},enableRTL:l})]})})})),function(e){return"string"==typeof e?e.toLocaleLowerCase():""}),Bh=function(){var e=_(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(me.test(t)||!t){e.next=3;break}return e.abrupt("return",d.t("customFieldEmailInvalidFormatMessage"));case 3:return e.abrupt("return",!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),jh=function(){var e=_(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ge.test(t)||!t){e.next=3;break}return e.abrupt("return",d.t("customFieldPhoneInvalidFormatMessage"));case 3:return e.abrupt("return",!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Sh="_wrapper_1lklo_19",Th="_submitButton_1lklo_24",Oh="_customButton_1lklo_47",Nh=S.forwardRef((function(e,t){var n=e.trigger,r=e.label,u=e.submitHandle;return T.jsx("div",{className:Oh,children:T.jsx("div",{className:Sh,children:T.jsx("button",{type:"button",className:Th,ref:t,title:r,onClick:function(e){e.preventDefault(),e.stopPropagation(),"start_the_chat"===n&&u()},children:r})})})})),Ih="_ErrorMessage_15cbg_6",Lh=function(e){var t=e.message;return T.jsx("p",{className:Ih,"data-qa":"test-error-message","data-testid":"test-error-message",children:t})},Ph="_isError_1rerd_11",Mh="_isRequired_1rerd_18",Rh="_customDropdown_1dhdt_19",zh="_wrapper_1dhdt_24",Zh="_labelWrapper_1dhdt_32",Uh="_label_1dhdt_32",Vh="_selectContainer_1dhdt_49",Hh="_menu_1dhdt_53",qh="_visible_1dhdt_68",Wh="_option_1dhdt_72",Yh="_selected_1dhdt_87",Gh="_dropdown_1dhdt_92",$h="_placeholder_1dhdt_125",Kh="_text_1dhdt_125",Jh="_arrow_1dhdt_142",Qh="_isActive_1dhdt_147",Xh=function(e){var t=e.options,n=e.onChange,r=e.value,u=e.onBlur,a=e.isError,i=e.label,o=e.name,s=S.useRef(null),c=S.useRef(null),l=S.useRef(!1),d=h(S.useState(!1),2),f=d[0],p=d[1],v=Mr(Nr).customDropdownInputPlaceholder,m=h(I(),1)[0],g=m("customDropdownPlaceholder",{select:v||m("customDropdownInputPlaceholder"),label:kh(i),interpolation:{escapeValue:!1}}),_=function(){p(!f)},D=function(e){return function(){n(e.value),_()}},b=S.useCallback((function(){l.current?l.current=!1:p(!1)}),[]),y=S.useCallback((function(){l.current=!0}),[]);return S.useEffect((function(){return document.addEventListener("click",b),function(){document.removeEventListener("click",b)}}),[b]),T.jsxs("div",{ref:s,className:Vh,onClickCapture:y,children:[T.jsxs("button",{className:fl(Gh,A({},Ph,a)),name:o,type:"button",onClick:_,onBlur:u,"aria-expanded":f,"aria-labelledby":o,children:[r?T.jsx("span",{className:Kh,title:r,children:r}):T.jsx("span",{className:$h,title:g,children:g}),T.jsx(Zc,{className:fl(Jh,A({},Qh,f))})]}),T.jsx("ul",{className:fl(Hh,A({},qh,f)),role:"listbox","aria-labelledby":o,ref:c,children:null==t?void 0:t.map((function(e){return T.jsx("li",{role:"option","aria-selected":r===e.value,title:e.value,className:fl(A({},Yh,r===e.value)),children:T.jsx("button",{className:fl(Wh,A({},Yh,r===e.value)),type:"button",onClick:D(e),children:e.value})},e.key)}))})]})},em=N.forwardRef((function(e,t){var n=e.name,r=e.label,u=e.onChange,a=e.onBlur,i=e.options,o=e.value,s=e.isError,c=e.required,l=h(I(),1)[0];return T.jsx("div",{className:Rh,ref:t,children:T.jsxs("div",{className:zh,children:[T.jsx("div",{className:Zh,children:T.jsxs("span",{className:Uh,id:n,children:[r,c?T.jsx("span",{"aria-label":"required",className:Mh,children:"*"}):null]})}),T.jsx(Xh,{label:r,options:i,onChange:u,onBlur:a,value:o,isError:s,name:n}),s&&T.jsx(Lh,{message:l("customFieldRequiredFormatMessage")})]})})})),tm="_customField_1hlud_19",nm="_wrapper_1hlud_24",rm="_labelWrapper_1hlud_33",um="_label_1hlud_33",am="_inputWrapper_1hlud_49",im="_input_1hlud_49",om="_clear_1hlud_80",sm=N.forwardRef((function(e,t){var n=e.name,r=e.label,u=e.resetField,a=e.onChange,i=e.onBlur,o=e.value,s=e.defaultValue,c=e.isError,l=e.required,d=Mr(Nr),f=d.customFieldInputPlaceholder,p=d.customFieldEmailInvalidFormatMessage,v=h(I(),1)[0];return T.jsx("div",{className:tm,children:T.jsxs("div",{className:nm,children:[T.jsx("div",{className:rm,children:T.jsxs("p",{className:um,id:n,children:[r,l?T.jsx("span",{className:Mh,"aria-label":"required",children:"*"}):null]})}),T.jsxs("div",{className:am,children:[T.jsx("input",{ref:t,value:o||"",autoComplete:"off",className:fl(im,A({},Ph,c)),name:n,onChange:a,onBlur:i,placeholder:f?v("customFieldPlaceholder",{type:f,label:kh(r),interpolation:{escapeValue:!1}}):"","aria-labelledby":n}),o&&o!==s&&T.jsx("button",{"aria-label":"reset ".concat(r),className:om,type:"button",onClick:function(){return u(n,{keepError:!0})},children:T.jsx(Hc,{})})]}),c&&T.jsx(Lh,{message:p||v("customFieldEmailInvalidFormatMessage")})]})})})),cm="_customField_19gzc_19",lm="_wrapper_19gzc_24",dm="_labelWrapper_19gzc_33",fm="_helper_19gzc_39",pm="_label_19gzc_33",vm="_inputWrapper_19gzc_56",hm="_input_19gzc_56",mm="_clear_19gzc_87",gm=N.forwardRef((function(e,t){var n=e.name,r=e.label,u=e.resetField,a=e.onChange,i=e.onBlur,o=e.value,s=e.defaultValue,c=e.isError,l=e.required,d=Mr(Nr),f=d.customFieldPhoneDescription,p=d.customFieldInputPlaceholder,v=d.customFieldPhoneInvalidFormatMessage,m=h(I(),1)[0];return T.jsx("div",{className:cm,children:T.jsxs("div",{className:lm,children:[T.jsx("div",{className:dm,children:T.jsxs("div",{className:pm,id:n,children:[r,l?T.jsx("span",{className:Mh,"aria-label":"required",children:"*"}):null,T.jsx("div",{className:fm,children:f||m("customFieldPhoneDescription")})]})}),T.jsxs("div",{className:vm,children:[T.jsx("input",{ref:t,value:o||"",autoComplete:"off",className:fl(hm,A({},Ph,c)),name:n,onChange:a,onBlur:i,placeholder:p?m("customFieldPlaceholder",{type:p,label:kh(r),interpolation:{escapeValue:!1}}):"","aria-labelledby":n}),o&&o!==s&&T.jsx("button",{"aria-label":"reset ".concat(r),className:mm,type:"button",onClick:function(){return u(n,{keepError:!0})},children:T.jsx(Hc,{})})]}),c&&T.jsx(Lh,{message:v||m("customFieldPhoneInvalidFormatMessage")})]})})})),_m=function(e){var t=e.target,n=e.className,r=void 0===n?"custom-bot":n,u=Mr(Nr),a=u.linkProtocol,i=u.linkTarget;return t?T.jsx(z,{className:r,as:"span",options:{defaultProtocol:a||ye.linkProtocol,target:i||ye.linkTarget,rel:"noopener noreferrer"},children:t}):null},Dm="_customMessage_1bdmg_19",bm="_avatarWrapper_1bdmg_26",ym="_avatarWrapperAlign_1bdmg_42",Cm="_wrapper_1bdmg_46",Em="_messageContent_1bdmg_51",Am="_isBubble_1bdmg_69",Fm=N.forwardRef((function(e,t){var n=e.message,r=e.isBubble,u=Mr(Nr),a=u.botIcon,i=u.botIconVerticalAlign;return T.jsxs("div",{className:Dm,ref:t,children:[r?T.jsx("div",{className:fl(bm,A({},ym,"top"===(i||ye.botIconVerticalAlign))),children:T.jsx(eu,{url:a})}):null,T.jsx("div",{className:Cm,children:T.jsx("div",{className:fl(Em,A({},Am,r)),children:T.jsx(_m,{target:n})})})]})})),xm="_customField_ns1ou_19",wm="_wrapper_ns1ou_24",km="_labelWrapper_ns1ou_33",Bm="_label_ns1ou_33",jm="_inputWrapper_ns1ou_49",Sm="_input_ns1ou_49",Tm="_clear_ns1ou_80",Om=N.forwardRef((function(e,t){var n=e.name,r=e.label,u=e.resetField,a=e.onChange,i=e.onBlur,o=e.value,s=e.defaultValue,c=e.isError,l=e.required,d=Mr(Nr).customFieldInputPlaceholder,f=h(I(),1)[0];return T.jsx("div",{className:xm,children:T.jsxs("div",{className:wm,children:[T.jsx("div",{className:km,children:T.jsxs("p",{className:Bm,id:n,children:[r,l?T.jsx("span",{className:Mh,"aria-label":"required",children:"*"}):null]})}),T.jsxs("div",{className:jm,children:[T.jsx("input",{ref:t,value:o||"",autoComplete:"off",className:fl(Sm,A({},Ph,c)),name:n,onChange:a,onBlur:i,placeholder:d?f("customFieldPlaceholder",{type:d,label:kh(r),interpolation:{escapeValue:!1}}):"","aria-labelledby":n}),o&&o!==s&&T.jsx("button",{"aria-label":"reset ".concat(r),className:Tm,type:"button",onClick:function(){return u(n,{keepError:!0})},children:T.jsx(Hc,{})})]}),c&&T.jsx(Lh,{message:f("customFieldRequiredFormatMessage")})]})})})),Nm="_container_1a188_19",Im="_title_1a188_27",Lm="_subTitle_1a188_41",Pm=function(e){var t=e.title,n=e.subTitle;return t||n?T.jsxs("div",{className:Nm,children:[t&&T.jsx("p",{className:Im,children:T.jsx(_m,{target:t})}),n&&T.jsx("p",{className:Lm,children:T.jsx(_m,{target:n})})]}):null},Mm="_initialScreenWrapper_xd2yg_19",Rm="_initialScreen_xd2yg_19",zm={field_email:Bh,field_number:jh};s("I",S.forwardRef((function(e,t){var n=e.controls,r=e.welcomeMessage,u=e.onSubmitInitialScreen,a=e.defaultValues,i=e.enableValidation,o=e.active,s=e.updateChatFrameHeight,c=S.useRef(!1),l=hc().updateInitialScreenHeight,d=function(){var e=S.useRef(null),t=hc().updateInitialScreenScroll,n=yv(),r=n.headElRef,u=n.footerElRef,a=n.run;return S.useEffect((function(){var n,r=null===(n=e.current)||void 0===n?void 0:n.getElement();if(r)return a({options:{root:r},onHeader:function(e){t({headerVisible:e})},onFooter:function(e){t({footerVisible:e})}})}),[a,t]),{osRef:e,headElRef:r,footerElRef:u}}(),f=d.osRef,p=d.headElRef,v=Z({mode:"onChange",shouldFocusError:!1}),g=v.handleSubmit,D=v.control,b=v.formState.errors,y=v.resetField,C=S.useCallback((function(e){var t,n,r=(n=function(e,t){return!!t},null==(t=e)?t:Object.entries(t).reduce((function(e,r){var u=h(r,2),a=u[0],i=u[1];return n(a,i,t)&&(e[a.toLowerCase()]=i),e}),{})),i=E(E({},a),r);"function"==typeof u&&u(i,c.current)}),[a,u]);return S.useEffect((function(){if(o){var e=n.filter((function(e){return"field"===e.type||"dropdown"===e.type})),t=e.reduce((function(e,t){return e[t.argument]=(null==a?void 0:a[t.argument])||void 0,e}),{});e.length>0&&Object.values(t).every((function(e){return void 0!==e}))?C(a):e.forEach((function(e){return y(e.argument,{defaultValue:null==a?void 0:a[e.argument]})}))}}),[n,y,a,o,C]),S.useEffect((function(){var e,t=null===(e=f.current)||void 0===e?void 0:e.getElement();if(t){var n=new MutationObserver(hh(_(m().mark((function e(){var t;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:t=e.sent,l(t);case 4:case"end":return e.stop()}}),e)}))),100));return n.observe(t,{childList:!0,subtree:!0,attributeFilter:["data-initial-screen-loaded"]}),function(){n.disconnect()}}}),[f,s,l]),o?T.jsx(Hl.page,{className:Mm,children:T.jsx(Dv,{ref:f,className:Rm,options:{scrollbars:{autoHide:"scroll"},overflow:{x:"hidden"}},children:T.jsxs("div",{ref:t,children:[T.jsx("div",{ref:p,style:{width:"100%",height:1}}),T.jsx(Pm,{title:null==r?void 0:r.title,subTitle:null==r?void 0:r.subtitle}),T.jsx("form",{onSubmit:function(e){e.preventDefault(),e.stopPropagation()},"data-testid":"form",children:n.map((function(e){var t=(null==a?void 0:a[e.argument])||"";if("button"===e.type)return T.jsx("div",{children:T.jsx(Nh,{label:e.label,trigger:"start_the_chat",submitHandle:function(){c.current=!0,g(C)()}},e.key)},e.key);if("message"===e.type)return T.jsx("div",{children:T.jsx(Fm,{isBubble:e.isBubble,message:e.value},e.key)},e.key);if("dropdown"===e.type)return T.jsx("div",{children:T.jsx(U,{name:null==e?void 0:e.argument,control:D,rules:{required:null==e?void 0:e.required},defaultValue:t,render:function(t){var n,r=t.field;return T.jsx(em,E(E({},r),{},{label:e.label,options:e.options||[],required:e.required,isError:"required"===(null===(n=b[null==e?void 0:e.argument])||void 0===n?void 0:n.type)}))}})},e.key);if("field"===e.type){if(i&&["field_email","field_number"].includes(e.define)){var n="field_email"===e.define?sm:gm;return T.jsx("div",{children:T.jsx(U,{name:null==e?void 0:e.argument,control:D,rules:{required:null==e?void 0:e.required,validate:["field_email","field_number"].includes(null==e?void 0:e.define)?zm[null==e?void 0:e.define]:void 0},defaultValue:t,render:function(r){var u,a,i=r.field;return T.jsx(n,E(E({},i),{},{defaultValue:t,resetField:y,label:e.label,required:e.required,isError:"required"===(null===(u=b[null==e?void 0:e.argument])||void 0===u?void 0:u.type)||"validate"===(null===(a=b[null==e?void 0:e.argument])||void 0===a?void 0:a.type)}))}})},e.key)}return T.jsx("div",{children:T.jsx(U,{name:null==e?void 0:e.argument,control:D,rules:{required:null==e?void 0:e.required},defaultValue:t,render:function(n){var r,u=n.field;return T.jsx(Om,E(E({},u),{},{defaultValue:t,resetField:y,label:e.label,required:e.required,isError:"required"===(null===(r=b[null==e?void 0:e.argument])||void 0===r?void 0:r.type)}))}})},e.key)}}))})]})})}):T.jsx(T.Fragment,{})}))),s("H",{chat:"_chat_1oxpe_6",isDisabled:"_isDisabled_1oxpe_15",loadingWrapper:"_loadingWrapper_1oxpe_20"})}}}))}();
//# sourceMappingURL=overlayscrollbars-legacy-QmoW_0VN.js.map
