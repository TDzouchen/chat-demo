import{k as o,S as w,T as c,V as C,X as M,c as k,H as l,J as E,D as d,j as m,U as g,I,h as _,K as N,L as P,M as D,N as B}from"./overlayscrollbars-xOREQhpB.js";import{j as t,b as F,R as A}from"./main-vendor-DXirhFg8.js";import"./reporter-vendor-CC1waedv.js";function V(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}/*!
* Talkdesk Confidential
*
* Copyright (C) Talkdesk Inc. 2024
*
* The source code for this program is not published or otherwise divested
* of its trade secrets, irrespective of what has been deposited with the
* U.S. Copyright Office. Unauthorized copying of this file, via any medium
* is strictly prohibited.
*/const L=()=>{},i=async()=>{},R=()=>{const s=o(e=>e.config.participantName),n=w(o.getState()),a=[{index:0,sid:"0",tid:"0",status:"success",alignment:"received",timestamp:1716864558897,formattedTime:"10:40",items:[{type:"text",text:"This is an automatic message"}],role:"system"},{index:1,sid:"1",tid:"1",status:"success",alignment:"received",timestamp:1716864558897,formattedTime:"10:41",items:[{type:"text",text:"This is a virtual agent message"}],role:"va"},{index:2,sid:"2",tid:"2",status:"success",alignment:"received",timestamp:1716864562281,formattedTime:"10:42",items:[{type:"text",text:"This is an agent message"}],role:"agent"},{index:3,sid:"3",tid:"3",status:"success",alignment:"sent",timestamp:1716864562281,formattedTime:"10:43",items:[{type:"text",text:"This is a contact message"}],role:"contact"}];if(n.showTypingIndicatorButton){const e={tid:"TYPING_MESSAGE_ID",sid:"typing",status:"success",alignment:"received",timestamp:0,formattedTime:"",items:[{type:"typing"}],role:"agent"};a.push(e)}if(n.displayAgentsName){const e={sid:"sid",tid:"tid",status:"success",alignment:"received",timestamp:1716864562281,formattedTime:"10:45",role:"system",items:[{type:"system",action_type:"assign",smart_text:{key:"assignMessage",options:{name:"".concat(s||"live agent")}}}]};a.splice(2,0,e)}return s?a.map(e=>({...e,avatar:e.role?c(e.role):"",participantName:e.role?C({role:e.role,agentName:s}):""})):a.map(e=>({...e,avatar:c(e.role||"agent")}))},u=()=>{const{page:s,welcomeMessage:n,controls:a,enableEmoji:e,enableAttachments:r,enableValidation:p,chatTitle:x,chatSubtitle:f,showCloseConversationButton:h,showDownloadTranscriptButton:y,showInitialScreen:v,context:j,isDisabled:T}=M(),S=R();function b(){switch(s){case"InitialScreen":return t.jsx(I,{active:v,welcomeMessage:n,controls:a,enableValidation:p,onSubmitInitialScreen:L,updateChatFrameHeight:()=>Promise.resolve(_),defaultValues:j});case"Conversation":return t.jsxs(t.Fragment,{children:[t.jsx(d,{shouldLoadFeedback:!1,messages:[],page:m.Conversation,feedbackLink:""}),t.jsx(g,{enableEmoji:e,enableAttachments:r,send:i,connected:!1,typing:i})]});case"MockConversation":return t.jsxs(t.Fragment,{children:[t.jsx(d,{shouldLoadFeedback:!1,messages:S,page:m.Conversation,feedbackLink:""}),t.jsx(g,{enableEmoji:e,enableAttachments:r,send:i,connected:!1,typing:i})]})}}return t.jsxs("div",{className:k(l.chat,{[l.isDisabled]:T}),children:[t.jsx(E,{chatTitle:x,chatSubtitle:f,showCloseConversationButton:h,showDownloadTranscriptButton:y}),b()]})};u.whyDidYouRender=!0;function G(){window.location.reload()}function H(){return t.jsx(N,{fallback:t.jsx(P,{onRetry:G}),onError:D,children:t.jsx(B,{children:t.jsx(u,{})})})}async function U(){await o.getState().init();const s=document.getElementById("root");F.createRoot(s).render(t.jsx(A.StrictMode,{children:t.jsx(H,{})}))}U();export{V as __vite_legacy_guard};
//# sourceMappingURL=preview-DV4BKVxh.js.map
