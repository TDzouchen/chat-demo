!function(){function t(r){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(r)}function r(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */r=function(){return n};var e,n={},o=Object.prototype,a=o.hasOwnProperty,i=Object.defineProperty||function(t,r,e){t[r]=e.value},c="function"==typeof Symbol?Symbol:{},u=c.iterator||"@@iterator",s=c.asyncIterator||"@@asyncIterator",l=c.toStringTag||"@@toStringTag";function f(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{f({},"")}catch(e){f=function(t,r,e){return t[r]=e}}function h(t,r,e,n){var o=r&&r.prototype instanceof x?r:x,a=Object.create(o.prototype),c=new A(n||[]);return i(a,"_invoke",{value:S(t,e,c)}),a}function d(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}n.wrap=h;var p="suspendedStart",y="suspendedYield",m="executing",v="completed",g={};function x(){}function b(){}function w(){}var _={};f(_,u,(function(){return this}));var k=Object.getPrototypeOf,j=k&&k(k(F([])));j&&j!==o&&a.call(j,u)&&(_=j);var E=w.prototype=x.prototype=Object.create(_);function L(t){["next","throw","return"].forEach((function(r){f(t,r,(function(t){return this._invoke(r,t)}))}))}function C(r,e){function n(o,i,c,u){var s=d(r[o],r,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==t(f)&&a.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,c,u)}),(function(t){n("throw",t,c,u)})):e.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return n("throw",t,c,u)}))}u(s.arg)}var o;i(this,"_invoke",{value:function(t,r){function a(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(a,a):a()}})}function S(t,r,n){var o=p;return function(a,i){if(o===m)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var u=V(c,n);if(u){if(u===g)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var s=d(t,r,n);if("normal"===s.type){if(o=n.done?v:y,s.arg===g)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=v,n.method="throw",n.arg=s.arg)}}}function V(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,V(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var a=d(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,g;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function T(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function F(r){if(r||""===r){var n=r[u];if(n)return n.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,i=function t(){for(;++o<r.length;)if(a.call(r,o))return t.value=r[o],t.done=!1,t;return t.value=e,t.done=!0,t};return i.next=i}}throw new TypeError(t(r)+" is not iterable")}return b.prototype=w,i(E,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:b,configurable:!0}),b.displayName=f(w,l,"GeneratorFunction"),n.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===b||"GeneratorFunction"===(r.displayName||r.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,f(t,l,"GeneratorFunction")),t.prototype=Object.create(E),t},n.awrap=function(t){return{__await:t}},L(C.prototype),f(C.prototype,s,(function(){return this})),n.AsyncIterator=C,n.async=function(t,r,e,o,a){void 0===a&&(a=Promise);var i=new C(h(t,r,e,o),a);return n.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},L(E),f(E,l,"Generator"),f(E,u,(function(){return this})),f(E,"toString",(function(){return"[object Generator]"})),n.keys=function(t){var r=Object(t),e=[];for(var n in r)e.push(n);return e.reverse(),function t(){for(;e.length;){var n=e.pop();if(n in r)return t.value=n,t.done=!1,t}return t.done=!0,t}},n.values=F,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&a.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=a.call(i,"catchLoc"),s=a.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),T(e),g}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;T(e)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:F(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),g}},n}function e(t,r,e,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void e(t)}c.done?r(u):Promise.resolve(u).then(n,o)}function n(t){return function(){var r=this,n=arguments;return new Promise((function(o,a){var i=t.apply(r,n);function c(t){e(i,o,a,c,u,"next",t)}function u(t){e(i,o,a,c,u,"throw",t)}c(void 0)}))}}function o(t,r){return function(t){if(Array.isArray(t))return t}
/*!
* Talkdesk Confidential
*
* Copyright (C) Talkdesk Inc. 2024
*
* The source code for this program is not published or otherwise divested
* of its trade secrets, irrespective of what has been deposited with the
* U.S. Copyright Office. Unauthorized copying of this file, via any medium
* is strictly prohibited.
*/(t)||function(t,r){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,o,a,i,c=[],u=!0,s=!1;try{if(a=(e=e.call(t)).next,0===r){if(Object(e)!==e)return;u=!1}else for(;!(u=(n=a.call(e)).done)&&(c.push(n.value),c.length!==r);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=e.return&&(i=e.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(t,r)||function(t,r){if(t){if("string"==typeof t)return a(t,r);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?a(t,r):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=Array(r);e<r;e++)n[e]=t[e];return n}System.register(["./main-vendor-legacy-qgJC7JP4.js","./overlayscrollbars-legacy-QmoW_0VN.js","./reporter-vendor-legacy-D6bDuF2G.js"],(function(t,e){"use strict";var a,i,c,u,s;return{setters:[function(t){a=t.j,i=t.r},function(t){c=t.a0,u=t.a1,s=t.a2},null],execute:function(){var e=document.createElement("style");e.textContent="._customImage_dge3f_11,._customVideo_dge3f_11,._customAudio_dge3f_11{max-width:100%;max-height:214px;border-radius:12px;background-color:#fff;box-shadow:0 2px 4px rgba(0,0,0,.04),0 4px 8px rgba(0,0,0,.02)}audio::-webkit-media-controls-enclosure{background:#fff}audio::-webkit-media-controls-play-button{flex:0 0 24px;width:24px;min-width:24px;height:24px;border-radius:50%;background-color:#e9e9e9;background-size:16px}audio::-webkit-media-controls-current-time-display{margin-left:8px}._customAudio_dge3f_11{max-height:44px}._customImage_dge3f_11{cursor:auto}._customFile_dge3f_45{color:var(--user-anchor-text-color, #ffffff);font-size:14px;display:flex;gap:4px}._customFile_dge3f_45>svg{vertical-align:bottom}._customFile_dge3f_45>svg>path{fill:var(--user-anchor-text-color, #ffffff)}._customFile_dge3f_45>span{text-decoration-line:underline}\n",document.head.appendChild(e);var l=function(){return a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[a.jsx("path",{d:"M11 3.99984V11.6665C11 13.1398 9.80669 14.3332 8.33335 14.3332C6.86002 14.3332 5.66669 13.1398 5.66669 11.6665V3.33317C5.66669 2.41317 6.41335 1.6665 7.33335 1.6665C8.25335 1.6665 9.00002 2.41317 9.00002 3.33317V10.3332C9.00002 10.6998 8.70002 10.9998 8.33335 10.9998C7.96669 10.9998 7.66669 10.6998 7.66669 10.3332V3.99984H6.66669V10.3332C6.66669 11.2532 7.41335 11.9998 8.33335 11.9998C9.25335 11.9998 10 11.2532 10 10.3332V3.33317C10 1.85984 8.80669 0.666504 7.33335 0.666504C5.86002 0.666504 4.66669 1.85984 4.66669 3.33317V11.6665C4.66669 13.6932 6.30669 15.3332 8.33335 15.3332C10.36 15.3332 12 13.6932 12 11.6665V3.99984H11Z",fill:"#ffffff"}),a.jsx("mask",{id:"mask0_3460_15772",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"4",y:"0",width:"8",height:"16",children:a.jsx("path",{d:"M11 3.99984V11.6665C11 13.1398 9.80669 14.3332 8.33335 14.3332C6.86002 14.3332 5.66669 13.1398 5.66669 11.6665V3.33317C5.66669 2.41317 6.41335 1.6665 7.33335 1.6665C8.25335 1.6665 9.00002 2.41317 9.00002 3.33317V10.3332C9.00002 10.6998 8.70002 10.9998 8.33335 10.9998C7.96669 10.9998 7.66669 10.6998 7.66669 10.3332V3.99984H6.66669V10.3332C6.66669 11.2532 7.41335 11.9998 8.33335 11.9998C9.25335 11.9998 10 11.2532 10 10.3332V3.33317C10 1.85984 8.80669 0.666504 7.33335 0.666504C5.86002 0.666504 4.66669 1.85984 4.66669 3.33317V11.6665C4.66669 13.6932 6.30669 15.3332 8.33335 15.3332C10.36 15.3332 12 13.6932 12 11.6665V3.99984H11Z",fill:"white"})}),a.jsx("g",{mask:"url(#mask0_3460_15772)"})]})},f="_customImage_dge3f_11",h="_customVideo_dge3f_11",d="_customAudio_dge3f_11",p="_customFile_dge3f_45",y=function(t){return t.startsWith("blob:")?t:"".concat(t,"#t=0.001")};t("default",(function(t){var e=t.type,m=t.url,v=t.getContentTemporaryUrl,g=t.onError,x=t.onMediaLoadedData,b=t.children,w=i.useRef(null),_=i.useRef(null),k=i.useRef(0),j=o(i.useState(m),2),E=j[0],L=j[1],C=i.useRef(0);i.useEffect((function(){var t;"video"===e&&m&&m.startsWith("blob:")&&(null===(t=w.current)||void 0===t||t.load())}),[e,m]);var S=function(){var t=n(r().mark((function t(e){var n,o,a,i;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(g&&g(new Error("failed to load media. Url: ".concat(e.currentTarget.currentSrc))),o=null===(n=e.currentTarget.error)||void 0===n?void 0:n.code,!v||o!==u){t.next=17;break}if(!(C.current>=s)){t.next=5;break}return t.abrupt("return");case 5:return C.current=C.current+1,t.prev=6,t.next=9,v();case 9:(a=t.sent)&&(c=a,w.current&&(L(c),w.current.load(),w.current.play()),r=k.current,w.current&&(w.current.currentTime=r)),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(6),i=new Error("failed to fetch new media url."),g&&g(i);case 17:case"end":return t.stop()}var r,c}),t,null,[[6,13]])})));return function(r){return t.apply(this,arguments)}}(),V=function(){var t=n(r().mark((function t(e){var n,o;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(g&&g(new Error("failed to load image. Url: ".concat(e.currentTarget.currentSrc))),!v){t.next=16;break}if(!(C.current>=s)){t.next=4;break}return t.abrupt("return");case 4:return C.current=C.current+1,t.prev=5,t.next=8,v();case 8:(n=t.sent)&&_.current&&L(n),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(5),o=new Error("failed to fetch new image url."),g&&g(o);case 16:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(r){return t.apply(this,arguments)}}(),O=function(){w.current&&w.current.currentTime&&(k.current=w.current.currentTime)},T=function(){var t=n(r().mark((function t(){var e;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!v){t.next=6;break}return t.next=3,v();case 3:t.t0=t.sent,t.next=7;break;case 6:t.t0=m;case 7:if(e=t.t0){t.next=10;break}return t.abrupt("return");case 10:window.open(e,"_blank");case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),A=function(){null==x||x()};switch(e){case c.Audio:return a.jsxs("audio",{"data-testid":"customAudio",ref:w,className:d,controls:!0,onError:S,onTimeUpdate:O,onLoadedData:A,children:[a.jsx("source",{src:E,type:"audio/mpeg"}),a.jsx("source",{src:E,type:"audio/ogg"}),a.jsx("track",{src:"",kind:"captions",srcLang:"en",label:"english_captions"}),"Your browser does not support the audio tag."]});case c.Video:return a.jsxs("video",{"data-testid":"customVideo",ref:w,className:h,controls:!0,playsInline:!0,onError:S,onTimeUpdate:O,onLoadedData:A,children:[a.jsx("source",{src:y(E),type:"video/mp4"}),a.jsx("track",{src:"",kind:"captions",srcLang:"en",label:"english_captions"}),"Your browser does not support the video tag."]});case c.Image:return a.jsx("img",{src:E,ref:_,alt:"This is an img attachment",onError:V,className:f,onLoad:A});case c.File:return a.jsxs("button",{"data-testid":"customFile","aria-label":"file",className:p,onClick:T,children:[a.jsx(l,{}),a.jsx("span",{children:b})]});default:return a.jsx(a.Fragment,{})}}))}}}))}();
//# sourceMappingURL=MediaMessage-legacy-CKyZG4uE.js.map
